(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[82],{1211:function(e,a,t){"use strict";t.r(a);var n=t(15),s=t(16),r=t(18),l=t(17),i=t(0),c=t.n(i),o=t(99),m=t.n(o),d=t(60),u=t.n(d),p=t(59),h=t(341),b=t(342),f=t(13),E=function(e){var a={};return e.kodeExt||(a.kodeExt="Tidak Boleh Kosong"),e.kodeSales?e.kodeSales.length>5&&(a.kodeSales="Kode Maksimal 5"):a.kodeSales="Tidak Boleh Kosong",e.namaSales?e.namaSales>30&&(a.namaSales="Nama Terlalu Panjang"):a.namaSales="Tidak Boleh Kosong",a},S=t(21),v=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).inputChange=function(e){return function(a){s.setState(Object(p.a)({},e,a.target.value))}},s.state={response:"",kode_salesman:"",nama_salesman:"",rekening_rp:"",rekening_usd:"",plafond:"",kodeExt:"",status:"AKTIF"},s}return Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(h.a,{name:"kodeSales",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:S.a,label:"Kode Salesman",limit:5})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(h.a,{name:"namaSales",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:S.a,label:"Nama Salesman"})),c.a.createElement("div",{className:"col-lg-12 col-md-12 mt-3"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",c.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))}}]),t}(i.Component);v=Object(b.a)({form:"Salesman",validate:E,enableReinitialize:!0})(v);var k=Object(f.b)()(v),g=t(114),j=t(139),O=t.n(j),N=t(12),D=t.n(N),y=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={response:"",kode_salesman:"",nama_salesman:"",rekening_rp:"",rekening_usd:"",plafond:"",kodeExt:"",status:"AKTIF"},s}return Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(h.a,{name:"kodeSales",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:S.a,label:"Kode Salesman",readOnly:!0,limit:5})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(h.a,{name:"namaSales",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:S.a,label:"Nama Salesman"})),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",c.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))}}]),t}(i.Component);y=Object(b.a)({form:"SalesmanEdit",validate:E,enableReinitialize:!0})(y);var x=Object(f.b)((function(e){return{initialValues:{tipeData:e.provinsi.editSalesman.tipeData,namaSales:e.provinsi.editSalesman.namaLokasi,kodeSales:e.provinsi.editSalesman.kodeLokasi,kodeExt:e.provinsi.editSalesman.kodeExt}}}),null)(y),_=t(11),C=t(37),B=t.n(C),T=t(100),A=t.n(T),w=t(5),I=t(25),K=t(23),M=t(101),R=t(48),G=t(141),P=t(20),z=d.Search.SearchBar,F=d.CSVExport.ExportCSVButton;var L=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).updateStatus=function(e){console.log(e),s.setState({response:e}),s.props.dispatch(Object(g.d)())},s.state={Salesman:[],response:"",isEdit:!1,columns:[{dataField:"kode_sales",text:"Kode Salesman",sort:!0,headerStyle:function(){return{width:"15%"}}},{dataField:"nama_sales",text:"Nama Salesman"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a){return c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return e=s.props.dispatch,t=a.kode_sales,void D.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&Object(w.a)("sales/delete/"+t).then((function(){return e(Object(K.g)())})).then((function(a){return Object(I.b)("Data Berhasil Dihapus!").then((function(){return e(Object(g.d)())}))})).catch((function(e){return Object(I.c)("Data Gagal Dihapus!")}))}));var e,t},"data-tut":"reactour_3"},c.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"),c.a.createElement("button",{className:"btn btn-warning","data-tut":"reactour_4",onClick:function(){return s.props.dispatch(Object(g.c)(a.kode_sales,a.nama_sales,s.editModal()))}},c.a.createElement("i",{className:"fa fa-edit mr-2"}),"EDIT"))}}]},s}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(g.d)())}},{key:"handleSubmit",value:function(e){var a=this,t={kode_sales:e.kodeSales,nama_sales:e.namaSales};this.props.dispatch(Object(P.t)()),Object(w.c)("sales/add",t).then((function(){return a.props.dispatch(Object(P.k)())})).then((function(){return a.props.dispatch(Object(K.g)())})).then((function(e){return Object(I.b)("Data Berhasil Ditambah!").then((function(){return Object(I.a)("Data Berhasil Ditambah Di Salesman",t)})).then((function(){return a.props.dispatch(Object(g.d)())})).then((function(){return a.props.dispatch(Object(_.b)("Salesman"))}))})).catch((function(t){return a.handleReactive(t,e.kodeSales,{nama_sales:e.namaSales})}))}},{key:"handleReactive",value:function(e,a,t){var n=this;this.props.dispatch(Object(K.g)()),e.response.data.includes("deleted")?Object(I.d)(e,a,"sales/reactive/",t,"sales/edit/").then((function(){return n.props.dispatch(Object(g.d)())})):Object(I.c)("Data Gagal Ditambahkan")}},{key:"handleEdit",value:function(e){var a=this,t={nama_sales:e.namaSales};this.props.dispatch(Object(P.t)()),Object(w.d)("sales/edit/"+e.kodeSales,t).then((function(){return a.props.dispatch(Object(P.k)())})).then((function(){return a.props.dispatch(Object(K.g)())})).then((function(e){return Object(I.b)("Data Berhasil Diubah!").then((function(){return Object(I.a)("Data Berhasil Diubah Di Salesman",t)})).then((function(){return a.props.dispatch(Object(g.d)())}))})).catch((function(e){return Object(I.c)("Data Gagal Diubah!").then((function(){return Object(I.a)("Data Gagal Diubah Di Salesman",t,e)})).then((function(){return a.props.dispatch(Object(K.g)())}))}))}},{key:"editModal",value:function(){this.props.dispatch(Object(K.j)()),this.setState({isEdit:!0})}},{key:"tambahModal",value:function(){this.props.dispatch(Object(K.j)()),this.setState({isEdit:!1})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),c.a.createElement(G.a,{tourConfig:["Untuk Menambahkan Data Salesman , Tekan Tombol ini Dan Isi kolom yang disediakan","Ini adalah data Salesman  yang sudah tersimpan","Ini adalah tombol untuk menghapus data pada baris yang dipilih","Ini adalah tombol untuk mengubah data pada baris yang dipilih"]}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(R.default,{title:"Data Salesman"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(M.default,{content:this.state.isEdit?c.a.createElement(x,{updateStatus:this.updateStatus,onSubmit:function(a){return e.handleEdit(a)},onSend:this.props.onSend}):c.a.createElement(k,{updateStatus:this.updateStatus,onSubmit:function(a){return e.handleSubmit(a)},onSend:this.props.onSend}),title:this.state.isEdit?"Edit Data Salesman":"Tambah Data Salesman"}),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info",onClick:function(){return e.tambahModal()},"data-tut":"reactour_1"},"Tambah Data Salesman"))),c.a.createElement("div",{className:"col-lg-12","data-tut":"reactour_2"},this.props.salemanList?c.a.createElement(u.a,{keyField:"kodeLokasi",data:this.props.salemanList,columns:this.state.columns,search:!0},(function(e){return c.a.createElement("div",{className:"form-group mt-5 mb-3"},c.a.createElement("div",{className:"text-right"},c.a.createElement(z,Object.assign({},e.searchProps,{className:"form-control",placeholder:"Pencarian",style:{margin:0,top:"50%"}}))),c.a.createElement("hr",null),c.a.createElement(m.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:A()()})),c.a.createElement(F,Object.assign({},e.csvProps,{className:"btn btn-primary"}),"Export CSV"))})):c.a.createElement("div",null,this.props.error?c.a.createElement("div",{className:"text-center"},c.a.createElement("img",{alt:"ERROR GET DATA",src:O.a,style:{width:"30%"}}),c.a.createElement("br",null),c.a.createElement("h4",null,"Request API Gagal, Silahkan Refresh")):c.a.createElement(B.a,{width:"100%",height:300}))))))))}}]),t}(i.Component);a.default=Object(f.b)((function(e){return{salemanList:e.provinsi.salesman,alert:e.provinsi.alert,error:e.provinsi.error,onSend:e.provinsi.onSend}}),null)(L)}}]);
//# sourceMappingURL=82.eb1984b8.chunk.js.map