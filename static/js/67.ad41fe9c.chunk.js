(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[67],{1149:function(t,e,a){"use strict";a.r(e);var n=a(16),r=a(17),i=a(19),s=a(18),c=a(111),l=a.n(c),o=a(0),u=a.n(o),d=a(99),m=a.n(d),h=a(100),b=a.n(h),p=a(59),f=a.n(p),k=a(39),E=a.n(k),g=a(15),v=a(11),N=a(51),O=a(26),S=a(33),j=a(705),F=a(71),A=Object(o.lazy)((function(){return a.e(14).then(a.bind(null,801))})),_=Object(o.lazy)((function(){return Promise.resolve().then(a.bind(null,138))})),y=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://103.119.55.28:7001/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,B=p.Search.SearchBar,P=p.Search.ClearSearchButton,T=function(t){Object(i.a)(a,t);var e=Object(s.a)(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"noBon",text:"Nomor Bon"},{dataField:"namaAktor",text:"Nama Aktor"},{dataField:"bruto",text:"Bruto(Gr)"},{dataField:"rp",text:"Ongkos(RP)"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(t,e){if(-1===Object(j.a)("FakturTerpilih",e.noFaktur))return u.a.createElement("div",{className:"text-center"},u.a.createElement("button",{className:"btn btn-warning mr-2","data-toggle":"modal","data-target":"#validasiModal",onClick:function(t){return r.klikPilih(e)}},u.a.createElement("i",{className:"fa fa-check-circle mr-1"}),"Pilih"))}}],listValidasiBarang:[{tanggal:"2020-12-12",noFaktur:"NOFAKTUR-0001",netto:"100"}]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.props.dispatch(Object(N.b)())}},{key:"klikPilih",value:function(t){this.props.dispatch(Object(O.j)()),this.setState({noFaktur:t.noFaktur,bruto:t.bruto})}},{key:"getData",value:function(){var t=this;l.a.get(y+"cst/dc/lm/heads?statusValid=VALID").then((function(e){return t.setState({listValidasiBarang:e.data.filter((function(t){return"BELI LM"===t.tipeTransaksi&&t.bruto>0}))})}))}},{key:"handleModal",value:function(t){var e=this,a={noFaktur:t.noFaktur,barangDetails:[{bruto:t.jumlah}],footerDocument:{inputBy:this.props.username}};console.log(JSON.stringify(a)),l.a.put(y+"cst/dc/lmoutstand",a).then((function(){return e.props.dispatch(Object(O.g)())})).then((function(){return Object(S.b)("Validasi Stok berhasil \nTerima kasih")})).then((function(){return e.getData()})).catch((function(){return Object(S.c)("Mohon maaf, Sepertinya koneksi internet sedang bermasalah")})),this.props.dispatch(Object(v.b)("FormModalValidasiStok")),this.props.dispatch(Object(N.b)())}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"card"},u.a.createElement(F.default,{title:"Validasi Stok Beli LM"}),u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:this.state.step1},u.a.createElement("div",{className:"col-lg-12 mt-3"},this.state.listValidasiBarang?u.a.createElement(f.a,{keyField:"id",data:this.state.listValidasiBarang,columns:this.state.columns,search:!0},(function(t){return u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"text-right"},u.a.createElement(B,t.searchProps),u.a.createElement(P,t.searchProps)),u.a.createElement(m.a,Object.assign({},t.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:b()()})))})):u.a.createElement(E.a,{width:"100%",height:50,count:5,className:"mb-1"})),u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:"text-right"},u.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.kirimvalidasi(t.state.tipeTransaksi)}},u.a.createElement("i",{className:"fa fa-check mr-3"}),"VALIDASI"))))))))),u.a.createElement(_,{content:u.a.createElement(o.Suspense,{fallback:u.a.createElement(E.a,{width:"100%",height:50,count:5})},u.a.createElement(A,{onSubmit:function(e){return t.handleModal(e)},noFaktur:this.state.noFaktur,bruto:this.state.bruto})),title:""}))}}]),a}(o.Component);e.default=Object(g.b)((function(t){return{username:t.provinsi.username}}),null)(T)},705:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a(12),a(33);var n=function(t,e){return(JSON.parse(localStorage.getItem(t))||[]).findIndex((function(t,a){return t.noFaktur===e}))}}}]);
//# sourceMappingURL=67.ad41fe9c.chunk.js.map