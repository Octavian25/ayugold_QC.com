(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[43],{1173:function(e,t,a){"use strict";a.r(t);var r=a(59),i=a(15),n=a(16),l=a(18),o=a(17),s=a(0),c=a.n(s),p=a(341),u=a(342),d=a(13),h=a(642),g=a.n(h),m=a(100),b=a.n(m),f=a(82),k=a(12),_=a.n(k),v=a(25),S=a(48),O=a(49),j=a(5),E=a(61),x=a(6),y=a(42),N=a(709),F=a(131),A=a(23),T=a(101),B=a(20),I=a(21),R=function(e){var t=e.input,a=e.label,r=e.type,i=e.limit,n=e.readOnly,l=e.meta,o=l.touched,s=l.error,p=l.warning;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"",className:"text-black"},a),c.a.createElement("input",Object.assign({},t,{type:r,className:"form-control",min:"0",step:"0.001",maxLength:i,readOnly:n})),o&&(s&&c.a.createElement("p",{className:"invalid-feedback"},s)||p&&c.a.createElement("p",null,p)))},P=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).disabledButton=function(e){e.target.disabled=!0},n.nextStep=function(){var e=n.state.step;0===e&&n.setState({step:e+1,step2:"row",step1:"row d-none"}),n.props.dispatch(Object(f.h)())},n.prevStep=function(){var e=n.state.step;1===e&&n.setState({step:e-1,step2:"row d-none",step1:"row"})},n.changeInput=function(e){return function(t){n.setState(Object(r.a)({},e,t.target.value))}},n.state={list_supplier:[],columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"no_bon",text:"Nomor Bon"},{dataField:"kode_supplier",text:"Supplier"},{dataField:"keterangan",text:"Keterangan"},{dataField:"total_bruto",text:"Total Bruto",align:"right",headerAlign:"right",formatter:function(e){return Object(x.o)(e)}},{dataField:"total_netto",text:"Total Netto",align:"right",headerAlign:"right",formatter:function(e){return Object(x.o)(e)}},{dataField:"bon_rp",text:"Bon RP",align:"right",headerAlign:"right",formatter:function(e){return Object(x.o)(e)}},{dataField:"titip_gr",text:"Titip Gr",align:"right",headerAlign:"right",formatter:function(e){return Object(x.o)(e)}},{dataField:"titip_rp",text:"Titip Rp",align:"right",headerAlign:"right",formatter:function(e){return Object(x.o)(e)}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t){return c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{className:"btn btn-warning mr-2","data-tut":"reactour_4",type:"button",disabled:"TRANSFER BALANCE"===t.keterangan,onClick:function(){return n.showDetail(t.detail_barang,t.detail_pembayaran,t.detail_titip,t.keterangan)}},"Lihat Detail"))}}],step:0,step1:"row",step2:"row d-none",step3:"row d-none"},n}return Object(n.a)(a,[{key:"showDetail",value:function(e,t,a,r){this.props.dispatch(Object(F.e)(e)),this.props.dispatch(Object(F.g)(t)),this.props.dispatch(Object(F.h)(a)),this.props.dispatch(Object(F.f)(r)),this.props.dispatch(Object(A.j)())}},{key:"componentDidMount",value:function(){localStorage.removeItem("FakturTerpilih"),localStorage.removeItem("trx_supplier"),this.props.dispatch(Object(E.f)())}},{key:"updateButton",value:function(e){switch(e){case"Penerimaan Barang Supplier":this.props.dispatch(Object(f.j)(this.state.kode_supplier,this.state.tanggal));break;case"Return Supplier":this.props.dispatch(Object(f.k)(this.state.kode_supplier,this.state.tanggal));break;case"Tolakan Return Supplier":this.props.dispatch(Object(f.n)(this.state.kode_supplier,this.state.tanggal));break;case"Pembayaran Hutang Supplier":this.props.dispatch(Object(f.i)(this.state.kode_supplier,this.state.tanggal));break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":this.props.dispatch(Object(f.l)());break;default:console.log("ERROR")}}},{key:"changeTransaksi",value:function(){switch(this.state.type_transaksi){case"Penerimaan Barang Supplier":this.props.dispatch(Object(f.j)(this.state.kode_supplier,this.state.tanggal));break;case"Return Supplier":this.props.dispatch(Object(f.k)(this.state.kode_supplier,this.state.tanggal));break;case"Tolakan Return Supplier":this.props.dispatch(Object(f.n)(this.state.kode_supplier,this.state.tanggal));break;case"Pembayaran Hutang Supplier":this.props.dispatch(Object(f.i)(this.state.kode_supplier,this.state.tanggal));break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":this.props.dispatch(Object(f.l)(this.state.kode_supplier,this.state.tanggal));break;default:console.log("ERROR")}}},{key:"sendValidasi",value:function(e){var t=this,a={trx_supplier:JSON.parse(localStorage.getItem("trx_supplier"))||[]};switch(this.props.dispatch(Object(B.t)()),this.state.type_transaksi){case"Penerimaan Barang Supplier":console.log(a),Object(j.d)("validate-supplier/validate",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){t.props.dispatch(Object(f.j)()),t.props.dispatch(Object(B.k)())}))})).catch((function(e){Object(v.c)(null===e||void 0===e?void 0:e.response.data),t.props.dispatch(Object(B.k)())}));break;case"Return Supplier":case"Tolakan Return Supplier":case"Pembayaran Hutang Supplier":Object(j.d)("validate-supplier/validate",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){t.props.dispatch(Object(f.j)()),t.props.dispatch(Object(B.k)())}))})).catch((function(e){Object(v.c)("Verifikasi Gagal , Error : ".concat(e.response.data)),t.props.dispatch(Object(B.k)())}));break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":Object(j.d)("validate-supplier/validate",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){t.props.dispatch(Object(f.j)()),t.props.dispatch(Object(B.k)())}))})).catch((function(e){var a;Object(v.c)(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data),t.props.dispatch(Object(B.k)())}));break;default:console.log("ERROR"),this.props.dispatch(Object(B.k)())}}},{key:"batalValidasi",value:function(e){var t=this,a={trx_supplier:JSON.parse(localStorage.getItem("trx_supplier"))||[]};switch(console.log(this.state.type_transaksi),this.state.type_transaksi){case"Penerimaan Barang Supplier":console.log(a),Object(j.d)("validate-supplier/batal",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Batal Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(v.c)("Batal Validasi Gagal")}));break;case"Return Supplier":case"Tolakan Return Supplier":case"Pembayaran Hutang Supplier":Object(j.d)("validate-supplier/batal",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Batal Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(v.c)("Verifikasi Gagal , Error : ".concat(e.response.data))}));break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":Object(j.d)("validate-supplier/batal",a).then((function(e){return _.a.fire({position:"top-right",icon:"success",text:"Batal Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("trx_supplier")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(v.c)("Batal Validasi Gagal")}));break;default:console.log("ERROR")}}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!0,onSelect:function(e,t,a,r){console.log(e.noFaktur);var i=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],n=JSON.parse(localStorage.getItem("trx_supplier"))||[],l={tanggal:e.tanggal,no_bon:e.no_bon,no_trx:e.no_trx,kode_supplier:e.kode_supplier,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp,keterangan:e.keterangan},o={no_trx:e.no_trx,keterangan:e.keterangan};if(t){var s=i.findIndex((function(t,a){return t.no_trx===e.no_trx})),c=n.findIndex((function(t,a){return t.no_trx===e.no_trx}));s<0?(i.push(l),n.push(o)):(i.splice(s,1),n.splice(c,1)),localStorage.setItem("FakturTerpilih",JSON.stringify(i)),localStorage.setItem("trx_supplier",JSON.stringify(n))}else{var p=i.findIndex((function(t,a){return t.no_trx===e.no_trx})),u=n.findIndex((function(t,a){return t.no_trx===e.no_trx}));i.splice(p,1),n.splice(u,1),localStorage.setItem("FakturTerpilih",JSON.stringify(i)),localStorage.setItem("trx_supplier",JSON.stringify(n))}},onSelectAll:function(e,t,a){var r=[],i=[];t.forEach((function(e){var t={tanggal:e.tanggal,no_bon:e.no_bon,kode_supplier:e.kode_supplier,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp,keterangan:e.keterangan},a={no_trx:e.no_trx,keterangan:e.keterangan};r.push(t),i.push(a)})),e?(localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("trx_supplier",JSON.stringify(i))):(localStorage.removeItem("FakturTerpilih"),localStorage.removeItem("trx_supplier"))}};return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"card"},c.a.createElement(S.default,{title:"Validasi Supplier"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement(g.a,{steps:[{title:"Pilih Data"},{title:"Validasi Data"}],activeStep:this.state.step})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(T.default,{content:c.a.createElement(N.a,null),title:"Detail Validasi"}),c.a.createElement("div",{className:this.state.step1},c.a.createElement("div",{className:"col-lg-3"},c.a.createElement("label",{htmlFor:""},"Pilih Jenis Transaksi"),c.a.createElement(p.a,{name:"tipeTransaksi",label:"Dari",component:"select",className:"form-control",onChange:function(t){e.setState({type_transaksi:t.target.value}),Object(j.b)("validate-supplier/get/supplier-by-jenis-trx/"+t.target.value).then((function(t){return e.setState({list_supplier:t.data})})).catch((function(e){var t;return Object(v.e)(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}},c.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"SILAHKAN PILIH"),c.a.createElement("option",{value:"Penerimaan Barang Supplier",key:"Penerimaan Barang Supplier"},"Penerimaan Barang Supplier"),c.a.createElement("option",{value:"Return Supplier",key:"Return Supplier"},"Return Supplier"),c.a.createElement("option",{value:"Tolakan Return Supplier",key:"Tolakan Return Supplier"},"Tolakan Supplier"),c.a.createElement("option",{value:"Pembayaran Hutang Supplier",key:"Pembayaran Hutang Supplier"},"Pembayaran Hutang Supplier"),c.a.createElement("option",{value:"Titip Supplier",key:"Titip Supplier"},"Titip Supplier"))),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(p.a,{label:"Supplier",name:"kode_supplier",component:I.b,onChange:function(t){return e.setState({kode_supplier:t})},options:this.state.list_supplier.map((function(e){return{value:e.kode_supplier,name:e.nama_supplier}}))})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(p.a,{name:"tanggal",label:"Tanggal Akhir",component:R,type:"date",onChange:this.changeInput("tanggal")})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.changeTransaksi("tipeTransaksi")}},c.a.createElement("i",{className:"fa fa-eye"})," Lihat Data"))),c.a.createElement("div",{className:"col-lg-12 mt-3"},c.a.createElement(O.a,{keyField:"no_bon",data:this.props.listValidasiSupplier,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:b()(),selectRow:t})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.nextStep()}},"Next ",c.a.createElement("i",{className:"fa fa-chevron-right ml-3"}))))),c.a.createElement("div",{className:this.state.step2},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(O.a,{keyField:"no_bon",data:this.props.listDataSelectedValidasiSupplier,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:b()()})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.prevStep()},disabled:this.props.onSend},c.a.createElement("i",{className:"fa fa-chevron-left mr-3"}),"Back"))),c.a.createElement("div",{className:"ml-auto mr-3"},c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.batalValidasi()},disabled:this.props.onSend},c.a.createElement("i",{className:"fa fa-times mr-3"}),this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"BATAL VALIDASI"),c.a.createElement("button",{className:"btn btn-primary ml-2",onClick:function(){return e.sendValidasi()},disabled:this.props.onSend},c.a.createElement("i",{className:"fa fa-check mr-3"}),this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"VALIDASI"))))))))))))}}]),a}(s.Component);P=Object(u.a)({form:"validasiSupplier",enableReinitialize:!0})(P),t.default=Object(d.b)((function(e){return{listValidasiSupplier:e.provinsi.listValidasiSupplier,listDataSelectedValidasiSupplier:e.provinsi.listDataSelectedValidasiSupplier,listSupplier:e.provinsi.supplier,onSend:e.provinsi.onSend,initialValues:{tanggal:Object(y.b)()}}}),null)(P)},642:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=a(649),n=(r=i)&&r.__esModule?r:{default:r};t.default=n.default},709:function(e,t,a){"use strict";var r=a(15),i=a(16),n=a(18),l=a(17),o=a(0),s=a.n(o),c=a(13),p=a(342),u=a(49),d=a(6),h=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={columnsBarang:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"nama_jenis",text:"Nama Model"},{dataField:"kadar_jual",text:"Kode Tukar",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"harga_jual",text:"Kode Tukar",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bruto",text:"Bruto",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"disc",text:"Disc(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"netto",text:"Netto",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"netto_disc",text:"Netto Disc",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"ongkos_rp",text:"Ongkos",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}}],columnsBarangSupplier:[{dataField:"kode_jenis",text:"Kode jenis"},{dataField:"keterangan",text:"Keterangan"},{dataField:"kadar_beli",text:"Kode Awal",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"harga_beli",text:"Harga Beli",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bruto",text:"Bruto",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"disc",text:"Disc(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"netto",text:"Netto",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"netto_disc",text:"Netto Disc",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"ongkos_rp",text:"Ongkos",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}}],columnsPembayaran:[{dataField:"bayar_cash",text:"Bayar Cash(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bayar_trf",text:"Bayar Transfer(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bayar_ciok",text:"Bayar Ciok(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bayar_rongsok",text:"Bayar Rongsok(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bayar_giro",text:"Bayar Giro(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"bayar_titip",text:"Bayar Titip(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"type_bon",text:"Type Bon Bayar"}],columnsTitipan:[{dataField:"total_cash",text:"Bayar Cash(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"total_trf",text:"Bayar Transfer(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"total_ciok",text:"Bayar Ciok(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"total_rongsok",text:"Bayar Rongsok(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(d.o)(e)}},{dataField:"type_bon",text:"Type Bon Titip"}]},i}return Object(i.a)(a,[{key:"render",value:function(){switch(this.props.keterangan){case"PENJUALAN":return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(u.a,{data:this.props.detail_barang,columns:this.state.columnsBarang,keyField:"kode_jenis"})));case"PENERIMAAN":return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(u.a,{data:this.props.detail_barang,columns:this.state.columnsBarangSupplier,keyField:"kode_jenis"})));case"RETUR":case"TOLAKAN CUSTOMER":case"TOLAKAN SUPPLIER":return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(u.a,{data:this.props.detail_barang,columns:this.state.columnsBarang,keyField:"kode_jenis"})));case"PEMBAYARAN":return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(u.a,{data:this.props.detail_pembayaran,columns:this.state.columnsPembayaran,keyField:"bayar_cash"})));case"TAMBAH TITIPAN":return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(u.a,{data:this.props.detail_titip,columns:this.state.columnsTitipan,keyField:"bayar_cash"})))}}}]),a}(o.Component);h=Object(p.a)({form:"DetailValidasi",enableReinitialize:!0})(h),t.a=Object(c.b)((function(e){return{detail_barang:e.detailValidasi.data_barang,detail_pembayaran:e.detailValidasi.data_pembayaran,detail_titip:e.detailValidasi.data_titip,keterangan:e.detailValidasi.keterangan}}))(h)}}]);
//# sourceMappingURL=43.ac55471c.chunk.js.map