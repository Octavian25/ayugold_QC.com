(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[56],{1126:function(a,t,e){"use strict";e.r(t);var r=e(59),o=e(15),n=e(16),s=e(18),l=e(17),i=e(0),c=e.n(i),p=e(13),m=e(88),h=e(12),u=e.n(h),g=e(341),d=e(342),f=e(345),b=e(234),S=e(34),y=e(21),k=e(37),N=e.n(k),v=e(645),B=e(38),E=e(20),O=Object(i.lazy)((function(){return Promise.resolve().then(e.bind(null,101))})),T=Object(i.lazy)((function(){return e.e(1).then(e.bind(null,738))})),R=Object(i.lazy)((function(){return e.e(2).then(e.bind(null,739))})),I=Object(i.lazy)((function(){return e.e(3).then(e.bind(null,745))})),j=Object(i.lazy)((function(){return e.e(7).then(e.bind(null,740))})),C=Object(i.lazy)((function(){return e.e(5).then(e.bind(null,741))})),F=Object(i.lazy)((function(){return e.e(6).then(e.bind(null,742))})),J=Object(i.lazy)((function(){return e.e(4).then(e.bind(null,683))})),_=Object(i.lazy)((function(){return e.e(8).then(e.bind(null,684))})),D=Object(b.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),w=function(a){Object(s.a)(e,a);var t=Object(l.a)(e);function e(a){var n;Object(o.a)(this,e),(n=t.call(this,a)).setTotal=function(a){return function(t){localStorage.setItem([a],t.target.value),n.setTotalBayar()}},n.changeInput=function(a){return function(t){n.setState(Object(r.a)({},a,t.target.value))}};var s=new Date,l="".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate());return n.state={listSupplier:[],tanggal:l,bonBayar:"",detail:"",tanggalInvoice:"",noPembayaran:"",supplier:"",hutangnya:[]},n}return Object(n.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(S.j)()),this.props.dispatch(Object(m.g)()),this.props.dispatch(Object(m.j)()),this.props.change("tanggal",B.b),this.props.change("totalBayar",this.props.totalBayar),this.props.change("totalBayarCash",this.props.totalBayarRp),this.setTotalBayar()}},{key:"handleSubmit",value:function(a){var t=this,e={kode_jenis:a.kodeBarang.split("|")[0],netto:a.netto,bruto:a.bruto,kadar_transaksi:a.kadarTransaksi},r={jenis:"CIOK",gross:a.bruto,harga:"-",kadar:a.kadarTransaksi,netto:parseFloat(a.netto).toFixed(3),pkg:"",gwpkg:""};this.props.dispatch(Object(E.t)());var o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(r),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o));var n=JSON.parse(localStorage.getItem("ciokTemp"))||[];n.push(e),localStorage.setItem("ciokTemp",JSON.stringify(n));var s=JSON.parse(localStorage.getItem("alatBayarCiok"))||[];s.push(e),localStorage.setItem("alatBayarCiok",JSON.stringify(s)),this.props.dispatch(Object(m.g)()),this.setTotalBayar(),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(E.k)())}))}},{key:"handleSubmit2",value:function(a){var t=this,e={kode_jenis:a.kodeBarang.split("|")[0],netto:a.netto,bruto:a.bruto,kadar_transaksi:a.kadarTransaksi},r={jenis:"RONGSOK",gross:a.bruto,harga:"-",kadar:a.kadarTransaksi,netto:parseFloat(a.netto).toFixed(3),pkg:"",gwpkg:""};this.props.dispatch(Object(E.t)());var o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(r),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o));var n=JSON.parse(localStorage.getItem("rongsokTemp"))||[];n.push(e),localStorage.setItem("rongsokTemp",JSON.stringify(n));var s=JSON.parse(localStorage.getItem("alatBayarRosok"))||[];s.push(e),localStorage.setItem("alatBayarRosok",JSON.stringify(s)),this.props.dispatch(Object(m.j)()),this.setTotalBayar(),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(E.k)())}))}},{key:"setCiok",value:function(){this.props.change("ciokBrutto",this.props.totalCiok),this.props.change("ciokNetto",this.props.totalCiok),this.setTotalBayar()}},{key:"setRongsok",value:function(){this.props.change("rongsokBruto",this.props.totalRongsok),this.props.change("rongsokNetto",this.props.totalRongsok),this.props.change("totalBayar",this.props.totalBayar)}},{key:"handleSubmitCash",value:function(a){var t=[],e={cash_rp:a.cash,harga_emas:a.harga,cash_netto:a.cashNetto},r={jenis:"TUNAI",gross:a.cash,harga:a.harga,kadar:"",netto:parseFloat(a.cashNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(r),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),t.push(e),localStorage.setItem("totalTunaiRp",a.cashNetto),localStorage.setItem("alatBayarTunai",JSON.stringify(t)),this.setTotalBayar(),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitCashRp",value:function(a){var t={cash_rp:a.cash,harga_emas:a.harga,cash_netto:a.cashNetto},e=JSON.parse(localStorage.getItem("cashTempRp"))||[];e.push(t),localStorage.setItem("cashTempRp",JSON.stringify(e));var r=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))||[];r.push(t),localStorage.setItem("alatBayarTunaiRp",JSON.stringify(r)),this.props.dispatch(Object(S.k)()),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"handleSubmitTransfer",value:function(a){var t=[],e={harga_emas:a.harga,transfer_netto:a.transferNetto,transfer_rp:a.transfer,acc_from:a.asal,acc_to:a.tujuan,tanggal_transfer:a.tanggal},r={jenis:"TRANSFER",gross:a.transfer,harga:a.harga,kadar:"",netto:parseFloat(a.transferNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(r),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),t.push(e),localStorage.setItem("totalTrfRp",a.transferNetto),localStorage.setItem("alatBayarTrf",JSON.stringify(t)),this.setTotalBayar(),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitTransferRp",value:function(a){console.log(a);var t={harga_emas:a.harga,transfer_netto:a.transferNetto,transfer_rp:a.transfer,acc_from:a.asal,acc_to:a.tujuan,tanggal_transfer:a.tanggal};(JSON.parse(localStorage.getItem("transferTempRp"))||[]).push(t),localStorage.setItem("transferTempRp",JSON.stringify([t])),(JSON.parse(localStorage.getItem("alatBayarTrfRp"))||[]).push(t),localStorage.setItem("alatBayarTrfRp",JSON.stringify([t])),this.props.dispatch(Object(S.l)()),u.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"setTotalBayar",value:function(){var a=localStorage.getItem("totalTunaiRp")||0,t=localStorage.getItem("totalTrfRp")||0,e=localStorage.getItem("totalCiok")||0,r=localStorage.getItem("totalRongsok")||0,o=this.props.tambahan||0;this.props.change("totalCash",a),this.props.change("totalTransfer",t),this.props.change("totalCiok",e),this.props.change("totalRongsok",r),this.props.change("totalBayar",(parseFloat(a)+parseFloat(t)+parseFloat(e)+parseFloat(r)+o).toFixed(3)),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"render",value:function(){var a=this;return c.a.createElement("div",{className:"col-lg-12",style:{color:"black"}},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},"BARANG"===this.props.jenisTransaksi?c.a.createElement(c.a.Fragment,null,c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(I,{onSubmit:function(t){return a.handleSubmitCash(t)}}),c.a.createElement(j,{onSubmit:function(t){return a.handleSubmitTransfer(t)}})),c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(C,{totalCiok:this.props.totalCiok,totalBrutoCiok:this.props.totalBrutoCiok})),c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(F,{totalRongsok:this.props.totalRongsok,totalBrutoRongsok:this.props.totalBrutoRongsok}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(J,{onSubmit:function(t){return a.handleSubmitCashRp(t)}}),c.a.createElement(_,{onSubmit:function(t){return a.handleSubmitTransferRp(t)}}))))),c.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(g.a,{name:"tanggal",label:"Tanggal",type:"date",component:y.a,defaultValue:this.state.tanggal,onChange:this.changeInput("tanggalInvoice")})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(g.a,{name:"supplier",label:"Customer",className:"form-control",component:y.b,options:this.props.customer.map((function(a){return{value:a.kode_customer+"-"+a.nama_customer,name:a.nama_customer}})),defaultValue:"DEFAULT | DEFAULT"})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(g.a,{name:"noBon",label:"Bon Titip",type:"txt",component:y.a,normalize:function(a){return null===a||void 0===a?void 0:a.toUpperCase()},onChange:this.changeInput("noPembayaran")})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(g.a,{name:"detail",label:"Detail",type:"text",component:y.a})),"BARANG"===this.props.jenisTransaksi?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(g.a,{name:"totalCash",label:"Denda",type:"number",component:y.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(g.a,{name:"totalTransfer",label:"Denda",type:"number",component:y.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(g.a,{name:"totalCiok",label:"Denda",type:"number",component:y.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(g.a,{name:"totalRongsok",label:"Denda",type:"number",component:y.a}))))))):null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"BARANG"===this.props.jenisTransaksi?"col-lg-4 col-md-4":"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(g.a,{name:"totalBayar",label:"Total Titip",type:"number",component:y.a}))),c.a.createElement("div",{className:"BARANG"!==this.props.jenisTransaksi?"col-lg-4 col-md-4":"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:""},"Total Bayar Rp"),c.a.createElement(g.a,Object.assign({name:"totalBayarCash",label:"Total Titip Rp",type:"telp",component:"input",className:"form-control",onBlur:this.props.change("totalBayarCash",this.props.totalBayarRp)},D))))))),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-left"})),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",c.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))),c.a.createElement(O,{content:"CIOK"===this.props.tipeBayarModal?c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50,count:5})},c.a.createElement(T,{onSubmit:function(t){return a.handleSubmit(t)},from:"CK",data:this.props.tampungCiok,onSend:this.props.onSend})):c.a.createElement(i.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50,count:5})},c.a.createElement(R,{onSubmit:function(t){return a.handleSubmit2(t)},from:"RSK",data:this.props.tampungRongsok,onSend:this.props.onSend})),title:"CIOK"===this.props.tipeBayarModal?"Tambah Data Ciok":"Tambah Data Rongsok"}))}}]),e}(i.Component);w=Object(d.a)({form:"TitipanSupplierHead",enableReinitialize:!0,validate:v.a})(w);var x=Object(f.a)("TitipanSupplierHead");t.default=Object(p.b)((function(a){var t=x(a,"harga","cash","transfer","totalCash","totalTransfer","totalCiok","totalRongsok","tanggal"),e=t.harga,r=t.cash,o=t.transfer,n=t.totalCash,s=t.totalTransfer,l=t.totalCiok,i=t.totalRongsok,c=t.tanggal,p=JSON.parse(localStorage.getItem("alatBayarTrfRp"))?JSON.parse(localStorage.getItem("alatBayarTrfRp")):0,m=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))?JSON.parse(localStorage.getItem("alatBayarTunaiRp")):0,h=void 0===m[0]?0:m[0].cash_netto,u=void 0===p[0]?0:p[0].transfer_netto;return{tanggal:c,customer:a.provinsi.customer,tipeBayarModal:a.provinsi.tipeBayarModal,onSend:a.provinsi.onSend,cashNetto:(parseFloat(r)/parseFloat(e)).toFixed(3),transferNetto:(parseFloat(o)/parseFloat(e)).toFixed(3),totalBayar:(parseFloat(n)+parseFloat(s)+parseFloat(l)+parseFloat(i)).toFixed(3),totalBayarRp:parseFloat(h)+parseFloat(u),dataHutangSupplier:a.provinsi.dataHutangSupplier}}))(w)},645:function(a,t,e){"use strict";t.a=function(a){var t={};return a.tanggal||(t.tanggal="Tidak Boleh kosong"),a.supplier||(t.supplier="Tidak Boleh kosong"),t}}}]);
//# sourceMappingURL=56.42b6fc1c.chunk.js.map