(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[78],{1144:function(e,a,t){"use strict";t.r(a);var r=t(185),o=t.n(r),n=t(237),s=t(15),i=t(16),l=t(18),c=t(17),u=t(0),m=t.n(u),k=t(12),d=t(7),p=t(43),h=t(11),_=t(343),g=t(344),b=t(347),f=t(33),v=t(336),E=t(88),j=t(23),N=t(5),y=t(50),O=t(147),x=t(49),w=t(6),K=t(19),M=t(236),S=Object(M.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),C=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).changeCustomer=function(){var e=Object(n.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(N.b)("customer/get/by-kode-customer/"+a).then((function(e){return r.setState({customerInfo:e.data,level_customer:e.data.level_customer})})).then((function(){return r.props.change("nama_toko_2","-")})).catch((function(e){return Object(j.e)(e.response.data||"Error komunikasi dengan server")}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),r.changeCustomer2=function(){var e=Object(n.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(N.b)("customer/get/by-kode-customer/"+a).then((function(e){return r.setState({customerInfo2:e.data})})).catch((function(e){return Object(j.e)(e.response.data||"Error komunikasi dengan server")}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),r.state={edit:!1,columns:[{dataField:"nama_toko",text:"Nama Toko",headerStyle:function(){return{width:"10%"}}},{dataField:"kode_customer_1",text:"Kode Toko 1"},{dataField:"kode_customer_2",text:"Kode Toko 2"},{dataField:"nama_jenis",text:"Model Barang",headerStyle:function(){return{width:"10%"}}},{dataField:"kode_tukar_normal",text:"Normal",align:"right",headerAlign:"right",headerStyle:function(){return{width:"10%"}}},{dataField:"return_normal",text:"Return Normal",align:"right",headerAlign:"right",headerStyle:function(){return{width:"10%"}}},{dataField:"kode_tukar_set",text:"Set",align:"right",headerAlign:"right",headerStyle:function(){return{width:"6%"}}},{dataField:"return_rongsok",text:"Return Rongsok",align:"right",headerAlign:"right",headerStyle:function(){return{width:"10%"}}},{dataField:"harga_aksesoris",text:"Aksesoris",align:"right",headerAlign:"right",headerStyle:function(){return{width:"11%"}}},{dataField:"diskon",text:"Diskon",align:"right",headerAlign:"right",headerStyle:function(){return{width:"7%"}}},{dataField:"link",text:"Aksi",csvExport:!1,formatter:function(e,a){return m.a.createElement("div",{className:"text-center row-justify-center"},m.a.createElement("button",{"data-tip":!0,"data-for":"edit",className:"btn btn-success mt-1",onClick:function(){return r.duplikat(a)},"data-tut":"reactour_3"},m.a.createElement("i",{className:"fa fa-clone mr-1"}),m.a.createElement(p.a,{id:"edit",type:"dark",effect:"solid"},m.a.createElement("span",null,"Duplikat")),"Duplikat"),m.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-warning mt-1 ml-2",onClick:function(){return r.edit(a)},"data-tut":"reactour_3"},m.a.createElement("i",{className:"fa fa-edit "}),m.a.createElement(p.a,{id:"hapus",type:"dark",effect:"solid"},m.a.createElement("span",null,"Hapus")),"Edit"))}}]},r}return Object(i.a)(t,[{key:"duplikat",value:function(e){this.props.change("kode_tukar_normal",e.kode_tukar_normal),this.props.change("kode_tukar_set",e.kode_tukar_set),this.props.change("ongkos_reparasi",e.ongkos_reparasi),this.props.change("kode_jenis",e.kode_jenis),this.props.change("return_normal",e.return_normal),this.props.change("return_rongsok",e.return_rongsok),this.props.change("harga_aksesoris",e.harga_aksesoris),Object(O.g)("Duplikasi berhasil")}},{key:"edit",value:function(e){this.props.change("kode_tukar_normal",e.kode_tukar_normal),this.props.change("kode_tukar_set",e.kode_tukar_set),this.props.change("ongkos_reparasi",e.ongkos_reparasi),this.props.change("kode_jenis",e.kode_jenis),this.props.change("nama_toko",e.kode_customer),this.props.change("return_normal",e.return_normal),this.props.change("return_rongsok",e.return_rongsok),this.props.change("harga_aksesoris",e.harga_aksesoris),this.setState({edit:!0})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(v.b)()),this.props.dispatch(Object(E.f)()),this.props.dispatch(Object(f.k)()),this.props.dispatch(Object(E.f)())}},{key:"simpanKelompok",value:function(){var e=this,a={kode_customer:this.props.nama_toko,level_customer:this.state.level_customer,kode_customer_1:this.props.nama_toko_1||"-",kode_customer_2:this.props.nama_toko_2||"-",kode_jenis:this.props.kode_jenis,kode_tukar_normal:this.props.kode_tukar_normal,kode_tukar_set:this.props.kode_tukar_set,return_normal:this.props.return_normal,return_rongsok:this.props.return_rongsok,harga_aksesoris:this.props.harga_aksesoris,diskon:this.props.diskon},t={kode_jenis:this.props.kode_jenis,kode_tukar_normal:this.props.kode_tukar_normal,kode_tukar_set:this.props.kode_tukar_set,return_normal:this.props.return_normal,return_rongsok:this.props.return_rongsok,harga_aksesoris:this.props.harga_aksesoris,diskon:this.props.diskon};console.log(JSON.stringify(a)),this.state.edit?Object(N.e)("kelompok-harga/edit/".concat(this.props.nama_toko,"&").concat(this.props.kode_jenis),t).then((function(){return Object(j.b)("Berhasil Disimpan")})).then((function(){return e.props.dispatch(Object(h.b)("KelompokHarga"))})).then((function(){return e.props.dispatch(Object(v.b)())})).catch((function(e){return Object(j.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))})):Object(N.d)("kelompok-harga/add",a).then((function(){return Object(j.b)("Berhasil Disimpan")})).then((function(){return e.props.dispatch(Object(h.b)("KelompokHarga"))})).then((function(){return e.props.dispatch(Object(v.b)())})).then((function(){return e.setState({edit:!1})})).catch((function(e){return Object(j.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))}))}},{key:"render",value:function(){return m.a.createElement("div",{className:"container-fluid",style:{color:"black"}},m.a.createElement("ol",{className:"breadcrumb mb-2"},m.a.createElement(d.b,{to:"/KlasifikasiBarang"},m.a.createElement("button",{type:"button",className:"btn btn-secondary "},m.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),m.a.createElement("div",{className:"row"},this.kelompokHargaBaru(),m.a.createElement("div",{className:"col-lg-12"},m.a.createElement("div",{className:"card"},m.a.createElement(x.default,{title:"Kelompok Harga"}),m.a.createElement("div",{className:"card-body"},m.a.createElement(y.a,{keyField:"id",data:this.props.KelompokHarga,columns:this.state.columns,search:!0}))))))}},{key:"kelompokHargaBaru",value:function(){var e=this;return m.a.createElement("div",{className:"col-lg-12"},m.a.createElement("div",{className:"card"},m.a.createElement("div",{className:"card-body"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-lg-12 text-center"},m.a.createElement("h2",null,"Tambah Kelompok Harga")),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"nama_toko",component:K.b,options:this.props.kodeCustomer.map((function(e){return{value:e.kode_customer,name:e.nama_toko}})),onChange:function(a){return e.changeCustomer(a)},type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko"})),m.a.createElement("div",{className:"LEVEL2"===this.state.level_customer||"LEVEL3"===this.state.level_customer?"col-lg-3":"col-lg-3 d-none"},m.a.createElement(_.a,{name:"nama_toko_1",component:K.b,options:this.props.kodeCustomer.filter((function(e){return"LEVEL1"===e.level_customer})).map((function(e){return{value:e.kode_customer,name:e.nama_toko}})),type:"text",label:"Nama Toko Level 1",placeholder:"Masukan Nama Toko Level 1"})),m.a.createElement("div",{className:"LEVEL3"===this.state.level_customer?"col-lg-3":"col-lg-3 d-none"},m.a.createElement(_.a,{name:"nama_toko_2",component:K.b,options:this.props.kodeCustomer.filter((function(e){return"LEVEL2"===e.level_customer})).map((function(e){return{value:e.kode_customer,name:e.nama_toko}})),onChange:function(a){return e.changeCustomer2(a)},type:"text",label:"Nama Toko Level 2",placeholder:"Masukan Nama Toko Level 2"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"kode_jenis",component:K.b,options:this.props.kodeBarang.map((function(e){return{value:e.kode_jenis,name:e.nama_jenis}})),label:"Model Barang",placeholder:"Masukan Model Barang"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"kode_tukar_normal",component:K.a,normalize:w.b,label:"Kode Tukar Normal",placeholder:"Masukan Kode Tukar Normal"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"kode_tukar_set",component:K.a,normalize:w.b,label:"Kode Tukar Set",placeholder:"Masukan Kode Tukar Set"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"return_normal",component:K.a,normalize:w.b,label:"Return Normal",placeholder:"Masukan Return Normal"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"return_rongsok",component:K.a,normalize:w.b,label:"Return Rongsok",placeholder:"Masukan Return Rongsok"})),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,Object.assign({name:"harga_aksesoris",component:K.a,normalize:w.b,label:"Harga Aksesoris",placeholder:"Masukan Harga Aksesoris"},S))),m.a.createElement("div",{className:"col-lg-3"},m.a.createElement(_.a,{name:"diskon",component:K.a,normalize:w.b,label:"Diskon %",placeholder:"Masukan Diskon"})),m.a.createElement("div",{className:"col-lg-12 mt-3"},m.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e.simpanKelompok()}},"Selesai"))))))}}]),t}(u.Component);C=Object(g.a)({form:"KelompokHarga"})(C);var D=Object(b.a)("KelompokHarga");a.default=Object(k.b)((function(e){var a=D(e,"nama_toko","nama_toko_1","nama_toko_2","kode_tukar_normal","kode_tukar_set","ongkos_reparasi","kode_jenis","harga_aksesoris","return_normal","return_rongsok","diskon"),t=a.kode_jenis,r=a.nama_toko,o=a.nama_toko_1,n=a.nama_toko_2,s=a.kode_tukar_normal,i=a.kode_tukar_set,l=a.ongkos_reparasi,c=a.return_rongsok,u=a.return_normal,m=a.harga_aksesoris,k=a.diskon;return{KelompokHarga:e.provinsi.kelompokHarga,customerInfo:e.provinsi.customerInfo,kodeBarang:e.provinsi.kodeBarang,kodeCustomer:e.provinsi.customer,nama_toko_1:o,kode_jenis:t,nama_toko_2:n,kode_tukar_normal:s,kode_tukar_set:i,ongkos_reparasi:l,nama_toko:r,harga_aksesoris:m,return_normal:u,return_rongsok:c,diskon:k}}))(C)}}]);
//# sourceMappingURL=78.29940cd7.chunk.js.map