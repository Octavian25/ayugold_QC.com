(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[117,176],{1160:function(a,e,t){"use strict";t.r(e);var r=t(80),n=t(81),i=t(83),c=t(82),s=t(62),l=t.n(s),o=t(0),u=t.n(o),d=t(483),m=t.n(d),h=t(508),f=t.n(h),b=t(509),p=t.n(b),E=t(54),g=t.n(E),v=t(29),k=t(303),y=t(195),S=t(37),N=t(191),O=t(667),A=t(477),j=Object(o.lazy)((function(){return Promise.all([t.e(6),t.e(26),t.e(27)]).then(t.bind(null,771))})),F=Object(o.lazy)((function(){return Promise.all([t.e(3),t.e(5)]).then(t.bind(null,516))})),C=Object({NODE_ENV:"production",PUBLIC_URL:"/ayugold_QC.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://188.166.254.162:4002/api/v1/",REACT_APP_BACKEND_URLLOCAL:"http://192.168.1.27:7002/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,P=b.Search.SearchBar,_=b.Search.ClearSearchButton,T=function(a){Object(i.a)(t,a);var e=Object(c.a)(t);function t(a){var n;return Object(r.a)(this,t),(n=e.call(this,a)).state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"noBon",text:"Nomor Bon"},{dataField:"namaAktor",text:"Nama Aktor"},{dataField:"bruto",text:"Bruto(Gr)"},{dataField:"rp",text:"Ongkos(RP)"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(a,e){if(-1===Object(O.a)("FakturTerpilih",e.noFaktur))return u.a.createElement("div",{className:"text-center"},u.a.createElement("button",{className:"btn btn-warning mr-2","data-toggle":"modal","data-target":"#validasiModal",onClick:function(a){return n.klikPilih(e)}},u.a.createElement("i",{className:"fa fa-check-circle mr-1"}),"Pilih"))}}],listValidasiBarang:[{tanggal:"2020-12-12",noFaktur:"NOFAKTUR-0001",netto:"100"}]},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.props.dispatch(Object(y.b)())}},{key:"klikPilih",value:function(a){this.props.dispatch(Object(S.j)()),this.setState({noFaktur:a.noFaktur,bruto:a.bruto})}},{key:"getData",value:function(){var a=this;l.a.get(C+"cst/dc/lm/heads?statusValid=VALID").then((function(e){return a.setState({listValidasiBarang:e.data.filter((function(a){return"BELI LM"===a.tipeTransaksi&&a.bruto>0}))})}))}},{key:"handleModal",value:function(a){var e=this,t={noFaktur:a.noFaktur,barangDetails:[{bruto:a.jumlah}],footerDocument:{inputBy:this.props.username}};console.log(JSON.stringify(t)),l.a.put(C+"cst/dc/lmoutstand",t).then((function(){return e.props.dispatch(Object(S.g)())})).then((function(){return Object(N.b)("Validasi Stok berhasil \nTerima kasih")})).then((function(){return e.getData()})).catch((function(){return Object(N.c)("Mohon maaf, Sepertinya koneksi internet sedang bermasalah")})),this.props.dispatch(Object(k.a)("FormModalValidasiStok")),this.props.dispatch(Object(y.b)())}},{key:"render",value:function(){var a=this;return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"card"},u.a.createElement(A.default,{title:"Validasi Stok Beli LM"}),u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:this.state.step1},u.a.createElement("div",{className:"col-lg-12 mt-3"},this.state.listValidasiBarang?u.a.createElement(p.a,{keyField:"id",data:this.state.listValidasiBarang,columns:this.state.columns,search:!0},(function(a){return u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"text-right"},u.a.createElement(P,a.searchProps),u.a.createElement(_,a.searchProps)),u.a.createElement(m.a,Object.assign({},a.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:f()()})))})):u.a.createElement(g.a,{width:"100%",height:50,count:5,className:"mb-1"})),u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:"text-right"},u.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a.kirimvalidasi(a.state.tipeTransaksi)}},u.a.createElement("i",{className:"fa fa-check mr-3"}),"VALIDASI"))))))))),u.a.createElement(F,{content:u.a.createElement(o.Suspense,{fallback:u.a.createElement(g.a,{width:"100%",height:50,count:5})},u.a.createElement(j,{onSubmit:function(e){return a.handleModal(e)},noFaktur:this.state.noFaktur,bruto:this.state.bruto})),title:""}))}}]),t}(o.Component);e.default=Object(v.b)((function(a){return{username:a.provinsi.username}}),null)(T)},303:function(a,e,t){"use strict";t.d(e,"a",(function(){return n}));var r=t(19),n=(r.a.arrayInsert,r.a.arrayMove,r.a.arrayPop,r.a.arrayPush,r.a.arrayRemove,r.a.arrayRemoveAll,r.a.arrayShift,r.a.arraySplice,r.a.arraySwap,r.a.arrayUnshift,r.a.autofill,r.a.blur,r.a.change,r.a.clearAsyncError,r.a.clearFields,r.a.clearSubmit,r.a.clearSubmitErrors,r.a.destroy,r.a.focus,r.a.initialize,r.a.registerField,r.a.reset);r.a.resetSection,r.a.setSubmitFailed,r.a.setSubmitSucceeded,r.a.startAsyncValidation,r.a.startSubmit,r.a.stopAsyncValidation,r.a.stopSubmit,r.a.submit,r.a.touch,r.a.unregisterField,r.a.untouch,r.a.updateSyncWarnings,r.a.updateSyncErrors},477:function(a,e,t){"use strict";t.r(e);var r=t(80),n=t(81),i=t(83),c=t(82),s=t(0),l=t.n(s),o=t(481),u=function(a){Object(i.a)(t,a);var e=Object(c.a)(t);function t(){return Object(r.a)(this,t),e.apply(this,arguments)}return Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card-header mb-3",style:{fontSize:30,backgroundColor:"#394867",borderTopLeftRadius:10,borderTopRightRadius:10,color:"#ffffff"}},l.a.createElement("div",{className:"row my-auto"},l.a.createElement("div",{className:"col-lg-10 my-auto"},l.a.createElement("h4",{style:{fontSize:25,color:"#ffffff"}},this.props.title)),l.a.createElement("div",{className:"col-lg-2 text-right my-auto"},l.a.createElement(o.a,{id:"reload",type:"dark",effect:"solid"},l.a.createElement("span",null,"Reload")),l.a.createElement("button",{"data-tip":!0,"data-for":"reload",className:"btn btn-success btn-small btn-circle my-auto",onClick:function(){return window.location.reload()}},l.a.createElement("i",{className:"fa fa-retweet"})))))}}]),t}(s.Component);e.default=u},667:function(a,e,t){"use strict";t.d(e,"a",(function(){return r}));t(9),t(191);var r=function(a,e){return(JSON.parse(localStorage.getItem(a))||[]).findIndex((function(a,t){return a.noFaktur===e}))}}}]);
//# sourceMappingURL=117.bdadd9cf.chunk.js.map