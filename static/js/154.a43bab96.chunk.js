(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[154],{1201:function(e,a,t){"use strict";t.r(a);var n=t(15),o=t(16),l=t(18),r=t(17),s=t(0),c=t.n(s),i=t(12),m=t(343),d=t(344),p=t(347),u=t(236),k=t(19),g=t(37),b=t.n(g),h=t(88),v=t(6),E=t(5),y=t(23),f=Object(u.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),N=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var o;return Object(n.a)(this,t),(o=a.call(this,e)).state={kodeBarang:[],non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"},o}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.f)())}},{key:"onclick1",value:function(){this.props.change("netto",this.props.netto),this.props.change("noFaktur",this.props.noFaktur),this.props.change("gross",this.props.gross),this.props.change("discGlobalGr",this.props.discGlobalGr),this.props.change("nettoDiscGlobalExt",(this.props.netto-this.props.discGlobalGr).toFixed(3))}},{key:"pilihBarang",value:function(e){var a=this,t=e,n=this.props.KodeBarangList.filter((function(e){return e.kode_jenis===t})),o=localStorage.getItem("customer_1")||"-";Object(E.b)("/kelompok-harga/get/by-jenis-and-customer/".concat(o,"&").concat(e,"&").concat("SALES"===this.props.lokasi?this.props.sales:this.props.lokasi)).then((function(e){var t,o,l,r,s,c,i,m,d;return(null===(t=e.data)||void 0===t?void 0:t.total_netto)<1?(Object(y.e)("Stock Barang Kurang Dari 1"),a.props.change("kodeBarang"),!1):void 0===(null===(o=e.data)||void 0===o?void 0:o.kode_tukar_normal)||"undefined"===(null===(l=e.data)||void 0===l?void 0:l.kode_tukar_normal)?(Object(y.e)("Kode Tukar Belum Ditentukan ,Mohon tentukan Kode Tukar di menu kelompok harga"),a.props.change("kodeBarang"),!1):("AKSESORIS"===(null===(r=e.data)||void 0===r?void 0:r.kode_kelompok)?a.setState({non_aksesoris:"col-lg-12 row d-none",aksesoris:"col-lg-12 row"}):a.setState({non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"}),a.setState({kodeJenis:n[0].kode_jenis,namaJenis:n[0].nama_jenis,kadarCetak:null===(s=e.data)||void 0===s?void 0:s.kode_tukar_normal,kadarJual:null===(c=e.data)||void 0===c?void 0:c.kode_tukar_normal,kodeKategori:null===(i=e.data)||void 0===i?void 0:i.kode_kategori,namaKategori:null===(m=e.data)||void 0===m?void 0:m.nama_kategori,harga_jual:(null===(d=e.data)||void 0===d?void 0:d.harga_aksesoris)||0}),a.setKadar(),void Object(v.w)("Plastik"))}))}},{key:"setKadar",value:function(){this.props.change("keterangan",this.state.namaJenis),this.props.change("kadar",this.state.kadarCetak),this.props.change("kadarTransaksi",this.state.kadarJual),this.props.change("kodeKategori",this.state.kodeKategori),this.props.change("namaKategori",this.state.namaKategori),this.props.change("harga_jual",this.state.harga_jual)}},{key:"setBruto",value:function(){this.props.change("bruto",localStorage.getItem("Timbangan"))}},{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(m.a,{name:"noFaktur",label:this.props.noFaktur,type:"text",readOnly:!0,component:k.a,defaultValue:this.props.noFaktur,normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},""!==String(this.props.KodeBarangList)?c.a.createElement(m.a,{name:"kodeBarang",label:"Kode Model",component:k.b,disabled:!0,className:"form-control",onChange:function(a){return e.pilihBarang(a)},options:this.props.KodeBarangList.filter((function(e){return"PERHIASAN"===e.kode_kelompok||"AKSESORIS"===e.kode_kelompok})).map((function(e){return{value:e.kode_jenis,name:e.nama_jenis}}))}):c.a.createElement(b.a,{width:"100%",height:50})),c.a.createElement("div",{className:"col-md-4 col-lg-4 d-none"},c.a.createElement(m.a,{name:"kode_barocde",label:"Kode Barcode",type:"text",component:k.a,placeholder:"Biarkan Kosong jika Tidak Digunakan",normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:(this.state.aksesoris,"col-md-3 col-lg-3 d-none")},c.a.createElement(m.a,{name:"kadar",label:"Kode Tukar",type:"number",component:k.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"kodeKategori",label:"Kode Tukar",type:"number",component:k.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"kode_kategori",label:"Kode Kategori",type:"text",component:k.a})),c.a.createElement("div",{className:this.state.non_aksesoris},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(m.a,{name:"keterangan",label:"Keterangan",type:"text",component:k.a,normalize:function(e){return null===e||void 0===e?void 0:e.toUpperCase()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"namaKategori",label:"Kode Tukar",type:"number",component:k.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"p",label:"Plastik",type:"number",component:k.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"k",label:"Kertas",type:"number",component:k.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"pkg",label:"Pkg (Gr)",type:"number",component:k.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"bruto",label:"Berat (Gr)",type:"number",component:k.a,onChange:this.onclick1()})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"kadarTransaksi",label:"Kode Tukar",type:"number",component:k.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"netto",label:"Netto (Gr)",type:"number",component:k.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"gross",label:"Gross (Gr)",type:"number",component:k.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"discGlobalPr",label:"Diskon (%)",type:"number",component:k.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"discGlobalGr",label:"Diskon (Gr)",type:"number",component:k.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"nettoDiscGlobalExt",label:"Netto - Diskon (Gr)",type:"number",component:k.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),c.a.createElement(m.a,Object.assign({name:"rp",component:"input",type:"tel",className:"form-control"},f)))),c.a.createElement("div",{className:this.state.aksesoris},c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(m.a,{name:"qty",label:"Qty",type:"number",component:k.a})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(m.a,Object.assign({name:"harga_jual",label:"Harga Jual",type:"telp",component:k.a},f)))),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{type:"submit",disabled:this.props.onSend,className:"btn btn-primary"},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan",c.a.createElement("i",{className:"fa fa-paper-plane ml-3"}))))))}}]),t}(s.Component);N=Object(d.a)({form:"FormTransaksiPenjualanEdit",enableReinitialize:!0})(N);var _=Object(p.a)("FormTransaksiPenjualanEdit");a.default=Object(i.b)((function(e){var a=_(e,"bruto","kadarTransaksi","pkg","discGlobalPr"),t=a.bruto,n=a.kadarTransaksi,o=a.pkg,l=a.discGlobalPr;return{netto:(parseFloat(t||0)*(parseFloat(n||0)/100)).toFixed(3),gross:parseFloat(t||0)+parseFloat(o||0),discGlobalGr:(parseFloat(t||0)*(parseFloat(l||0)/100)).toFixed(3),KodeBarangList:e.provinsi.kodeBarang,onSend:e.provinsi.onSend}}))(N)}}]);
//# sourceMappingURL=154.a43bab96.chunk.js.map