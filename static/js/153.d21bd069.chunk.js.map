{"version":3,"sources":["Transaksi/Component/FormTranskasiPenjualan.jsx"],"names":["currencyMask","createNumberMask","prefix","suffix","locale","FormTransaksiPenjualan","props","handleBarcode","e","clearTimeout","delay","setTimeout","hasil","target","value","length","AxiosMasterGet","then","res","total_berat_set","data","detail_barang","map","parseFloat","netto","reduce","a","b","forEach","handleBarcodeSet","kode_barcode_set","harga_jual","qty","split","change","setState","kodeJenis","kadarCetak","kadarJual","state","kodeBarang","non_aksesoris","aksesoris","stockBruto","stockNetto","this","dispatch","getListBarang","bruto","warning","noFaktur","gross","discGlobalGr","toFixed","param","KodeBarangList","filter","kode_jenis","customer","localStorage","getItem","total_netto","undefined","kode_tukar_normal","kode_kelompok","namaJenis","nama_jenis","kodeKategori","kode_kategori","namaKategori","nama_kategori","diskon","harga_aksesoris","total_bruto","setKadar","setFocus","catch","err","response","barcode","jumlah_barang","console","log","kode_tukar_2","kode_tukar_3","customer_2","level_customer","kodeCustomer","customer_3","simpan_nota_1","JSON","parse","simpan_nota_2","simpan_nota_3","nota_gambar","posisi","findIndex","posisi_2","posisi_3","push","lokasi_gambar","image","setItem","stringify","nota_1","netto_disc","ongkos_rp","rp","toLocaleString","disc","disc_persen","kode_tukar","kadarTransaksi","keterangan","jumlah_barang_set","total_berat_barang_set","nota_2","nota_3","splice","nota_1_else","nota_2_else","nota_3_else","simpan","k","kadar_cetak","toString","kadar_jual","kadar_level2","level2","kadar_level3","level3","kadar_modal","kode_barcode","p","pkg","simpan_level2","calculate_barcode_level2","simpan_level3","calculate_barcode_level3","array","array_level2","array_level3","GrandTotalNetto","list","Swal","fire","position","icon","text","showConfirmButton","timer","getListTransaksiPenjualan","getTotalNW","reset","getNetto","hideModal","discGlobalPr","gagal","onSubmit","handleSubmit","className","name","label","type","readOnly","component","renderField","defaultValue","normalize","toUpperCase","String","renderFieldSelect","onChange","pilihBarang","onBlur","options","kode","width","height","placeholder","onclick1","htmlFor","disabled","onSend","aria-hidden","Component","reduxForm","form","enableReinitialize","selector","formValueSelector","connect","provinsi","initialValues"],"mappings":"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","file":"static/js/153.d21bd069.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, formValueSelector, reset } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport {\r\n  calculate_barcode_level2,\r\n  calculate_barcode_level3,\r\n  setFocus,\r\n} from \"../../helper\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getListTransaksiPenjualan } from \"../../actions/transaksiPenjualanAction\";\r\nimport { getTotalNW } from \"../../actions/returnPenjualanAction\";\r\nimport { gagal, warning } from \"../../Alert\";\r\nimport { getNetto } from \"../../actions/LogicAction\";\r\nimport { hideModal } from \"../../actions/ModalAction\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass FormTransaksiPenjualan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      kodeBarang: [],\r\n      non_aksesoris: \"col-lg-12 row\",\r\n      aksesoris: \"col-lg-12 row d-none\",\r\n      stockBruto: 0,\r\n      stockNetto: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    // getTimbangan(this.props.change);\r\n  }\r\n\r\n  onclick1() {\r\n    if (this.state.stockBruto < this.props.bruto) {\r\n      warning(\r\n        `Barang Tersedia Hanya ${this.state.stockBruto} , Mohon kurangi atau tambahkan stock dahulu`\r\n      );\r\n      return false;\r\n    }\r\n    this.props.change(\"netto\", this.props.netto);\r\n    this.props.change(\"noFaktur\", this.props.noFaktur);\r\n    this.props.change(\"gross\", this.props.gross);\r\n    this.props.change(\"discGlobalGr\", this.props.discGlobalGr);\r\n    this.props.change(\r\n      \"nettoDiscGlobalExt\",\r\n      (this.props.netto - this.props.discGlobalGr).toFixed(3)\r\n    );\r\n  }\r\n\r\n  pilihBarang(data) {\r\n    let param = data;\r\n    let hasil = this.props.KodeBarangList.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    let customer = localStorage.getItem(\"customer_1\") || \"-\";\r\n    AxiosMasterGet(`kelompok-harga/get/${customer}&-&${data}&PUSAT`)\r\n      .then((res) => {\r\n        if (res.data?.total_netto < 1) {\r\n          warning(\"Stock Barang Kurang Dari 1\");\r\n          this.props.change(\"kodeBarang\");\r\n          return false;\r\n        }\r\n        if (\r\n          res.data?.kode_tukar_normal === undefined ||\r\n          res.data?.kode_tukar_normal === \"undefined\"\r\n        ) {\r\n          warning(\r\n            \"Kode Tukar Belum Ditentukan ,Mohon tentukan Kode Tukar di menu kelompok harga\"\r\n          );\r\n          this.props.change(\"kodeBarang\");\r\n          return false;\r\n        }\r\n        if (res.data?.kode_kelompok === \"AKSESORIS\") {\r\n          this.setState({\r\n            non_aksesoris: \"col-lg-12 row d-none\",\r\n            aksesoris: \"col-lg-12 row\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            non_aksesoris: \"col-lg-12 row\",\r\n            aksesoris: \"col-lg-12 row d-none\",\r\n          });\r\n        }\r\n        this.setState({\r\n          kodeJenis: hasil[0].kode_jenis,\r\n          namaJenis: res.data?.nama_jenis,\r\n          kadarCetak: res.data?.kode_tukar_normal,\r\n          kadarJual: res.data?.kode_tukar_normal,\r\n          kodeKategori: res.data?.kode_kategori,\r\n          namaKategori: res.data?.nama_kategori,\r\n          diskon: res.data?.diskon || 0,\r\n          harga_jual: res.data?.harga_aksesoris || 0,\r\n          stockBruto: res.data?.total_bruto,\r\n          stockNetto: res.data?.total_netto,\r\n        });\r\n        this.setKadar();\r\n        setFocus(\"Plastik\");\r\n      })\r\n      .catch((err) =>\r\n        warning(err.response.data ?? \"Data Kelompok Harga Tidak Ditemukan\")\r\n      );\r\n  }\r\n\r\n  setKadar() {\r\n    this.props.change(\"keterangan\", this.state.namaJenis);\r\n    this.props.change(\"kadar\", this.state.kadarCetak);\r\n    this.props.change(\"kadarTransaksi\", this.state.kadarJual);\r\n    this.props.change(\"kodeKategori\", this.state.kodeKategori);\r\n    this.props.change(\"namaKategori\", this.state.namaKategori);\r\n    this.props.change(\"harga_jual\", this.state.harga_jual);\r\n    this.props.change(\"discGlobalPr\", this.state.diskon);\r\n  }\r\n\r\n  setBruto() {\r\n    this.props.change(\"bruto\", localStorage.getItem(\"Timbangan\"));\r\n  }\r\n\r\n  handleBarcode = () => (e) => {\r\n    clearTimeout(this.delay);\r\n    this.delay = setTimeout(() => {\r\n      let hasil = e.target.value;\r\n      if (hasil.length === 14) {\r\n        AxiosMasterGet(\r\n          \"barang-set/get-by-kode-barcode-set-active/\" + hasil\r\n        ).then((res) => {\r\n          let total_berat_set = res.data.detail_barang\r\n            .map((data) => parseFloat(data.netto))\r\n            .reduce((a, b) => a + b, 0);\r\n          res.data.detail_barang.forEach((data) => {\r\n            this.handleBarcodeSet(\r\n              data,\r\n              res.data.kode_barcode_set,\r\n              res.data.detail_barang.length,\r\n              total_berat_set,\r\n              data.harga_jual,\r\n              data.qty\r\n            );\r\n          });\r\n        });\r\n        return true;\r\n      } else {\r\n        let split = hasil.split(\"X\");\r\n        this.props.change(\"kodeBarang\", split[0]);\r\n        this.setState({\r\n          kodeJenis: split[0],\r\n          kadarCetak: split[1],\r\n          kadarJual: split[2],\r\n        });\r\n      }\r\n    }, 1500);\r\n  };\r\n\r\n  async handleBarcodeSet(\r\n    data,\r\n    barcode,\r\n    jumlah_barang,\r\n    total_berat_set,\r\n    harga_jual,\r\n    qty\r\n  ) {\r\n    console.log(data);\r\n    let param = data.kode_jenis;\r\n    let hasil = this.props.KodeBarangList.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    let kode_tukar_2 = 0;\r\n    let kode_tukar_3 = 0;\r\n    let customer_2 =\r\n      this.props.level_customer === \"LEVEL2\"\r\n        ? this.props.kodeCustomer\r\n        : localStorage.getItem(\"customer_2\");\r\n    let customer_3 =\r\n      this.props.level_customer === \"LEVEL3\" ? this.props.kodeCustomer : \"-\";\r\n    await AxiosMasterGet(\r\n      `/kelompok-harga/get/by-jenis-and-customer/${customer_2}&${data.kode_jenis}`\r\n    )\r\n      .then((res) => (kode_tukar_2 = res.data.kode_tukar_normal || 0))\r\n      .catch(() => (kode_tukar_2 = 0));\r\n    await AxiosMasterGet(\r\n      `/kelompok-harga/get/by-jenis-and-customer/${customer_3}&${data.kode_jenis}`\r\n    )\r\n      .then((res) => (kode_tukar_3 = res.data.kode_tukar_normal || 0))\r\n      .catch(() => (kode_tukar_3 = 0));\r\n    AxiosMasterGet(`jenis/get/by-kode-jenis/${data.kode_jenis}`)\r\n      .then((res) => {\r\n        var simpan_nota_1 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level1\")) || [];\r\n        var simpan_nota_2 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level2\")) || [];\r\n        var simpan_nota_3 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level3\")) || [];\r\n        var nota_gambar = JSON.parse(localStorage.getItem(\"nota_gambar\")) || [];\r\n        var posisi = simpan_nota_1.findIndex(\r\n          (data) => data.kode_kategori === data.kodeKategori\r\n        );\r\n        var posisi_2 = simpan_nota_2.findIndex(\r\n          (data) => data.kode_kategori === data.kodeKategori\r\n        );\r\n        var posisi_3 = simpan_nota_3.findIndex(\r\n          (data) => data.kode_kategori === data.kodeKategori\r\n        );\r\n        nota_gambar.push({ lokasi_gambar: res.data?.image });\r\n        localStorage.setItem(\"nota_gambar\", JSON.stringify(nota_gambar));\r\n        if (posisi !== -1) {\r\n          var nota_1 = {\r\n            netto_disc: (\r\n              parseFloat(data.netto_disc || 0) +\r\n              parseFloat(simpan_nota_1[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              parseFloat(data.netto || 0) +\r\n              parseFloat(simpan_nota_1[posisi].netto)\r\n            ).toFixed(3),\r\n            ongkos_rp: (\r\n              parseFloat(data.rp === undefined ? 0 : data.rp) +\r\n              simpan_nota_1[posisi].ongkos_rp\r\n            ).toLocaleString(\"id-ID\"), //ongkos\r\n            disc: (\r\n              parseFloat(data.disc_persen || 0) +\r\n              parseFloat(simpan_nota_1[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto: (\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_1[posisi].bruto)\r\n            ).toFixed(3), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: data.kadarTransaksi,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual:\r\n              parseFloat(harga_jual) * parseFloat(qty) +\r\n              simpan_nota_1[posisi].harga_jual,\r\n          };\r\n          var nota_2 = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) /\r\n                100 +\r\n              parseFloat(simpan_nota_2[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              ((parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 ||\r\n                0) + parseFloat(simpan_nota_2[posisi].netto)\r\n            ).toFixed(3), //murni\r\n            ongkos_rp:\r\n              parseFloat(data.rp === undefined ? 0 : data.rp) +\r\n              parseFloat(simpan_nota_2[posisi].ongkos_rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n                parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_2[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto:\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_2[posisi].bruto), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: kode_tukar_2,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual:\r\n              parseFloat(harga_jual) * parseFloat(qty) +\r\n              simpan_nota_2[posisi].harga_jual,\r\n          };\r\n          var nota_3 = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) /\r\n                100 +\r\n              parseFloat(simpan_nota_3[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              ((parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 ||\r\n                0) + parseFloat(simpan_nota_3[posisi].netto)\r\n            ).toFixed(3), //murni\r\n            ongkos_rp:\r\n              parseFloat(data.rp === undefined ? 0 : data.rp) +\r\n              parseFloat(simpan_nota_3[posisi].ongkos_rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n                parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_3[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto:\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_3[posisi].bruto), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: kode_tukar_3,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual:\r\n              parseFloat(harga_jual) * parseFloat(qty) +\r\n              +simpan_nota_3[posisi].harga_jual,\r\n          };\r\n          simpan_nota_1.push(nota_1);\r\n          simpan_nota_2.push(nota_2);\r\n          simpan_nota_3.push(nota_3);\r\n          simpan_nota_1.splice(posisi, 1);\r\n          simpan_nota_2.splice(posisi_2, 1);\r\n          simpan_nota_3.splice(posisi_3, 1);\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level1\",\r\n            JSON.stringify(simpan_nota_1)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level2\",\r\n            JSON.stringify(simpan_nota_2)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level3\",\r\n            JSON.stringify(simpan_nota_3)\r\n          );\r\n        } else {\r\n          var nota_1_else = {\r\n            netto_disc: parseFloat(data.netto_disc || 0).toFixed(3),\r\n            netto: parseFloat(data.netto || 0).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp), //ongkos\r\n            disc: data.discGlobalGr || 0,\r\n            bruto: parseFloat(data.bruto || 0).toFixed(3), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: data.kadarTransaksi,\r\n            disc_persen: data.disc_persen || 0,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual: parseFloat(harga_jual) * parseFloat(qty),\r\n          };\r\n          var nota_2_else = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) / 100\r\n            ).toFixed(3),\r\n            netto: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 ||\r\n              0\r\n            ).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n              parseFloat(data.bruto || 0)\r\n            ).toFixed(3),\r\n            bruto: parseFloat(data.bruto || 0), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: kode_tukar_2,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual: parseFloat(harga_jual) * parseFloat(qty),\r\n          };\r\n          var nota_3_else = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) / 100\r\n            ).toFixed(3),\r\n            netto: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 ||\r\n              0\r\n            ).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n              parseFloat(data.bruto || 0)\r\n            ).toFixed(3),\r\n            bruto: parseFloat(data.bruto || 0), //berat\r\n            kode_kategori: data.kodeKategori,\r\n            kode_tukar: kode_tukar_3,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: jumlah_barang,\r\n            total_berat_barang_set: total_berat_set,\r\n            kode_barcode_set: barcode,\r\n            harga_jual: parseFloat(harga_jual) * parseFloat(qty),\r\n          };\r\n          simpan_nota_1.push(nota_1_else);\r\n          simpan_nota_2.push(nota_2_else);\r\n          simpan_nota_3.push(nota_3_else);\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level1\",\r\n            JSON.stringify(simpan_nota_1)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level2\",\r\n            JSON.stringify(simpan_nota_2)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level3\",\r\n            JSON.stringify(simpan_nota_3)\r\n          );\r\n        }\r\n        var simpan = {\r\n          netto_disc: parseFloat(data.netto_disc || 0).toFixed(3) || 0,\r\n          gross: parseFloat(data.gross || 0).toFixed(3) || 0, //berat + bungkus\r\n          netto: parseFloat(data.netto || 0).toFixed(3) || 0, //murni\r\n          qty: qty || 1,\r\n          k: parseFloat(data.k || 0),\r\n          ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp), //ongkos\r\n          kadar_cetak: (hasil[0].kadar_cetak || 0).toString(),\r\n          disc_persen: data.disc_persen || 0,\r\n          kadar_jual: parseFloat(data.kadar_jual || 0), //harga%\r\n          kadar_level2: res.data.level2 || 0,\r\n          kadar_level3: res.data.level3 || 0,\r\n          kadar_modal: hasil[0].kadar_modal || 0, //harga%\r\n          kode_jenis: hasil[0].kode_jenis || 0, //kodebarang\r\n          kode_barcode: \"-\",\r\n          kode_barcode_set: barcode,\r\n          p: parseFloat(data.p || 0),\r\n          disc: data.disc || 0,\r\n          pkg: parseFloat(data.pkg || 0),\r\n          bruto: parseFloat(data.bruto || 0).toFixed(3), //berat\r\n          harga_jual: harga_jual,\r\n        };\r\n        var simpan_level2 = calculate_barcode_level2({\r\n          data: data,\r\n          hasil: hasil,\r\n          res: res,\r\n          harga_jual: harga_jual,\r\n        });\r\n        var simpan_level3 = calculate_barcode_level3({\r\n          data: data,\r\n          res: res,\r\n          hasil: hasil,\r\n          harga_jual: harga_jual,\r\n        });\r\n\r\n        var array =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan\")) || [];\r\n        var array_level2 =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan_level2\")) || [];\r\n        var array_level3 =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan_level3\")) || [];\r\n        array.push(simpan);\r\n        array_level2.push(simpan_level2);\r\n        array_level3.push(simpan_level3);\r\n        var GrandTotalNetto = array\r\n          .map((list) => parseFloat(list.netto_disc))\r\n          .reduce((a, b) => a + b, 0);\r\n        localStorage.setItem(\"GrandTotalNetto\", GrandTotalNetto);\r\n        localStorage.setItem(\"transaksiPenjualan\", JSON.stringify(array));\r\n        localStorage.setItem(\r\n          \"transaksiPenjualan_level2\",\r\n          JSON.stringify(array_level2)\r\n        );\r\n        localStorage.setItem(\r\n          \"transaksiPenjualan_level3\",\r\n          JSON.stringify(array_level3)\r\n        );\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n        this.props.dispatch(getListTransaksiPenjualan());\r\n        this.props.dispatch(getTotalNW());\r\n        this.props.dispatch(reset(\"FormTransaksiPenjualan\"));\r\n        this.props.dispatch(getNetto(\"transaksiPenjualan\"));\r\n        setFocus(\"discGlobal_penjualan\");\r\n        this.props.dispatch(hideModal());\r\n        this.setState({\r\n          discGlobalGr:\r\n            (parseFloat(0) / 100) *\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")),\r\n          discGlobalPr: 0,\r\n          GrandTotalNetto: (\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")) - 0\r\n          ).toFixed(3),\r\n        });\r\n      })\r\n      .catch((err) =>\r\n        gagal(\"Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu\")\r\n      );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 col-lg-12 d-none\">\r\n            <Field\r\n              name=\"noFaktur\"\r\n              label={this.props.noFaktur}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              component={renderField}\r\n              defaultValue={this.props.noFaktur}\r\n              normalize={(value) => value && value.toUpperCase()}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-4\">\r\n            {String(this.props.KodeBarangList) !== \"\" ? (\r\n              <Field\r\n                name=\"kodeBarang\"\r\n                label=\"Kode Model\"\r\n                component={renderFieldSelect}\r\n                className=\"form-control\"\r\n                onChange={(data) => this.pilihBarang(data)}\r\n                onBlur={this.setKadar()}\r\n                options={this.props.KodeBarangList.filter(\r\n                  (data) =>\r\n                    data.kode_kelompok === \"PERHIASAN\" ||\r\n                    data.kode_kelompok === \"AKSESORIS\"\r\n                ).map((kode) => {\r\n                  let data = {\r\n                    value: kode.kode_jenis,\r\n                    name: kode.nama_jenis,\r\n                  };\r\n                  return data;\r\n                })}\r\n              />\r\n            ) : (\r\n              <Skeleton width={\"100%\"} height={50} />\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-4\">\r\n            <Field\r\n              name=\"kode_barocde\"\r\n              label=\"Kode Barcode\"\r\n              type=\"text\"\r\n              component={renderField}\r\n              placeholder=\"Biarkan Kosong jika Tidak Digunakan\"\r\n              normalize={(value) => value && value.toUpperCase()}\r\n              onChange={this.handleBarcode()}\r\n            />\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.aksesoris !== \"col-lg-12 row\"\r\n                ? \"col-md-3 col-lg-3 d-none\"\r\n                : \"col-md-3 col-lg-3 d-none\"\r\n            }\r\n          >\r\n            <Field\r\n              name=\"kadar\"\r\n              label=\"Kode Tukar\"\r\n              type=\"number\"\r\n              component={renderField}\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 col-lg-3 d-none\">\r\n            <Field\r\n              name=\"kodeKategori\"\r\n              label=\"Kode Tukar\"\r\n              type=\"number\"\r\n              component={renderField}\r\n            />\r\n          </div>\r\n\r\n          <div className={this.state.non_aksesoris}>\r\n            <div className=\"col-md-12 col-lg-12\">\r\n              <Field\r\n                name=\"keterangan\"\r\n                label=\"Keterangan\"\r\n                type=\"text\"\r\n                component={renderField}\r\n                normalize={(data) => data?.toUpperCase()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"namaKategori\"\r\n                label=\"Kode Tukar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"p\"\r\n                label=\"Plastik\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"k\"\r\n                label=\"Kertas\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"pkg\"\r\n                label=\"Pkg (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"bruto\"\r\n                label=\"Berat (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onChange={this.onclick1()}\r\n                // onChange={this.setBruto()}\r\n                // onBlur={this.setBruto()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"kadarTransaksi\"\r\n                label=\"Kode Tukar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"netto\"\r\n                label=\"Netto (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"gross\"\r\n                label=\"Gross (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"discGlobalPr\"\r\n                label=\"Diskon (%)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"discGlobalGr\"\r\n                label=\"Diskon (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"nettoDiscGlobalExt\"\r\n                label=\"Netto - Diskon (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <label htmlFor=\"\">Ongkos (Rp)</label>\r\n              <Field\r\n                name=\"rp\"\r\n                component=\"input\"\r\n                type=\"tel\"\r\n                className=\"form-control\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={this.state.aksesoris}>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"qty\"\r\n                label=\"Qty\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"harga_jual\"\r\n                label=\"Harga Jual\"\r\n                type=\"telp\"\r\n                component={renderField}\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={this.props.onSend}\r\n                className=\"btn btn-primary\"\r\n              >\r\n                {this.props.onSend ? (\r\n                  <span\r\n                    className=\"spinner-border spinner-border-sm mr-3\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Simpan\r\n                <i className=\"fa fa-paper-plane ml-3\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormTransaksiPenjualan = reduxForm({\r\n  form: \"FormTransaksiPenjualan\",\r\n  enableReinitialize: true,\r\n})(FormTransaksiPenjualan);\r\nconst selector = formValueSelector(\"FormTransaksiPenjualan\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { bruto, kadarTransaksi, pkg, discGlobalPr } = selector(\r\n    state,\r\n    \"bruto\",\r\n    \"kadarTransaksi\",\r\n    \"pkg\",\r\n    \"discGlobalPr\"\r\n  );\r\n  return {\r\n    netto: (\r\n      parseFloat(bruto || 0) *\r\n      (parseFloat(kadarTransaksi || 0) / 100)\r\n    ).toFixed(3),\r\n    gross: parseFloat(bruto || 0) + parseFloat(pkg || 0),\r\n    discGlobalGr: (\r\n      parseFloat(bruto || 0) *\r\n      (parseFloat(discGlobalPr || 0) / 100)\r\n    ).toFixed(3),\r\n    KodeBarangList: state.provinsi.kodeBarang,\r\n    onSend: state.provinsi.onSend,\r\n    initialValues: {\r\n      discGlobalPr: 0,\r\n      p: 0,\r\n      k: 0,\r\n      pkg: 0,\r\n      bruto: 0,\r\n    },\r\n    bruto: bruto,\r\n  };\r\n})(FormTransaksiPenjualan);\r\n"],"sourceRoot":""}