{"version":3,"sources":["Supervisory/CetakUlangForm/FormLaporanTolakanSupplier.jsx"],"names":["FormLaporanTolakanSupplier","props","inputChange","input","e","setState","target","value","pilihSupplier","result_explode","split","kodeSupplier","namaSupplier","state","listSupplier","columns","dataField","text","align","headerAlign","csvExport","formatter","rowContent","row","className","onClick","getDetails","data","tanggal","listPenerimaan","tableRows","table","detail_barang","forEach","ticket","i","ticketData","kode_jenis","content","kadar_cetak","styles","halign","formatGram","p","k","pkg","bruto","kadar_beli","netto","formatRp","ongkos_rp","push","footer","map","list","reduce","a","b","console","log","JSON","stringify","PrintNota","no_bon","toUpperCase","this","printSupplier","kode_supplier","dispatch","getsupplierList","getUUID","getCetakUlang","AxiosMasterGet","tanggal_awal","tanggal_akhir","then","res","detail","catch","gagal","to","type","aria-hidden","title","name","component","renderField","label","placeholder","renderFieldSelect","options","supplier","nama_supplier","caridata","bootstrap4","keyField","Component","reduxForm","form","selector","formValueSelector","connect","provinsi","initialValues","getToday"],"mappings":"4SAgBMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAsKRC,YAAc,SAACC,GAAD,OAAW,SAACC,GACxB,EAAKC,SAAL,eACGF,EAAQC,EAAEE,OAAOC,UAzKH,EA6KnBC,cAAgB,SAACL,GAAD,OAAW,SAACC,GAC1B,IACIK,GADOL,EAAEE,OAAOC,MAAQH,EAAEE,OAAOC,MAAQ,oBACnBG,MAAM,KAChC,EAAKL,SAAS,CACZM,aAAcF,EAAe,GAC7BG,aAAcH,EAAe,OAhL/B,EAAKI,MAAQ,CACXC,aAAc,GACdC,QAAS,CACP,CACEC,UAAW,UACXC,KAAM,WAER,CACED,UAAW,YACXC,KAAM,mBAER,CACED,UAAW,SACXC,KAAM,aAER,CACED,UAAW,cACXC,KAAM,kBACNC,MAAO,QACPC,YAAa,SAEf,CACEH,UAAW,cACXC,KAAM,kBACNC,MAAO,QACPC,YAAa,SAEf,CACEH,UAAW,cACXC,KAAM,kBACNC,MAAO,QACPC,YAAa,SAEf,CACEH,UAAW,YACXC,KAAM,gBACNC,MAAO,QACPC,YAAa,SAEf,CACEH,UAAW,WACXC,KAAM,eACNC,MAAO,QACPC,YAAa,SAEf,CACEH,UAAW,OACXC,KAAM,OACNG,WAAW,EACXC,UAAW,SAACC,EAAYC,GACtB,OACE,yBAAKC,UAAU,eACb,4BACEA,UAAU,uBACVC,QAAS,kBAAM,EAAKC,WAAWH,KAE/B,uBAAGC,UAAU,qBAJf,aAYVG,KAAM,CACJ,CACEC,QAAS,eAGbC,eAAgB,IAvED,E,8CA2EnB,SAAWF,GAET,IAAMG,EAAY,GACdC,EAAQJ,EAAKK,cAEjBD,EAAME,SAAQ,SAACC,EAAQC,GACrB,IAAMC,EAAa,GACfD,EACFD,EAAOG,WACP,CAAEC,QAASJ,EAAOK,YAAaC,OAAQ,CAAEC,OAAQ,UACjD,CAAEH,QAASI,YAAWR,EAAOS,GAAIH,OAAQ,CAAEC,OAAQ,UACnD,CAAEH,QAASI,YAAWR,EAAOU,GAAIJ,OAAQ,CAAEC,OAAQ,UACnD,CAAEH,QAASI,YAAWR,EAAOW,KAAML,OAAQ,CAAEC,OAAQ,UACrD,CAAEH,QAASI,YAAWR,EAAOY,OAAQN,OAAQ,CAAEC,OAAQ,UACvD,CAAEH,QAASJ,EAAOa,WAAYP,OAAQ,CAAEC,OAAQ,UAChD,CAAEH,QAASI,YAAWR,EAAOc,MAAO,GAAIR,OAAQ,CAAEC,OAAQ,UAC1D,CAAEH,QAASW,YAASf,EAAOgB,WAAYV,OAAQ,CAAEC,OAAQ,WAG3DX,EAAUqB,KAAKf,MAEjB,IAAMgB,EAAS,CACb,GACA,GACA,GACA,GACA,GACA,CACEd,QAASI,YACPX,EAAMsB,KAAI,SAACC,GAAD,OAAUA,EAAKT,OAAKU,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,IAExDjB,OAAQ,CAAEC,OAAQ,UAEpB,CACEH,QAASI,YACPX,EAAMsB,KAAI,SAACC,GAAD,OAAUA,EAAKR,SAAOS,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,IAE1DjB,OAAQ,CAAEC,OAAQ,UAEpB,GACA,CACEH,QAASI,YACPX,EAAMsB,KAAI,SAACC,GAAD,OAAUA,EAAKN,SAAOO,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,IAE1DjB,OAAQ,CAAEC,OAAQ,UAEpB,CACEH,QAASW,YACPlB,EAAMsB,KAAI,SAACC,GAAD,OAAUA,EAAKJ,aAAWK,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,IAE9DjB,OAAQ,CAAEC,OAAQ,WAGtBX,EAAUqB,KAAKC,GACfM,QAAQC,IAAIC,KAAKC,UAAU/B,IAgB3BgC,YACE,SACAnC,EAAKoC,OAAOC,cACZ,UACArC,EAAKC,QACL,WACAqC,KAAKpD,MAAMqD,cAAc,GAAGC,cAAcH,cAC1C,GACA,GACA,QACArC,EAAKC,QACL,GA1Be,CACf,CACE,KACA,aACA,CAAEU,QAAS,WAAYE,OAAQ,CAAEC,OAAQ,UACzC,CAAEH,QAAS,IAAKE,OAAQ,CAAEC,OAAQ,UAClC,CAAEH,QAAS,IAAKE,OAAQ,CAAEC,OAAQ,UAClC,CAAEH,QAAS,cAAeE,OAAQ,CAAEC,OAAQ,UAC5C,CAAEH,QAAS,YAAaE,OAAQ,CAAEC,OAAQ,UAC1C,CAAEH,QAAS,YAAaE,OAAQ,CAAEC,OAAQ,UAC1C,CAAEH,QAAS,YAAaE,OAAQ,CAAEC,OAAQ,UAC1C,CAAEH,QAAS,aAAcE,OAAQ,CAAEC,OAAQ,YAiB7C,iCACAX,K,+BAGJ,WACEmC,KAAKhE,MAAMmE,SAASC,eACpBJ,KAAKhE,MAAMmE,SAASE,eACpBL,KAAKhE,MAAMmE,SAASG,iB,sBAiBtB,WAAY,IAAD,OACTC,YAAe,2BAAD,OACeP,KAAKhE,MAAMkE,cAD1B,YAC2CF,KAAKhE,MAAMwE,aADtD,YACsER,KAAKhE,MAAMyE,gBAE5FC,MAAK,SAACC,GAAD,OACJ,EAAKvE,SAAS,CACZwB,eAAgB+C,EAAIjD,MAAQiD,EAAIjD,KAAK,GAAGkD,OACxCX,cAAeU,EAAIjD,UAGtBmD,OAAM,kBAAMC,YAAM,oB,oBAEvB,WAAU,IAAD,OACP,OACE,oCACE,yBAAKvD,UAAU,mBACb,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAMwD,GAAG,oBACP,4BAAQC,KAAK,SAASzD,UAAU,qBAC9B,uBAAGA,UAAU,wBAAwB0D,cAAY,SAAY,IAD/D,UAMJ,yBAAK1D,UAAU,QACb,kBAAC,UAAD,CAAY2D,MAAM,uCAClB,yBAAK3D,UAAU,aACb,6BACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACE4D,KAAK,eACLC,UAAWC,IACXL,KAAK,OACLM,MAAM,aACNC,YAAY,wBAGhB,yBAAKhE,UAAU,YACb,kBAAC,IAAD,CACE4D,KAAK,gBACLC,UAAWC,IACXL,KAAK,OACLM,MAAM,gBACNC,YAAY,2BAGhB,yBAAKhE,UAAU,YACb,kBAAC,IAAD,CACE4D,KAAK,gBACLC,UAAWI,IACXC,QAASzB,KAAKhE,MAAM0F,SAAStC,KAAI,SAAC1B,GAKhC,MAJY,CACVpB,MAAOoB,EAAKwC,cACZiB,KAAMzD,EAAKiE,kBAIfX,KAAK,OACLM,MAAM,gBACNC,YAAY,2BAGhB,yBAAKhE,UAAU,4BACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,cACb,4BACEA,UAAU,kBACVC,QAAS,kBAAM,EAAKoE,aAEpB,uBAAGrE,UAAU,sBAJf,eASJ,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACEsE,YAAU,EACVC,SAAU9B,KAAKpD,MAAMgB,eACrBF,KAAMsC,KAAKpD,MAAMgB,eACjBd,QAASkD,KAAKpD,MAAME,sB,GAxQHiF,aAsRzChG,EAA6BiG,YAAU,CACrCC,KAAM,8BADqBD,CAE1BjG,GACH,IAAMmG,EAAWC,YAAkB,8BACpBC,uBAAQ,SAACxF,GACtB,MAAuDsF,EACrDtF,EACA,eACA,gBACA,iBAJM4D,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,cAAeP,EAArC,EAAqCA,cAMrC,MAAO,CACLwB,SAAU9E,EAAMyF,SAASX,SACzBjB,cAAeA,EACfD,aAAcA,EACdN,cAAeA,EACfoC,cAAe,CACb9B,aAAc+B,cACd9B,cAAe8B,kBAdNH,CAiBZrG","file":"static/js/133.2c35bfb4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { getCetakUlang } from \"../../actions/cetakUlangAction\";\r\nimport { getUUID } from \"../../actions/fakturAction\";\r\nimport { getsupplierList } from \"../../actions/supplierAction\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { gagal } from \"../../Alert\";\r\nimport HeaderCard from \"../../HeaderCard\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport PrintNota from \"../../Stocking/Component/PrintNota\";\r\nimport { formatGram, formatRp } from \"../../helper\";\r\nimport { getToday } from \"../../GlobalComponent/function\";\r\n\r\nclass FormLaporanTolakanSupplier extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listSupplier: [],\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Jenis Transaksi\",\r\n        },\r\n        {\r\n          dataField: \"no_bon\",\r\n          text: \"Nomor Bon\",\r\n        },\r\n        {\r\n          dataField: \"total_bruto\",\r\n          text: \"Total Bruto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_gross\",\r\n          text: \"Total Gross(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_netto\",\r\n          text: \"Total Netto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_pkg\",\r\n          text: \"Total Pkg(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_rp\",\r\n          text: \"Total Rp(Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-warning mr-2\"\r\n                  onClick={() => this.getDetails(row)}\r\n                >\r\n                  <i className=\"fa fa-print mr-1\"></i>\r\n                  Print\r\n                </button>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      data: [\r\n        {\r\n          tanggal: \"2020-11-12\",\r\n        },\r\n      ],\r\n      listPenerimaan: [],\r\n    };\r\n  }\r\n\r\n  getDetails(data) {\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [];\r\n    var table = data.detail_barang;\r\n    // for each ticket pass all its data into an array\r\n    table.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        ++i,\r\n        ticket.kode_jenis,\r\n        { content: ticket.kadar_cetak, styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.p), styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.k), styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.pkg), styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.bruto), styles: { halign: \"right\" } },\r\n        { content: ticket.kadar_beli, styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.netto, 3), styles: { halign: \"right\" } },\r\n        { content: formatRp(ticket.ongkos_rp), styles: { halign: \"right\" } },\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    const footer = [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      {\r\n        content: formatGram(\r\n          table.map((list) => list.pkg).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n      {\r\n        content: formatGram(\r\n          table.map((list) => list.bruto).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n      \"\",\r\n      {\r\n        content: formatGram(\r\n          table.map((list) => list.netto).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n      {\r\n        content: formatRp(\r\n          table.map((list) => list.ongkos_rp).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n    ];\r\n    tableRows.push(footer);\r\n    console.log(JSON.stringify(tableRows));\r\n    var columTable = [\r\n      [\r\n        \"No\",\r\n        \"Kode Model\",\r\n        { content: \"Cap Kode\", styles: { halign: \"right\" } },\r\n        { content: \"P\", styles: { halign: \"right\" } },\r\n        { content: \"K\", styles: { halign: \"right\" } },\r\n        { content: \"Bungkus(Gr)\", styles: { halign: \"right\" } },\r\n        { content: \"Berat(Gr)\", styles: { halign: \"right\" } },\r\n        { content: \"Harga(Gr)\", styles: { halign: \"right\" } },\r\n        { content: \"Murni(Gr)\", styles: { halign: \"right\" } },\r\n        { content: \"Ongkos(Rp)\", styles: { halign: \"right\" } },\r\n      ],\r\n    ];\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    PrintNota(\r\n      \"No Bon\",\r\n      data.no_bon.toUpperCase(),\r\n      \"Tanggal\",\r\n      data.tanggal,\r\n      \"Supplier\",\r\n      this.state.printSupplier[0].kode_supplier.toUpperCase(),\r\n      \"\",\r\n      \"\",\r\n      \"ADMIN\",\r\n      data.tanggal,\r\n      \"\",\r\n      columTable,\r\n      \"Tolakan Return Barang Supplier\",\r\n      tableRows\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getsupplierList());\r\n    this.props.dispatch(getUUID());\r\n    this.props.dispatch(getCetakUlang());\r\n  }\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  pilihSupplier = (input) => (e) => {\r\n    var supp = e.target.value ? e.target.value : \"DEFALT | DEFAULT\";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeSupplier: result_explode[0],\r\n      namaSupplier: result_explode[1],\r\n    });\r\n  };\r\n\r\n  caridata() {\r\n    AxiosMasterGet(\r\n      `report/tolakan-supplier/${this.props.kode_supplier}&${this.props.tanggal_awal}&${this.props.tanggal_akhir}`\r\n    )\r\n      .then((res) =>\r\n        this.setState({\r\n          listPenerimaan: res.data && res.data[0].detail,\r\n          printSupplier: res.data,\r\n        })\r\n      )\r\n      .catch(() => gagal(\"Data Kosong\"));\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"container-fluid\">\r\n          <ol className=\"breadcrumb mb-2\">\r\n            <Link to=\"/cetakUlangBukti\">\r\n              <button type=\"button\" className=\"btn btn-secondary\">\r\n                <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i>{\" \"}\r\n                Back\r\n              </button>\r\n            </Link>\r\n          </ol>\r\n          <div className=\"card\">\r\n            <HeaderCard title=\"Cetak Ulang Bukti Tolakan Supplier\" />\r\n            <div className=\"card-body\">\r\n              <br />\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-3\">\r\n                  <Field\r\n                    name=\"tanggal_awal\"\r\n                    component={renderField}\r\n                    type=\"date\"\r\n                    label=\"Mulai Dari\"\r\n                    placeholder=\"Masukan Mulai Dari\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-3\">\r\n                  <Field\r\n                    name=\"tanggal_akhir\"\r\n                    component={renderField}\r\n                    type=\"date\"\r\n                    label=\"Sampai Dengan\"\r\n                    placeholder=\"Masukan Sampai Dengan\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    name=\"kode_supplier\"\r\n                    component={renderFieldSelect}\r\n                    options={this.props.supplier.map((data) => {\r\n                      let hasil = {\r\n                        value: data.kode_supplier,\r\n                        name: data.nama_supplier,\r\n                      };\r\n                      return hasil;\r\n                    })}\r\n                    type=\"text\"\r\n                    label=\"Kode Supplier\"\r\n                    placeholder=\"Masukan Kode Supplier\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-12 col-lg-12 mt-3\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-12\">\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => this.caridata()}\r\n                        >\r\n                          <i className=\"fa fa-search mr-1\"></i>\r\n                          Cari Data\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-12\">\r\n                      <GlobalTabel\r\n                        bootstrap4\r\n                        keyField={this.state.listPenerimaan}\r\n                        data={this.state.listPenerimaan}\r\n                        columns={this.state.columns}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormLaporanTolakanSupplier = reduxForm({\r\n  form: \"FormLaporanTolakanSupplier\",\r\n})(FormLaporanTolakanSupplier);\r\nconst selector = formValueSelector(\"FormLaporanTolakanSupplier\");\r\nexport default connect((state) => {\r\n  const { tanggal_awal, tanggal_akhir, kode_supplier } = selector(\r\n    state,\r\n    \"tanggal_awal\",\r\n    \"tanggal_akhir\",\r\n    \"kode_supplier\"\r\n  );\r\n  return {\r\n    supplier: state.provinsi.supplier,\r\n    tanggal_akhir: tanggal_akhir,\r\n    tanggal_awal: tanggal_awal,\r\n    kode_supplier: kode_supplier,\r\n    initialValues: {\r\n      tanggal_awal: getToday(),\r\n      tanggal_akhir: getToday(),\r\n    },\r\n  };\r\n})(FormLaporanTolakanSupplier);\r\n"],"sourceRoot":""}