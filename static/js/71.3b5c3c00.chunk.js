(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[71],{1238:function(e,t,a){"use strict";a.r(t);var n=a(60),o=a(15),r=a(16),l=a(18),c=a(17),i=a(0),s=a.n(i),d=a(12),m=a(11),u=a(343),p=a(344),g=a(55),b=a(13),h=a.n(b),k=a(146),_=a(20),v=a(141),f=a(23),N=a(43),j=a(145),S=a(37),O=a.n(S),E=a(24),F=a(49),B=a(5),y=a(50),x=a(19),A=a(169),I=a(38),T=a(185),G=a.n(T),C=a(237),w=a(249),K=a(6),D=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleBarcode=function(){var e=Object(C.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.b)("barang-set/get-by-kode-barcode-set-active/"+t).then((function(e){e.data.detail_barang.forEach((function(e){var t=JSON.parse(localStorage.getItem("barcode_barangSet_level1"))||[],a=t.findIndex((function(t){return t.kode_kategori===e.kode_kategori}));if(-1!==a){var n={netto_disc:Object(K.m)(parseFloat(e.netto_disc||0)+parseFloat(t[a].netto_disc),3),netto:Object(K.m)(parseFloat(e.netto||0)+parseFloat(t[a].netto),3),ongkos_rp:Object(K.p)(parseFloat(void 0===e.ongkos_rp?0:e.ongkos_rp)+t[a].ongkos_rp),disc:Object(K.m)(parseFloat(e.disc||0)+parseFloat(t[a].disc)),bruto:Object(K.m)(parseFloat(e.bruto||0)+parseFloat(t[a].bruto)),kode_kategori:e.kode_kategori,kode_tukar:e.kode_tukar,kode_kelompok:e.kode_kelompok,keterangan:e.keterangan,jumlah_barang_set:0,total_berat_barang_set:0,kode_barcode_set:"-",harga_jual:"undefined"===e.harga_jual?0:e.harga_jual};t.push(n),t.splice(a,1),localStorage.setItem("barcode_barangSet_level1",JSON.stringify(t))}else{var o={netto_disc:Object(K.m)(parseFloat(e.netto_disc||0),3),netto:Object(K.m)(parseFloat(e.netto||0),3),ongkos_rp:parseFloat(void 0===e.ongkos_rp?0:e.ongkos_rp),disc:e.disc||0,bruto:Object(K.m)(parseFloat(e.bruto||0)),kode_kategori:e.kode_kategori,kode_kelompok:e.kode_kelompok,kode_tukar:e.kode_tukar,keterangan:e.keterangan,disc_persen:e.disc_persen||0,jumlah_barang_set:0,total_berat_barang_set:0,kode_barcode_set:"-",harga_jual:"undefined"===e.harga_jual?0:parseFloat(e.harga_jual)*parseFloat(e.qty)};t.push(o),localStorage.setItem("barcode_barangSet_level1",JSON.stringify(t))}}))}));case 2:n.printBarcode(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.printBarcode=function(e){for(var t,a,n,o,r,l=JSON.parse(localStorage.getItem("barcode_barangSet_level1")),c=l.map((function(e){return parseFloat(e.netto_disc)})).reduce((function(e,t){return e+t}),0),i=null===(t=l[0])||void 0===t?void 0:t.kode_kelompok,s=null===(a=l[0])||void 0===a?void 0:a.kode_kategori,d=null===(n=l[0])||void 0===n?void 0:n.netto_disc,m=(null===(o=l[1])||void 0===o?void 0:o.kode_kategori)||"",u=(null===(r=l[2])||void 0===r?void 0:r.netto_disc)||"",p="",g="",b=2;b<l.length;b++)p+=(""===p?"":", ")+l[b].kode_kategori,g+=parseFloat(l[b].netto_disc);var h="";h+="I8,A\n",h+="ZN\n",h+="q652\n",h+="O\n",h+="JF\n",h+="\x1bKIZZQ0\n",h+="\x1bKI9+0.0\n",h+="ZT\n",h+="Q160,B25\n",h+="\x1bArg\x1b\x1blabel 200 31\n",h+="\x1b\x1bexit\n",h+="\x1bKI80\n",h+="N\n",h+='B226,106,2,1,1,2,27,N,"'.concat(e,'"\n'),h+='A226,74,2,1,1,1,N,"'.concat(e,'"\n'),h+='B226,56,2,1B,1,2,30,N,"AYU-'.concat(Object(K.m)(c,3),"-").concat(Object(K.m)(c,3),'"\n'),h+='A226,21,2,1,1,1,N,"AYU-'.concat(Object(K.m)(c,3),"-").concat(Object(K.m)(c,3),'"\n'),h+="LO408,83,218,3\n",h+="LO409,23,215,3\n",h+='A624,101,2,1,1,1,N,"'.concat(i,'"\n'),h+='A439,101,2,1,1,1,N,"AYU"\n',h+='A624,78,2,1,1,1,N,"'.concat(s,'"\n'),h+='A469,78,2,1,1,1,N,"'.concat(Object(K.m)(d,3),'"\n'),(l.length=2)&&(h+='A624,61,2,1,1,1,N,"'.concat(m,'"\n'),h+='A469,61,2,1,1,1,N,"'.concat(""===u?"":Object(K.m)(u,3),'"\n')),(l.length=3)&&(h+='A624,42,2,1,1,1,N,"'.concat(p,'"\n'),h+='A460,42,2,1,1,1,N,"'.concat(""===g?"":Object(K.m)(g,3),'"\n')),h+='A626,18,2,1,1,1,N,"Total"\n',h+='A470,18,2,1,1,1,N,"'.concat(Object(K.m)(c,3),'"\n'),h+="P1\n",document.getElementById("myInput").value=h;var k=document.createElement("a"),_=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});k.href=URL.createObjectURL(_),k.download="autoprint_barcode.txt",document.body.appendChild(k),k.click()},n.state={detail:[],columns:[{dataField:"kode_barcode_set",text:"Kode Barcode"},{dataField:"total_bruto",text:"Total Bruto",align:"right",headerAlign:"right"},{dataField:"total_netto",text:"Total Netto",align:"right",headerAlign:"right"},{dataField:"status_active",text:"Status",align:"center",formatter:function(e,t){return!0===t.status_active?s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3"}),s.a.createElement("div",{className:"badge-pill badge-success col-lg-6 text-center"},"AVAILABLE"))):s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3"}),s.a.createElement("div",{className:"badge-pill badge-danger col-lg-6 text-center"},"NOT-AVAILABLE")))}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t){return s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 text-center"},s.a.createElement("button",{className:"btn btn-warning mr-2","data-tut":"reactour_3",type:"button",onClick:function(){return n.print(t)}},"Print")),s.a.createElement("div",{className:"col-lg-6 text-center"},s.a.createElement("button",{className:"btn btn-outline-primary","data-tut":"reactour_3","data-toggle":"modal","data-target":"#detail_barangSet",onClick:function(){return n.setState({detail:t.detail_barang})}},"Detail"))))}}],columns2:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"kadar_cetak",text:"Cap\nKode",align:"right",headerAlign:"right"},{dataField:"pkg",text:"Bungkus\n(Gr)",align:"right",headerAlign:"right"},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right"},{dataField:"kadar_jual",text:"Kode\nTukar",align:"right",headerAlign:"right"},{dataField:"netto",text:"Murni\n(Gr)",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier"},{dataField:"disc_persen",text:"%",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier"},{dataField:"disc",text:"Disc\n(Gr)",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier"},{dataField:"netto_disc",text:"Netto\nDisc(Gr)",align:"right",headerAlign:"right"},{dataField:"ongkos_rp",text:"Ongkos\n(Rp)",align:"right",headerAlign:"right"}]},n}return Object(r.a)(a,[{key:"print",value:function(e){if("Label 2"===this.props.jenis_label)return this.handleBarcode(e.kode_barcode_set),!1;var t="";t+="<xpml><page quantity='0' pitch='35.0 mm'></xpml>I8,A\n",t+="ZN\n",t+="q504\n",t+="O\n",t+="JF\n",t+="\x1bKIZZQ0\n",t+="\x1bKI9+0.0\n",t+="ZT\n",t+="Q280,B25\n",t+="\x1bArg\x1b\x1blabel 350 31\n",t+="\x1b\x1bexit\n",t+="\x1bKI80\n",t+="<xpml></page></xpml><xpml><page quantity='1' pitch='35.0 mm'></xpml>N\n",t+='A400,275,2,2,1,2,N,"BARCODE SET"\n',t+='B350,238,2,1,1,10,73,N,"'.concat(e.kode_barcode_set,'"\n'),t+='A400,155,2,2,1,2,N,"'.concat(e.kode_barcode_set,'"\n'),t+='A400,107,2,2,1,2,N,"Bruto"\n',t+='A400,62,2,2,1,2,N,"Netto"\n',t+='A325,107,2,2,1,2,N,"'.concat(parseFloat(e.total_bruto).toFixed(3),'"\n'),t+='A325,62,2,2,1,2,N,"'.concat(parseFloat(e.total_netto).toFixed(3),'"\n'),t+="P1\n",t+="<xpml></page></xpml><xpml><end/></xpml>",document.getElementById("myInput").value=t;var a=document.createElement("a"),n=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});a.href=URL.createObjectURL(n),a.download="autoprint_barcode.txt",document.body.appendChild(a),a.click()}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(w.b)())}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-lg-12 mt-2"},s.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},s.a.createElement("div",{className:"card mb-0 bg-primary"},s.a.createElement("div",{className:"card-header",id:"headingOne"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("h5",{className:"m-0"},s.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapseBarangSet","aria-expanded":"true","aria-controls":"collapseBarangSet"},"List Barang Set"))))),s.a.createElement("div",{id:"collapseBarangSet",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},s.a.createElement("div",{className:"card-body bg-white"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"d-none"},s.a.createElement("textarea",{id:"myInput"})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(y.a,{keyField:"kodeJenis",data:this.props.BarangSet||[],columns:this.state.columns,textEmpty:"Silahkan Tambah Data Dengan Klik Tombol Biru Diatas"})))))))),s.a.createElement("div",{id:"detail_barangSet",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-xl"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Detail Barang Set"),s.a.createElement("button",{type:"button",id:"dismissModal",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(y.a,{keyField:"kodeJenis",data:this.state.detail||[],columns:this.state.columns2,textEmpty:"Silahkan Tambah Data Dengan Klik Tombol Biru Diatas"}))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Close"))))))}}]),a}(i.Component);D=Object(p.a)({form:"AccordListBarangSet",enableReinitialize:!0})(D);var L=Object(d.b)((function(e){return{BarangSet:e.provinsi.BarangSet,jenis_label:e.provinsi.jenis_label}}))(D),J=a(7),M=a(33),P=Object(i.lazy)((function(){return Promise.resolve().then(a.bind(null,103))})),R=Object(i.lazy)((function(){return a.e(72).then(a.bind(null,1198))})),U=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).inputChange=function(e){return function(t){r.setState(Object(n.a)({},e,t.target.value))}},r.handleBarcode=function(e){for(var t,a,n,o,r,l=JSON.parse(localStorage.getItem("barcode_barangSet_level1")),c=l.map((function(e){return parseFloat(e.netto_disc)})).reduce((function(e,t){return e+t}),0),i=null===(t=l[0])||void 0===t?void 0:t.kode_kelompok,s=null===(a=l[0])||void 0===a?void 0:a.kode_kategori,d=null===(n=l[0])||void 0===n?void 0:n.netto_disc,m=(null===(o=l[1])||void 0===o?void 0:o.kode_kategori)||"",u=(null===(r=l[2])||void 0===r?void 0:r.netto_disc)||"",p="",g="",b=2;b<l.length;b++)p+=(""===p?"":", ")+l[b].kode_kategori,g+=parseFloat(l[b].netto_disc);var h="";h+="I8,A\n",h+="ZN\n",h+="q652\n",h+="O\n",h+="JF\n",h+="\x1bKIZZQ0\n",h+="\x1bKI9+0.0\n",h+="ZT\n",h+="Q160,B25\n",h+="\x1bArg\x1b\x1blabel 200 31\n",h+="\x1b\x1bexit\n",h+="\x1bKI80\n",h+="N\n",h+='B226,106,2,1,1,2,27,N,"'.concat(e,'"\n'),h+='A226,74,2,1,1,1,N,"'.concat(e,'"\n'),h+='B226,56,2,1B,1,2,30,N,"AYU-'.concat(Object(K.m)(c),"-").concat(Object(K.m)(c,3),'"\n'),h+='A226,21,2,1,1,1,N,"AYU-'.concat(Object(K.m)(c),"-").concat(Object(K.m)(c,3),'"\n'),h+="LO408,83,218,3\n",h+="LO409,23,215,3\n",h+='A624,101,2,1,1,1,N,"'.concat(i,'"\n'),h+='A439,101,2,1,1,1,N,"AYU"\n',h+='A624,78,2,1,1,1,N,"'.concat(s,'"\n'),h+='A469,78,2,1,1,1,N,"'.concat(Object(K.m)(d,3),'"\n'),(l.length=2)&&(h+='A624,61,2,1,1,1,N,"'.concat(m,'"\n'),h+='A469,61,2,1,1,1,N,"'.concat(""===u?"":Object(K.m)(u,3),'"\n')),(l.length=3)&&(h+='A624,42,2,1,1,1,N,"'.concat(p,'"\n'),h+='A460,42,2,1,1,1,N,"'.concat(""===g?"":Object(K.m)(g,3),'"\n')),h+='A626,18,2,1,1,1,N,"Total"\n',h+='A470,18,2,1,1,1,N,"'.concat(Object(K.m)(c,3),'"\n'),h+="P1\n",document.getElementById("myInput").value=h;var k=document.createElement("a"),_=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});k.href=URL.createObjectURL(_),k.download="autoprint_barcode.txt",document.body.appendChild(k),k.click()},r.inputGrandTotal=function(e){return function(t){var a=r.props.sumGross-parseFloat(r.state.discGlobalGr),o=t.target.value;return console.log(a+"-"+o),a-o<-1?(Object(f.e)("Selisih lebih dari 1"),t.target.value="",!1):a-o<=1?void r.setState(Object(n.a)({},e,t.target.value)):(Object(f.e)("Selisih lebih dari 1"),t.target.value="",!1)}},r.discount=function(e){return function(e){var t=parseFloat(e.target.value)/100*parseFloat(localStorage.getItem("GrandTotalNetto"));r.setState({discGlobalGr:Object(K.m)(t),discGlobalPr:e.target.value,GrandTotalNetto:Object(K.m)(parseFloat(localStorage.getItem("GrandTotalNetto"))-Object(K.m)(t),3)})}},r.state={listLokasi:[],listSales:[],listCustomer:[],kodeCustomer:"",columns:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"kadar_cetak",text:"Cap\nKode",align:"right",headerAlign:"right"},{dataField:"p",text:"P",align:"right",headerAlign:"right"},{dataField:"k",text:"K",align:"right",headerAlign:"right"},{dataField:"pkg",text:"Bungkus\n(Gr)",align:"right",headerAlign:"right"},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right"},{dataField:"harga_jual",text:"Harga Jual",align:"right",headerAlign:"right"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger",onClick:function(){return r.deleteRow(a,t.netto_disc)}},s.a.createElement(N.a,{id:"hapus",type:"dark",effect:"solid"},s.a.createElement("span",null,"Hapus")),s.a.createElement("i",{className:"fa fa-trash"})),s.a.createElement("br",null))}}],discGlobalGr:0,discGlobalPr:0,totalNWExt:0,noBon:"",namaCustomer:"",lokasi:"",sales:"",namaToko:"",tanggal:"",data:""},r}return Object(r.a)(a,[{key:"deleteRow",value:function(e,t){var a=this;h.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){if(n.isConfirmed){var o=JSON.parse(localStorage.getItem("barangSet_temp"))||[];o.splice(e,1),localStorage.setItem("barangSet_temp",JSON.stringify(o));var r=localStorage.getItem("GrandTotalNetto"),l=parseFloat(r)-parseFloat(t);localStorage.setItem("GrandTotalNetto",Object(K.m)(parseFloat(l),3)),h.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return a.props.dispatch(Object(j.e)())})).then((function(){return a.props.dispatch(Object(A.f)())})).then((function(){return a.setState({GrandTotalNetto:Object(K.m)(parseFloat(localStorage.getItem("GrandTotalNetto")||0)-0,3)})}))}}))}},{key:"componentDidMount",value:function(){this.props.change("tanggal",Object(I.b)()),this.props.change("total_netto",localStorage.getItem("TotalBruto")),this.props.change("total_bruto",localStorage.getItem("TotalNetto")),this.props.dispatch(Object(g.b)()),this.props.dispatch(Object(A.f)()),this.props.dispatch(Object(A.e)()),this.props.dispatch(Object(M.k)()),localStorage.removeItem("TotalBruto"),localStorage.removeItem("TotalNetto"),localStorage.removeItem("barangSet_temp"),localStorage.removeItem("barcode_barangSet_level1"),localStorage.removeItem("customer_1"),this.setState({GrandTotalNetto:Object(K.m)(parseFloat(localStorage.getItem("GrandTotalNetto")||0)-0,3)})}},{key:"handleSubmit",value:function(e){var t=this,a=e.kodeBarang,n=this.props.kodeBarang.filter((function(e){return e.kode_jenis===a}));Object(B.b)("jenis/get/by-kode-jenis/".concat(e.kodeBarang)).then((function(a){var o=JSON.parse(localStorage.getItem("barcode_barangSet_level1"))||[];console.log(e.kodeKategori);var r=o.findIndex((function(t){return t.kode_kategori===e.kodeKategori}));if(-1!==r){var l={netto_disc:Object(K.m)(parseFloat(e.nettoDiscGlobalExt||0)+parseFloat(o[r].netto_disc),3),netto:Object(K.m)(parseFloat(e.netto||0)+parseFloat(o[r].netto),3),ongkos_rp:Object(K.m)(parseFloat(void 0===e.rp?0:e.rp)+o[r].ongkos_rp).toLocaleString("id-ID"),disc:Object(K.m)(parseFloat(e.discGlobalGr||0)+parseFloat(o[r].disc)),bruto:Object(K.m)(parseFloat(e.bruto||0)+parseFloat(o[r].bruto)),kode_kategori:e.kodeKategori,kode_tukar:e.kadarTransaksi,kode_kelompok:a.data.kode_kelompok,keterangan:e.keterangan,jumlah_barang_set:0,total_berat_barang_set:0,kode_barcode_set:"-",harga_jual:"undefined"===e.harga_jual?0:e.harga_jual};o.push(l),o.splice(r,1),localStorage.setItem("barcode_barangSet_level1",JSON.stringify(o))}else{var c={netto_disc:Object(K.m)(parseFloat(e.nettoDiscGlobalExt||0),3),netto:Object(K.m)(parseFloat(e.netto||0),3),ongkos_rp:parseFloat(void 0===e.rp?0:e.rp),disc:e.discGlobalGr||0,bruto:Object(K.m)(parseFloat(e.bruto||0)),kode_kategori:e.kodeKategori,kode_kelompok:a.data.kode_kelompok,kode_tukar:e.kadarTransaksi,keterangan:e.keterangan,disc_persen:e.discGlobalPr||0,jumlah_barang_set:0,total_berat_barang_set:0,kode_barcode_set:"-",harga_jual:"undefined"===e.harga_jual?0:parseFloat(e.harga_jual)*parseFloat(e.qty)};o.push(c),localStorage.setItem("barcode_barangSet_level1",JSON.stringify(o))}var i={netto_disc:Object(K.m)(parseFloat(e.nettoDiscGlobalExt||0),3)||0,gross:Object(K.m)(parseFloat(e.gross||0))||0,netto:Object(K.m)(parseFloat(e.netto||0),3)||0,qty:e.qty||1,k:parseFloat(e.k||0),ongkos_rp:parseFloat(void 0===e.rp?0:e.rp),kadar_cetak:(n[0].kadar_cetak||0).toString(),disc_persen:e.discGlobalPr||0,kadar_jual:parseFloat(e.kadarTransaksi||0),kadar_level2:a.data.level2||0,kadar_level3:a.data.level3||0,kadar_modal:n[0].kadar_beli||0,kode_jenis:n[0].kode_jenis||0,kode_barcode:"-",p:parseFloat(e.p||0),disc:e.discGlobalGr||0,pkg:parseFloat(e.pkg||0),bruto:Object(K.m)(parseFloat(e.bruto||0)),harga_jual:"undefined"===e.harga_jual?0:e.harga_jual},s=JSON.parse(localStorage.getItem("barangSet_temp"))||[];s.push(i);var d=s.map((function(e){return parseFloat(e.netto_disc)})).reduce((function(e,t){return e+t}),0);localStorage.setItem("TotalNetto",d);var u=s.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0);localStorage.setItem("TotalBruto",u),localStorage.setItem("barangSet_temp",JSON.stringify(s)),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),t.props.dispatch(Object(A.f)()),t.props.dispatch(Object(j.e)()),t.props.dispatch(Object(m.b)("FormBarangSet")),t.props.dispatch(Object(_.o)("barangSet_temp")),t.props.change("total_netto",u),t.props.change("total_bruto",d)})).catch((function(e){return Object(f.c)("Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu")}))}},{key:"transaksiPenjualanSubmit",value:function(){var e=this;if(null===localStorage.getItem("barangSet_temp"))return Object(f.e)("Barang masih kosong, Silahkan tambah barang"),!1;var t=Math.random().toString().substr(2,14);this.handleBarcode(t);var a={no_barang_set:this.props.noFaktur,kode_barcode_set:t,total_bruto:localStorage.getItem("TotalBruto"),total_netto:localStorage.getItem("TotalNetto"),detail_barang:JSON.parse(localStorage.getItem("barangSet_temp"))};this.props.dispatch(Object(_.t)());var n=[],o=JSON.parse(localStorage.getItem("barangSet_temp"));o.forEach((function(e,t){var a=[++t,e.kadar_cetak,e.kode_jenis,Object(K.m)(parseFloat(e.bruto)),e.kadar_jual,Object(K.m)(parseFloat(e.disc)),Object(K.m)(parseFloat(e.netto),3),e.pkg,e.qty,Object(K.p)(parseFloat(e.ongkos_rp)),""];n.push(a)}));var r=["","","",Object(K.m)(o.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0)),"",Object(K.m)(o.map((function(e){return parseFloat(e.disc)})).reduce((function(e,t){return e+t}),0)),Object(K.m)(o.map((function(e){return parseFloat(e.netto)})).reduce((function(e,t){return e+t}),0),3),o.map((function(e){return parseFloat(e.pkg)})).reduce((function(e,t){return e+t}),0),o.map((function(e){return parseFloat(e.qty)})).reduce((function(e,t){return e+t}),0),Object(K.p)(o.map((function(e){return parseFloat(e.ongkos_rp)})).reduce((function(e,t){return e+t}),0)),this.state.totalNWExt];n.push(r),console.log(JSON.stringify(n));var l=[["No","Kadar","Kode","Bruto \n(Gr)","Kode\nTukar","Diskon","Netto \n(Gr)","Pkg","Qty","Ongkos \n(Rp)","Grand Total\nNetto Ext"]];Object(B.d)("barang-set/add",a).then((function(){return h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return Object(v.a)("No Trx",e.props.noFaktur.toUpperCase(),"","","Kode Barcode",t,"","","ADMIN",e.state.tanggal,"",l,"Barang Set",n)})).then((function(){return e.props.dispatch(Object(_.k)())})).then((function(){return localStorage.removeItem("barangSet_temp")})).then((function(){return localStorage.removeItem("TotalNetto")})).then((function(){return localStorage.removeItem("TotalBruto")})).then((function(){return localStorage.removeItem("GrandTotalNetto")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return e.props.dispatch(Object(g.b)())})).then((function(){return e.props.dispatch(Object(k.e)())})).then((function(){return e.setState({noBon:"",namaCustomer:"",lokasi:"",sales:"",namaToko:"",tanggal:"",toko:"",GrandTotalNetto:0})}))})).catch((function(t){return h.a.fire({position:"top-end",icon:"error",text:"".concat(t.response&&t.response.data),showConfirmButton:!1,timer:1500}).then((function(){return e.props.dispatch(Object(_.k)())}))}))}},{key:"onSubmit",value:function(e,t){this.setState(Object(n.a)({},t,e))}},{key:"onSubmitToko",value:function(e,t){var a=e.split("|");this.setState({kodeCustomer:a[0],namaCustomer:a[1],namaToko:a[2],toko:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("ol",{className:"breadcrumb mb-2"},s.a.createElement(J.b,{to:"/KlasifikasiBarang"},s.a.createElement("button",{type:"button",className:"btn btn-secondary ","data-tut":"reactour_5"},s.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-none"},s.a.createElement("textarea",{id:"myInput"})),s.a.createElement("div",{className:"card"},s.a.createElement(F.default,{title:"Barang Set"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(L,null)),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(u.a,{name:"tanggal",component:x.a,type:"date",label:"Tanggal",placeholder:"Masukan Tanggal"})),s.a.createElement("div",{className:"col-lg-4 d-none"},s.a.createElement(u.a,{name:"level_customer_1",component:x.b,options:this.props.listCustomer.filter((function(e){return"LEVEL1"===e.level_customer})).map((function(e){return{value:e.kode_customer,name:e.nama_toko+" - "+e.nama_customer}})),type:"text",label:"Level Customer 1",placeholder:"Level Customer 1",onChange:function(e){return localStorage.setItem("customer_1",e)}})),s.a.createElement("div",{className:"col-lg-4"}),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(u.a,{name:"total_netto",component:x.a,type:"text",label:"Total Netto",placeholder:"Masukan Total Netto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(u.a,{name:"total_bruto",component:x.a,type:"text",label:"Total Bruto",placeholder:"Masukan Total Bruto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.props.dispatch(Object(E.j)())}},"Tambah Barang",s.a.createElement("i",{class:"fa fa-plus ml-3","aria-hidden":"true"})))))),s.a.createElement("div",{className:"col-lg-12 mt-5"},s.a.createElement(y.a,{keyField:"id",data:this.props.listBarangSet,columns:this.state.columns}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:function(){return e.transaksiPenjualanSubmit()}},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))),s.a.createElement(P,{content:s.a.createElement(i.Suspense,{fallback:s.a.createElement(O.a,{width:"100%",height:50,count:4})},s.a.createElement(R,{onSubmit:function(t){return e.handleSubmit(t)}})),title:"Tambah Data"}))}}]),a}(i.Component);U=Object(p.a)({form:"BarangSet",enableReinitialize:!0})(U);t.default=Object(d.b)((function(e){return{noFaktur:e.provinsi.noFaktur,listCustomer:e.provinsi.customer,barangSet_temp:e.provinsi.barangSet_temp,listLokasi:e.provinsi.lokasi,listSales:e.provinsi.salesman,totalNW:e.provinsi.totalNW,username:e.provinsi.username,onSend:e.provinsi.onSend,kodeBarang:e.provinsi.kodeBarang,listBarangSet:e.provinsi.listBarangSet}}),null)(U)}}]);
//# sourceMappingURL=71.3b5c3c00.chunk.js.map