{"version":3,"sources":["firebase.js","GetTimbangan.js","Validations/validationKirimMasak.js","Stocking/Component/FormKirimMasakBarang.jsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","namaTimbangan","localStorage","getItem","enableTimbangan","getTimbangan","props","database","ref","on","snapshot","data","val","nilai","console","log","getTimbanganValidasi","coba","Object","keys","map","list","validationKirimMasak","values","errors","kodeBarang","kadarTransaksi","bruto","netto","renderField","input","label","type","limit","readOnly","meta","touched","error","warning","className","htmlFor","min","step","maxLength","FormKirimMasakBarang","handleChange","e","result_explode","target","value","split","setState","kodeJenis","kadarCetak","kadarBeli","namaJenis","state","listBarang","this","change","Axios","get","server","then","res","catch","err","onSubmit","handleSubmit","Field","name","component","onChange","onBlur","setKadar","key","setNetto","onClick","submit","Component","reduxForm","form","enableReinitialize","validate","selector","formValueSelector","connect","parseFloat","toFixed"],"mappings":"8KAaeA,E,OAAAA,EAASC,cAXH,CACnBC,OAAQ,0CACRC,WAAY,oCACZC,YAAa,wDACbC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBCRXC,EAAgBC,aAAaC,QAAQ,iBACvCC,EAAkBF,aAAaC,QAAQ,mBAC9BE,EAAe,SAACC,GACvBF,EACFb,EACGgB,WACAC,IAAIP,GACJQ,GAAG,SAAS,SAACC,GACZ,IAAIC,EAAOD,EAASE,MACpBN,EAAM,QAASK,EAAKE,OACpBC,QAAQC,IAAIJ,EAAKE,UAGrBC,QAAQC,IAAI,0BAGHC,EAAuB,SAACV,GAC/BF,EACFb,EACGgB,WACAC,IAAIP,GACJQ,GAAG,SAAS,SAACC,GACZ,IAAIC,EAAOD,EAASE,MACpBN,EAAM,SAAUK,EAAKE,OACrBC,QAAQC,IAAIJ,EAAKE,OACjB,IAAII,EAAOC,OAAOC,KAAKR,GAAMS,KAAI,SAACC,GAAD,OAAUV,EAAKU,MAChDP,QAAQC,IAAIE,MAGhBH,QAAQC,IAAI,2B,gJCfDO,EAhBc,SAACC,GAC5B,IAAMC,EAAS,GACVD,EAAOE,aACVD,EAAOC,WAAa,sBAEjBF,EAAOG,iBACVF,EAAOE,eAAiB,sBAErBH,EAAOI,QACVH,EAAOG,MAAQ,sBAEZJ,EAAOK,QACVJ,EAAOI,MAAQ,uB,SCJbC,EAAc,SAAC,GAAD,IAClBC,EADkB,EAClBA,MACAC,EAFkB,EAElBA,MACAC,EAHkB,EAGlBA,KACAC,EAJkB,EAIlBA,MACAC,EALkB,EAKlBA,SALkB,IAMlBC,KAAQC,EANU,EAMVA,QAASC,EANC,EAMDA,MAAOC,EANN,EAMMA,QANN,OAQlB,yBAAKC,UAAU,cACb,2BAAOC,QAAQ,GAAGD,UAAU,cACzBR,GAEH,2CACMD,EADN,CAEEE,KAAMA,EACNO,UAAU,eACVE,IAAI,IACJC,KAAK,QACLC,UAAWV,EACXC,SAAUA,KAEXE,IACGC,GAAS,uBAAGE,UAAU,oBAAoBF,IACzCC,GAAW,2BAAIA,MAGlBM,E,kDACJ,WAAYtC,GAAQ,IAAD,8BACjB,cAAMA,IAMRuC,aAAe,SAACf,GAAD,OAAW,SAACgB,GACzB,IAGIC,GAHOD,EAAEE,OAAOC,MAChBH,EAAEE,OAAOC,MACT,0CACsBC,MAAM,KAChC,EAAKC,SAAS,CACZC,UAAWL,EAAe,GAC1BM,WAAYN,EAAe,GAC3BO,UAAWP,EAAe,GAC1BQ,UAAWR,EAAe,OAd5B,EAAKS,MAAQ,CACXC,WAAY,IAHG,E,uDAqBjBC,KAAKpD,MAAMqD,OAAO,QAASD,KAAKF,MAAMH,YACtCK,KAAKpD,MAAMqD,OAAO,iBAAkBD,KAAKF,MAAMF,WAC/CI,KAAKpD,MAAMqD,OAAO,aAAcD,KAAKF,MAAMD,a,iCAG3CG,KAAKpD,MAAMqD,OACT,QACqB,QAArBD,KAAKpD,MAAMsB,MAAkB,EAAI8B,KAAKpD,MAAMsB,S,0CAI3B,IAAD,OAClBgC,IAAMC,IAAIC,2EACPC,MAAK,SAACC,GAAD,OACJ,EAAKb,SAAS,CACZM,WAAYO,EAAIrD,UAGnBsD,OAAM,SAACC,GAAD,OAASpD,QAAQC,IAAImD,MAC9B7D,YAAaqD,KAAKpD,MAAMqD,U,+BAGxB,OACE,0BAAMQ,SAAUT,KAAKpD,MAAM8D,cACzB,yBAAK7B,UAAU,OACb,yBAAKA,UAAU,qBACb,2BAAOC,QAAQ,IAAf,eACA,kBAAC6B,EAAA,EAAD,CACEC,KAAK,aACLC,UAAU,SACVhC,UAAU,eACViC,SAAUd,KAAKb,eACf4B,OAAQf,KAAKgB,YAEb,4BAAQzB,MAAM,0BAA0B0B,IAAI,WAA5C,kBAGCjB,KAAKF,MAAMC,WAAWrC,KAAI,SAACC,GAAD,OACzB,4BACE4B,MACE5B,EAAK+B,UACL,IACA/B,EAAKgC,WACL,IACAhC,EAAKiC,UACL,IACAjC,EAAKkC,UAEPoB,IAAKtD,EAAK+B,WAET/B,EAAKkC,gBAKd,yBAAKhB,UAAU,qBACb,kBAAC8B,EAAA,EAAD,CACEC,KAAK,iBACLvC,MAAM,YACNwC,UAAW1C,EACXG,KAAK,OACLyC,OAAQf,KAAKkB,WACb1C,UAAU,KAGd,yBAAKK,UAAU,qBACb,kBAAC8B,EAAA,EAAD,CACEC,KAAK,QACLvC,MAAM,aACNwC,UAAW1C,EACXG,KAAK,OACLyC,OAAQf,KAAKkB,cAGjB,yBAAKrC,UAAU,qBACb,kBAAC8B,EAAA,EAAD,CACEC,KAAK,QACLvC,MAAM,aACNwC,UAAW1C,EACXG,KAAK,OACLyC,OAAQf,KAAKkB,WACb1C,UAAU,KAGd,yBAAKK,UAAU,uBACb,yBAAKA,UAAU,cACb,4BACEA,UAAU,4BACVsC,QAASnB,KAAKoB,QAFhB,uB,GA5GqBC,aA0HnCnC,EAAuBoC,YAAU,CAC/BC,KAAM,uBACNC,oBAAoB,EACpBC,SAAU7D,GAHW0D,CAIpBpC,GACH,IAAMwC,EAAWC,YAAkB,wBACpBC,uBAAQ,SAAC9B,GAAW,IAAD,EACE4B,EAAS5B,EAAO,QAAS,kBAAnD7B,EADwB,EACxBA,MAAOD,EADiB,EACjBA,eACf,MAAO,CACLE,OAAQ2D,WAAW5D,IAAU4D,WAAW7D,GAAkB,MAAM8D,QAAQ,MAH7DF,CAKZ1C","file":"static/js/158.69aa9cf3.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDZH49wStpEG3wK8IdFwUpt9QHfbliYtdk\",\r\n  authDomain: \"timbangannagatech.firebaseapp.com\",\r\n  databaseURL: \"https://timbangannagatech-default-rtdb.firebaseio.com\",\r\n  projectId: \"timbangannagatech\",\r\n  storageBucket: \"timbangannagatech.appspot.com\",\r\n  messagingSenderId: \"266997300577\",\r\n  appId: \"1:266997300577:web:8f4d8441b9267ed6d3d920\",\r\n  measurementId: \"G-SXVC6P8KNE\",\r\n};\r\n\r\nexport default firebase.initializeApp(firebaseConfig);\r\n","import firebase from \"./firebase\";\r\n\r\nconst namaTimbangan = localStorage.getItem(\"namaTimbangan\");\r\nlet enableTimbangan = localStorage.getItem(\"enableTimbangan\");\r\nexport const getTimbangan = (props) => {\r\n  if (enableTimbangan) {\r\n    firebase\r\n      .database()\r\n      .ref(namaTimbangan)\r\n      .on(\"value\", (snapshot) => {\r\n        let data = snapshot.val();\r\n        props(\"bruto\", data.nilai);\r\n        console.log(data.nilai);\r\n      });\r\n  } else {\r\n    console.log(\"TIMBANGAN TIDAK AKTIF\");\r\n  }\r\n};\r\nexport const getTimbanganValidasi = (props) => {\r\n  if (enableTimbangan) {\r\n    firebase\r\n      .database()\r\n      .ref(namaTimbangan)\r\n      .on(\"value\", (snapshot) => {\r\n        let data = snapshot.val();\r\n        props(\"jumlah\", data.nilai);\r\n        console.log(data.nilai);\r\n        let coba = Object.keys(data).map((list) => data[list]);\r\n        console.log(coba);\r\n      });\r\n  } else {\r\n    console.log(\"TIMBANGAN TIDAK AKTIF\");\r\n  }\r\n};\r\nexport const getTimbanganGross = (props) => {\r\n  if (enableTimbangan) {\r\n    firebase\r\n      .database()\r\n      .ref(namaTimbangan)\r\n      .on(\"value\", (snapshot) => {\r\n        let data = snapshot.val();\r\n        props(\"gross\", data.nilai);\r\n        console.log(data.nilai);\r\n        let coba = Object.keys(data).map((list) => data[list]);\r\n        console.log(coba);\r\n      });\r\n  } else {\r\n    console.log(\"TIMBANGAN TIDAK AKTIF\");\r\n  }\r\n};\r\n","const validationKirimMasak = (values) => {\r\n  const errors = {};\r\n  if (!values.kodeBarang) {\r\n    errors.kodeBarang = \"Tidak Boleh Kosong\";\r\n  }\r\n  if (!values.kadarTransaksi) {\r\n    errors.kadarTransaksi = \"Tidak Boleh Kosong\";\r\n  }\r\n  if (!values.bruto) {\r\n    errors.bruto = \"Tidak Boleh Kosong\";\r\n  }\r\n  if (!values.netto) {\r\n    errors.netto = \"Tidak Boleh Kosong\";\r\n  }\r\n};\r\n\r\nexport default validationKirimMasak;\r\n","import React, { Component } from \"react\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport validationKirimMasak from \"../../Validations/validationKirimMasak\";\r\nimport { getTimbangan } from \"../../GetTimbangan\";\r\n\r\nconst server = process.env.REACT_APP_BACKEND_URL;\r\nconst renderField = ({\r\n  input,\r\n  label,\r\n  type,\r\n  limit,\r\n  readOnly,\r\n  meta: { touched, error, warning },\r\n}) => (\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"\" className=\"text-black\">\r\n      {label}\r\n    </label>\r\n    <input\r\n      {...input}\r\n      type={type}\r\n      className=\"form-control\"\r\n      min=\"0\"\r\n      step=\"0.001\"\r\n      maxLength={limit}\r\n      readOnly={readOnly}\r\n    />\r\n    {touched &&\r\n      ((error && <p className=\"invalid-feedback\">{error}</p>) ||\r\n        (warning && <p>{warning}</p>))}\r\n  </div>\r\n);\r\nclass FormKirimMasakBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listBarang: [],\r\n    };\r\n  }\r\n\r\n  handleChange = (input) => (e) => {\r\n    var supp = e.target.value\r\n      ? e.target.value\r\n      : \"DEFAULT | DEFAULT | DEFAULT | DEFAULT \";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeJenis: result_explode[0],\r\n      kadarCetak: result_explode[1],\r\n      kadarBeli: result_explode[2],\r\n      namaJenis: result_explode[3],\r\n    });\r\n  };\r\n\r\n  setKadar() {\r\n    this.props.change(\"kadar\", this.state.kadarCetak);\r\n    this.props.change(\"kadarTransaksi\", this.state.kadarBeli);\r\n    this.props.change(\"keterangan\", this.state.namaJenis);\r\n  }\r\n  setNetto() {\r\n    this.props.change(\r\n      \"netto\",\r\n      this.props.netto === \"NaN\" ? 0 : this.props.netto\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    Axios.get(server + \"subcategorys2?kodeKelompok=PERHIASAN\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listBarang: res.data,\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n    getTimbangan(this.props.change);\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3 col-lg-3\">\r\n            <label htmlFor=\"\">Kode Barang</label>\r\n            <Field\r\n              name=\"kodeBarang\"\r\n              component=\"select\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange()}\r\n              onBlur={this.setKadar()}\r\n            >\r\n              <option value=\"DEFAULT|DEFAULT|DEFAULT\" key=\"DEFAULT\">\r\n                SILAHKAN PILIH\r\n              </option>\r\n              {this.state.listBarang.map((list) => (\r\n                <option\r\n                  value={\r\n                    list.kodeJenis +\r\n                    \"|\" +\r\n                    list.kadarCetak +\r\n                    \"|\" +\r\n                    list.kadarBeli +\r\n                    \"|\" +\r\n                    list.namaJenis\r\n                  }\r\n                  key={list.kodeJenis}\r\n                >\r\n                  {list.namaJenis}\r\n                </option>\r\n              ))}\r\n            </Field>\r\n          </div>\r\n          <div className=\"col-md-3 col-lg-3\">\r\n            <Field\r\n              name=\"kadarTransaksi\"\r\n              label=\"Kadar (%)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              onBlur={this.setNetto()}\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 col-lg-3\">\r\n            <Field\r\n              name=\"bruto\"\r\n              label=\"Bruto (Gr)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              onBlur={this.setNetto()}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 col-lg-3\">\r\n            <Field\r\n              name=\"netto\"\r\n              label=\"Netto (Gr)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              onBlur={this.setNetto()}\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button\r\n                className=\"btn btn-primary mb-3 mt-3\"\r\n                onClick={this.submit}\r\n              >\r\n                Tambah data\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormKirimMasakBarang = reduxForm({\r\n  form: \"FormKirimMasakBarang\",\r\n  enableReinitialize: true,\r\n  validate: validationKirimMasak,\r\n})(FormKirimMasakBarang);\r\nconst selector = formValueSelector(\"FormKirimMasakBarang\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { bruto, kadarTransaksi } = selector(state, \"bruto\", \"kadarTransaksi\");\r\n  return {\r\n    netto: (parseFloat(bruto) * (parseFloat(kadarTransaksi) / 100)).toFixed(3),\r\n  };\r\n})(FormKirimMasakBarang);\r\n"],"sourceRoot":""}