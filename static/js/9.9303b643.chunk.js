(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[9],{1132:function(e,a,t){"use strict";t.r(a);var n=t(15),r=t(16),o=t(236),s=t(18),l=t(17),i=t(0),c=t.n(i),m=t(341),p=t(342),d=t(345),u=t(13),k=t(234),g=t(237),h=t(21),b=t(5),E=t(42),f=t(6),v=t(25),y=Object(k.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),N=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).onclick1=r.onclick1.bind(Object(o.a)(r)),r.state={kodeBarang:[],DataSupplier:[],non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none",kode_barang:"",keterangan:"INI KETERANGAN",kadar:"",P:"",K:"",bungkus:"",berat:"",harga:"",murni:"",ongkos:"",status:"",kadarCetak:"",kadarBeli:"",namaJenis:"",kodeJenis:""},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(b.b)("jenis/get/all-no-image").then((function(a){return e.setState({kodeBarang:a.data.filter((function(e){return"AKSESORIS"===e.kode_kelompok||"PERHIASAN"===e.kode_kelompok}))})})).catch((function(e){return console.log(e)})),Object(g.a)(this.props.change)}},{key:"onclick1",value:function(){if(this.state.total_netto<this.props.netto)return Object(v.e)("Berat Melebihi Stock Tersedia"),!1;this.props.change("netto",this.props.netto),this.props.change("noFaktur",this.props.noFaktur),this.props.change("gross",this.props.gross)}},{key:"pilihBarang",value:function(e){var a=this,t=(e||"DEFAULT | DEFAULT | DEFAULT | DEFAULT | DEFAULT | DEFAULT").split("|");"return"===this.props.from&&Object(b.b)("jenis/get/stock-by-jenis-and-lokasi/"+t[0]).then((function(e){var t,n;return a.setState({total_netto:null===(t=e.data)||void 0===t?void 0:t.total_netto}),(null===(n=e.data)||void 0===n?void 0:n.total_netto)<1&&(Object(v.e)("Stock Barang Kurang Dari 1"),a.props.change("kodeJenis",""),a.props.change("kadar",""),a.props.change("p",""),a.props.change("k",""),a.props.change("pkg",""),a.props.change("bruto",""),a.props.change("kadarTransaksi",""),a.props.change("gross",""),a.props.change("netto",""),a.props.change("kode_kategori",""),a.props.change("rp",""),a.props.change("qty",""),a.props.change("harga_beli",""),!1)})),"AKSESORIS"===t[5]?this.setState({non_aksesoris:"col-lg-12 row d-none",aksesoris:"col-lg-12 row"}):this.setState({non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"}),this.setState({kodeJenis:t[0],namaJenis:t[1],kadarCetak:t[2],kadarBeli:t[3],kodeKategori:t[4],harga_beli:t[6]}),Object(f.w)("P")}},{key:"setKadar",value:function(){this.props.change("keterangan",this.state.namaJenis),this.props.change("kadar",this.state.kadarCetak),this.props.change("kadarTransaksi",this.state.kadarBeli),this.props.change("kode_kategori",this.state.kodeKategori),this.props.change("harga_beli",this.state.harga_beli)}},{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(m.a,{name:"noFaktur",label:this.props.noFaktur,type:"text",readOnly:!0,component:h.a,defaultValue:this.props.noFaktur,normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:"col-md-4 form-group"},""!==String(this.state.kodeBarang)?c.a.createElement(m.a,{label:"Kode Model",name:"kodeJenis",component:h.b,options:this.state.kodeBarang.map((function(e){return{value:e.kode_jenis+"|"+e.nama_jenis+"|"+e.kadar_cetak+"|"+e.kadar_beli+"|"+e.kode_kategori+"|"+e.kode_kelompok+"|"+(null===e||void 0===e?void 0:e.harga_beli),name:e.nama_jenis}})),onChange:function(a){return e.pilihBarang(a)},onBlur:this.setKadar(),placeholder:"Silahkan Pilih"}):c.a.createElement(E.a,{label:"Kode Model"})),c.a.createElement("div",{className:"col-md-8 form-group",style:"terima"===this.props.from?null:{visibility:"hidden"}},c.a.createElement(m.a,{name:"keterangan",label:"Keterangan",type:"text",component:h.a,normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:this.state.non_aksesoris},c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"kadar",label:"Cap Kode",type:"number",component:h.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"p",label:"P",type:"number",component:h.a})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"k",label:"K",type:"number",component:h.a})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"pkg",label:"Bungkus (Gr)",type:"number",component:h.a,onBlur:this.onclick1()})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"bruto",label:"Berat (Gr)",type:"number",component:h.a,onBlur:this.onclick1()})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"kadarTransaksi",label:"Kode Awal (%)",type:"number",component:h.a,onBlur:this.onclick1()})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"gross",label:"Gross (Gr)",type:"number",component:h.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{name:"netto",label:"Murni (Gr)",type:"number",component:h.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 form-group d-none"},c.a.createElement(m.a,{name:"kode_kategori",label:"Kode Kategori",type:"number",component:h.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),c.a.createElement(m.a,Object.assign({name:"rp",component:"input",type:"tel",className:"form-control"},y)))),c.a.createElement("div",{className:this.state.aksesoris},c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(m.a,{name:"qty",label:"QTY",type:"number",component:h.a})),c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement("label",{htmlFor:""},"Harga Beli (Rp)"),c.a.createElement(m.a,Object.assign({name:"harga_beli",component:"input",type:"tel",className:"form-control"},y)))),c.a.createElement("div",{className:"col-md-12 form-group mt-3"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.submitting},"Simpan")))))}}]),t}(i.Component);N=Object(p.a)({form:"TerimaSupplier",enableReinitialize:!0})(N);var _=Object(d.a)("TerimaSupplier");a.default=Object(u.b)((function(e){var a=_(e,"bruto","kadarTransaksi","pkg"),t=a.bruto,n=a.kadarTransaksi,r=a.pkg;return{netto:(Number(t)*(Number(n)/100)).toFixed(3),gross:(Number(t)+Number(r)).toFixed(2),initialValues:{discGlobalPr:0,p:0,k:0,pkg:0,bruto:0,rp:0}}}))(N)}}]);
//# sourceMappingURL=9.9303b643.chunk.js.map