{"version":3,"sources":["Validations/validationTerimaMasak.js","Stocking/Component/FormTerimaMasak.jsx","Stocking/TerimaMasak.jsx"],"names":["validaitonTerimaMasak","value","errors","kodeBarang","bruto","nettoTerima","renderField","input","label","type","limit","readOnly","meta","touched","error","warning","className","htmlFor","min","step","maxLength","serverNonMaster","process","REACT_APP_BACKEND_URL_NON_MASTER","FormTerimaMasak","props","inputChange","e","setState","target","handleChange","result_explode","split","kodeJenis","kadarCetak","kadarJual","namaJenis","change","searchMasak","console","log","Axios","get","then","res","hasilBarang","data","footerItem","totalNetto","kodeTukang","kodeLokasi","noKirim","noFaktur","state","catch","err","Swal","fire","position","icon","text","timer","showConfirmButton","listBarang","server","getTimbangan","this","netto","nettoSelisih","onSubmit","handleSubmit","id","name","onBlur","Field","component","setNetto","onChange","key","map","list","normalize","toUpperCase","Component","reduxForm","form","enableReinitialize","validate","selector","formValueSelector","connect","kadarTransaksi","nettoKirim","parseFloat","toFixed","TerimaMasak","submit","localStorage","getItem","tanggal","noBon","barangDetails","JSON","parse","sumNetto","totalBruto","sumBruto","totalNettoExt","totalP","totalGross","totalQty","sumQty","totalpkg","totalRp","totalK","footerDocument","inputBy","username","dispatch","progressSend","tableRows","forEach","ticket","i","ticketData","push","columTable","post","finishSend","removeItem","PrintNota","reset","getUUID","getTableTerimaMasak","products","no","no_kirim","kode_barang","kadar_cetak","netto_terima","netto_selisih","netto_kirim","status","columns","dataField","footer","columnData","reduce","acc","item","csvExport","formatter","rowContent","row","rowIndex","data-tip","data-for","onClick","deleteIndex","effect","getNetto","getBruto","getQty","explode","simpan","kodeKategori","brutoTerima","array","setItem","stringify","style","color","HeaderCard","title","disabled","onSend","aria-hidden","data-target","data-toggle","listTerimaMasak","keyField","bordered","headerClasses","noDataIndication","tabIndex","role","aria-labelledby","data-dismiss","provinsi","perhitungan"],"mappings":"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","file":"static/js/111.9149d2a1.chunk.js","sourcesContent":["const validaitonTerimaMasak = (value) => {\r\n  const errors = {};\r\n  if (!value.kodeBarang === \"DEFAULT\") {\r\n    errors.kodeBarang = \"Tidak Boleh kosong\";\r\n  } else if (!value.kodeBarang) {\r\n    errors.kodeBarang = \"Tidak Boleh Kosong\";\r\n  }\r\n  if (!value.bruto) {\r\n    errors.bruto = \"Tidak Boleh kosong\";\r\n  }\r\n  if (!value.nettoTerima) {\r\n    errors.nettoTerima = \"Tidak boleh kosong\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validaitonTerimaMasak;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport Axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport validaitonTerimaMasak from \"../../Validations/validationTerimaMasak\";\r\nimport { getTimbangan } from \"../../GetTimbangan\";\r\n\r\nconst server = process.env.REACT_APP_BACKEND_URL;\r\nconst renderField = ({\r\n  input,\r\n  label,\r\n  type,\r\n  limit,\r\n  readOnly,\r\n  meta: { touched, error, warning },\r\n}) => (\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"\" className=\"text-black\">\r\n      {label}\r\n    </label>\r\n    <input\r\n      {...input}\r\n      type={type}\r\n      className=\"form-control\"\r\n      min=\"0\"\r\n      step=\"0.001\"\r\n      maxLength={limit}\r\n      readOnly={readOnly}\r\n    />\r\n    {touched &&\r\n      ((error && <p className=\"invalid-feedback\">{error}</p>) ||\r\n        (warning && <p>{warning}</p>))}\r\n  </div>\r\n);\r\nconst serverNonMaster = process.env.REACT_APP_BACKEND_URL_NON_MASTER;\r\nclass FormTerimaMasak extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listBarang: [],\r\n      hasilBarang: [],\r\n    };\r\n  }\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    Axios.get(server + \"subcategorys2?kodeKelompok=PERHIASAN\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listBarang: res.data,\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n    getTimbangan(this.props.change);\r\n  }\r\n\r\n  handleChange = (input) => (e) => {\r\n    var supp = e.target.value\r\n      ? e.target.value\r\n      : \"DEFAULT | DEFAULT | DEFAULT | DEFAULT \";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeJenis: result_explode[0],\r\n      kadarCetak: result_explode[1],\r\n      kadarJual: result_explode[2],\r\n      namaJenis: result_explode[3],\r\n    });\r\n    this.props.change(\"kadar\", result_explode[1]);\r\n    this.props.change(\"kadarTransaksi\", result_explode[2]);\r\n    this.props.change(\"keterangan\", result_explode[3]);\r\n  };\r\n\r\n  setNetto() {\r\n    this.props.change(\r\n      \"nettoTerima\",\r\n      this.props.netto === \"NaN\" ? 0 : this.props.netto\r\n    );\r\n    this.props.change(\r\n      \"nettoSelisih\",\r\n      this.props.nettoSelisih === \"NaN\" ? 0 : this.props.nettoSelisih\r\n    );\r\n  }\r\n\r\n  searchMasak = (input) => (e) => {\r\n    console.log(\"MEMULAI PENCARIAN\");\r\n    console.log(e.target.value);\r\n    Axios.get(\r\n      serverNonMaster + \"item/dc/kirimmasak/detail?noFaktur=\" + e.target.value\r\n    )\r\n      .then((res) =>\r\n        this.setState({\r\n          hasilBarang: res.data.footerItem.totalNetto,\r\n          kodeTukang: res.data.kodeLokasi,\r\n          noKirim: res.data.noFaktur,\r\n        })\r\n      )\r\n      .then((res) => this.props.change(\"nettoKirim\", this.state.hasilBarang))\r\n      .then(() => this.props.change(\"kodeTukang\", this.state.kodeTukang))\r\n      .then(() => this.props.change(\"noKirim\", this.state.noKirim))\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-right\",\r\n          icon: \"error\",\r\n          text: \"Barang Masak Tidak Ditemukan, periksa lagi Nomornya..\",\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n        }).then(() => console.log(err))\r\n      );\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 col-lg-6 form-group\">\r\n              <label htmlFor=\"\">Nomor Kirim</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"noKirim\"\r\n                name=\"noKirim\"\r\n                className=\"form-control\"\r\n                onBlur={this.searchMasak(\"kode\")}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group d-none\">\r\n              <Field\r\n                name=\"noKirim\"\r\n                label=\"Nomor Kirim\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group d-none\">\r\n              <Field\r\n                name=\"kodeTukang\"\r\n                label=\"Nomor Kirim\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <label htmlFor=\"\">Kode Model</label>\r\n              <Field\r\n                component=\"select\"\r\n                name=\"kodeBarang\"\r\n                className=\"form-control\"\r\n                onChange={this.handleChange()}\r\n                onBlur={this.handleChange()}\r\n              >\r\n                <option value=\"DEFAULT\" key=\"DEFAULT\">\r\n                  SILAHKAN PILIH\r\n                </option>\r\n                {this.state.listBarang.map((list) => (\r\n                  <option\r\n                    value={\r\n                      list.kodeJenis +\r\n                      \"|\" +\r\n                      list.kadarCetak +\r\n                      \"|\" +\r\n                      list.kadarJual +\r\n                      \"|\" +\r\n                      list.namaJenis\r\n                    }\r\n                    key={list.kodeJenis}\r\n                  >\r\n                    {list.namaJenis}\r\n                  </option>\r\n                ))}\r\n              </Field>\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <Field\r\n                name=\"kadarTransaksi\"\r\n                label=\"Cap Kode\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <Field\r\n                name=\"bruto\"\r\n                label=\"Bruto (Gr)\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <Field\r\n                name=\"nettoTerima\"\r\n                label=\"Netto Terima\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <Field\r\n                name=\"nettoKirim\"\r\n                label=\"Netto Kirim\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group\">\r\n              <Field\r\n                name=\"nettoSelisih\"\r\n                label=\"Netto Selisih\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 form-group d-none\">\r\n              <Field\r\n                name=\"keterangan\"\r\n                label=\"Netto Selisih\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                onBlur={this.setNetto()}\r\n                normalize={(value) => value && value.toUpperCase()}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-12 col-md-12 mb-3 mt-3\">\r\n              <div className=\"text-right\">\r\n                <button className=\"btn btn-primary\" type=\"submit\">\r\n                  Tambah Data\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormTerimaMasak = reduxForm({\r\n  form: \"FormTerimaMasak\",\r\n  enableReinitialize: true,\r\n  validate: validaitonTerimaMasak,\r\n})(FormTerimaMasak);\r\nconst selector = formValueSelector(\"FormTerimaMasak\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { bruto, kadarTransaksi, nettoKirim, nettoTerima } = selector(\r\n    state,\r\n    \"bruto\",\r\n    \"kadarTransaksi\",\r\n    \"nettoKirim\",\r\n    \"nettoTerima\"\r\n  );\r\n  return {\r\n    netto: (parseFloat(bruto) * (parseFloat(kadarTransaksi) / 100)).toFixed(3),\r\n    nettoSelisih: (\r\n      parseFloat(nettoTerima ? nettoTerima : 0) -\r\n      parseFloat(nettoKirim ? nettoKirim : 0)\r\n    ).toFixed(3),\r\n  };\r\n})(FormTerimaMasak);\r\n","import React, { Component } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport FormTerimaMasak from \"./Component/FormTerimaMasak\";\r\nimport { connect } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getTableTerimaMasak } from \"../actions/TerimaMasakAction\";\r\nimport {\r\n  finishSend,\r\n  getBruto,\r\n  getNetto,\r\n  getQty,\r\n  progressSend,\r\n} from \"../actions/LogicAction\";\r\nimport Axios from \"axios\";\r\nimport PrintNota from \"./Component/PrintNota\";\r\nimport { warning } from \"../Alert\";\r\nimport { reset } from \"redux-form\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { deleteIndex } from \"../deleteLocalStorage\";\r\nimport HeaderCard from \"../HeaderCard\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    noFaktur: state.provinsi.noFaktur,\r\n    username: state.provinsi.username,\r\n    listTerimaMasak: state.provinsi.listTerimaMasak,\r\n    sumBruto: state.perhitungan.sumBruto,\r\n    sumNetto: state.perhitungan.sumNetto,\r\n    sumQty: state.perhitungan.sumQty,\r\n    onSend: state.provinsi.onSend,\r\n  };\r\n};\r\n\r\nconst serverNonMaster = process.env.REACT_APP_BACKEND_URL_NON_MASTER;\r\nclass TerimaMasak extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      no: 0,\r\n      no_kirim: \"\",\r\n      kode_barang: \"\",\r\n      kadar_cetak: \"\",\r\n      bruto: 0,\r\n      netto_terima: 0,\r\n      netto_selisih: 0,\r\n      netto_kirim: 0,\r\n      status: \"\",\r\n      tanggal: \"\",\r\n      columns: [\r\n        {\r\n          dataField: \"kodeJenis\",\r\n          text: \"Kode Model\",\r\n          footer: \"\",\r\n        },\r\n        {\r\n          dataField: \"kodeTukang\",\r\n          text: \"Kode Tukang\",\r\n          footer: \"\",\r\n        },\r\n        {\r\n          dataField: \"kadarCetak\",\r\n          text: \"Cap Kode\",\r\n          footer: \"\",\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Bruto(Gr)\",\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0),\r\n        },\r\n        {\r\n          dataField: \"nettoTerima\",\r\n          text: \"Netto Terima(Gr)\",\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0),\r\n        },\r\n        {\r\n          dataField: \"nettoKirim\",\r\n          text: \"Netto Kirim(Gr)\",\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0),\r\n        },\r\n        {\r\n          dataField: \"nettoSelisih\",\r\n          text: \"Netto Selisih(Gr)\",\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0),\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger mr-2\"\r\n                  onClick={() =>\r\n                    deleteIndex(\r\n                      \"terimaMasak\",\r\n                      rowIndex,\r\n                      this.props.dispatch,\r\n                      getTableTerimaMasak()\r\n                    )\r\n                  }\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash mr-1\"></i>\r\n                </button>\r\n                <br />\r\n                {/* <button\r\n                  data-tip\r\n                  data-for=\"edit\"\r\n                  className=\"btn btn-warning mr-2\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#editModal\"\r\n                  onClick={() => console.log(\"EDIT\")}\r\n                >\r\n                  <ReactTooltip id=\"edit\" type=\"dark\" effect=\"solid\">\r\n                    <span>Edit</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-edit mr-1\"></i>\r\n                </button> */}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getTableTerimaMasak());\r\n    this.props.dispatch(getUUID());\r\n    this.props.dispatch(getNetto(\"terimaMasak\"));\r\n    this.props.dispatch(getBruto(\"terimaMasak\"));\r\n    this.props.dispatch(getQty(\"terimaMasak\"));\r\n  }\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  submit = () => {\r\n    if (localStorage.getItem(\"terimaMasak\") === null) {\r\n      warning(\"Data belum timbahkan, Silahkan Tambahkan data dahulu\");\r\n      return false;\r\n    } else if (this.state.tanggal === \"\") {\r\n      warning(\"Mohon isi tanggal\");\r\n      return false;\r\n    }\r\n    var data = {\r\n      noFaktur: this.props.noFaktur.toUpperCase(),\r\n      kodeLokasi: \"PUSAT\",\r\n      noBon: this.props.noFaktur.toUpperCase(),\r\n      tanggal: this.state.tanggal.toUpperCase(),\r\n      barangDetails: JSON.parse(localStorage.getItem(\"terimaMasak\")),\r\n      footerItem: {\r\n        totalNetto: this.props.sumNetto,\r\n        totalBruto: this.props.sumBruto,\r\n        totalNettoExt: 0,\r\n        totalP: 0,\r\n        totalGross: 0,\r\n        totalQty: this.props.sumQty,\r\n        totalpkg: 0,\r\n        totalRp: 0,\r\n        totalK: 0,\r\n      },\r\n      footerDocument: {\r\n        inputBy: this.props.username, //INPUT BY DEFAULT\r\n      },\r\n    };\r\n    this.props.dispatch(progressSend());\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [];\r\n    var table = JSON.parse(localStorage.getItem(\"terimaMasak\"));\r\n    // for each ticket pass all its data into an array\r\n    table.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        i++,\r\n        ticket.kodeJenis,\r\n        ticket.kodeTukang,\r\n        ticket.bruto,\r\n        ticket.kadarTransaksi,\r\n        ticket.nettoTerima,\r\n        ticket.nettoKirim,\r\n        ticket.nettoSelisih,\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    console.log(tableRows);\r\n    var columTable = [\r\n      \"No\",\r\n      \"Kode Jenis\",\r\n      \"Kode Tukang\",\r\n      \"Bruto\",\r\n      \"Harga (%)\",\r\n      \"Netto Terima\",\r\n      \"Netto Kirim\",\r\n      \"Netto Selisih\",\r\n    ];\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    Axios.post(serverNonMaster + \"item/dc/terimamasak\", data)\r\n      .then(() =>\r\n        Swal.fire({\r\n          position: \"top-right\",\r\n          icon: \"success\",\r\n          text: \"Transaksi Berhasil\",\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n        })\r\n          .then(() => this.props.dispatch(finishSend()))\r\n          .then(() => localStorage.removeItem(\"noFaktur\"))\r\n          .then(() =>\r\n            PrintNota(\r\n              \"Tanggal\",\r\n              this.state.tanggal.toUpperCase(),\r\n              \"\",\r\n              \"\",\r\n              \"No Faktur\",\r\n              this.props.noFaktur.toUpperCase(),\r\n              \"\",\r\n              \"\",\r\n              \"ADMIN\",\r\n              this.state.tanggal.toUpperCase(),\r\n              \"\",\r\n              columTable,\r\n              \"BUKTI TERIMA MASAK\",\r\n              tableRows\r\n            )\r\n          )\r\n          .then(() => localStorage.removeItem(\"terimaMasak\"))\r\n          .then(() => this.props.dispatch(reset(\"FormTerimaMasak\")))\r\n          .then(() =>\r\n            this.setState({\r\n              tanggal: \"\",\r\n            })\r\n          )\r\n          .then(() => this.props.dispatch(getUUID()))\r\n          .then(() => this.props.dispatch(getTableTerimaMasak()))\r\n      )\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-right\",\r\n          icon: \"error\",\r\n          text: \"Sepertinya ada gangguan, Silahkan Check Koneksi anda\",\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n        })\r\n          .then(() => console.log(err))\r\n          .then(() => this.props.dispatch(finishSend()))\r\n      );\r\n  };\r\n\r\n  handleSubmit(data) {\r\n    var split = data.kodeBarang\r\n      ? data.kodeBarang\r\n      : \"DEFUALT|DEFUALT|DEFAULT|DEFAULT\";\r\n    var explode = split.split(\"|\");\r\n    var simpan = {\r\n      noFaktur: this.props.noFaktur.toUpperCase(),\r\n      kadarTransaksi: parseFloat(data.kadarTransaksi),\r\n      kodeTukang: data.kodeTukang.toUpperCase(),\r\n      kodeLokasi: \"PUSAT\",\r\n      kodeKategori: \"-\",\r\n      kadarCetak: explode[1].toUpperCase(),\r\n      kodeJenis: explode[0].toUpperCase(),\r\n      noKirim: data.noKirim.toUpperCase(),\r\n      brutoTerima: parseFloat(data.bruto),\r\n      bruto: parseFloat(data.bruto),\r\n      nettoTerima: parseFloat(data.nettoTerima),\r\n      nettoKirim: parseFloat(data.nettoKirim) ? parseFloat(data.nettoKirim) : 0,\r\n      nettoSelisih: parseFloat(data.nettoSelisih)\r\n        ? parseFloat(data.nettoSelisih)\r\n        : 0,\r\n    };\r\n    var array = JSON.parse(localStorage.getItem(\"terimaMasak\")) || [];\r\n    array.push(simpan);\r\n    localStorage.setItem(\"terimaMasak\", JSON.stringify(array));\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      icon: \"success\",\r\n      text: \"Data Berhasi Ditambahkan\",\r\n      timer: 1500,\r\n      showConfirmButton: false,\r\n    })\r\n      .then(() => this.props.dispatch(getTableTerimaMasak()))\r\n      .then(() => this.props.dispatch(reset(\"FormTerimaMasak\")));\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\" style={{ color: \"black\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"card\">\r\n              <HeaderCard title=\"Terima Masak\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3 col-lg-3 form-group\">\r\n                    <label htmlFor=\"\">Tanggal</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      id=\"tanggal\"\r\n                      name=\"tanggal\"\r\n                      className=\"form-control\"\r\n                      onChange={this.inputChange(\"tanggal\")}\r\n                      value={this.state.tanggal}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-9 col-lg-9\"></div>\r\n                </div>\r\n                <div className=\"col-lg-12 col-md-12 mb-3 mt-3\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"text-left\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          disabled={this.props.onSend}\r\n                          onClick={() => this.submit()}\r\n                        >\r\n                          {this.props.onSend ? (\r\n                            <span\r\n                              className=\"spinner-border spinner-border-sm mr-3\"\r\n                              aria-hidden=\"true\"\r\n                            ></span>\r\n                          ) : null}\r\n                          Simpan\r\n                          <i className=\"fa fa-paper-plane ml-3\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          data-target=\"#tambahModal\"\r\n                          data-toggle=\"modal\"\r\n                        >\r\n                          Tambah Data\r\n                          <i className=\"fa fa-plus ml-3\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {this.props.listTerimaMasak ? (\r\n                  <BootstrapTable\r\n                    keyField=\"id\"\r\n                    data={this.props.listTerimaMasak}\r\n                    columns={this.state.columns}\r\n                    bordered={true}\r\n                    headerClasses=\"header-table\"\r\n                  />\r\n                ) : (\r\n                  <BootstrapTable\r\n                    keyField=\"id\"\r\n                    data={[]}\r\n                    columns={this.state.columns}\r\n                    bordered={true}\r\n                    headerClasses=\"header-table\"\r\n                    noDataIndication=\"Tidak Ada Data\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          id=\"tambahModal\"\r\n          className=\"modal fade\"\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n          aria-labelledby=\"primary-header-modalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header modal-colored-header bg-primary\">\r\n                <h4 className=\"modal-title\" id=\"primary-header-modalLabel\">\r\n                  Tambah Data\r\n                </h4>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <FormTerimaMasak onSubmit={(data) => this.handleSubmit(data)} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(TerimaMasak);\r\n"],"sourceRoot":""}