{"version":3,"sources":["Transaksi/PreOrder.jsx","Transaksi/Component/FormBarcodePenjualanCustomer.jsx","Transaksi/Component/FormTimbanganPenjualanCustomer.jsx"],"names":["ModalMasterData","lazy","FormTransaksiPO","PreOrder","props","inputChange","input","e","setState","target","value","state","listLokasi","listSales","listCustomer","kodeCustomer","columns","dataField","text","csvExport","formatter","rowContent","row","rowIndex","className","data-tip","data-for","onClick","deleteRow","id","type","effect","noBon","namaCustomer","lokasi","sales","namaToko","toko","tanggal","data","Swal","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","array","JSON","parse","localStorage","getItem","splice","setItem","stringify","timer","showConfirmButton","position","dispatch","getListBarangPo","deleted","this","getLokasi","getsalesmanList","getcustomerList","getUUID","removeItem","getTotalNW","getBruto","getNetto","getPkg","getRp","getGross","getP","getK","getQty","GrandTotalNetto","parseFloat","toFixed","param","kodeBarang","simpan","kode_jenis","filter","request_warna_batu","request_lain","push","reset","warning","no_po","Date","now","no_preorder","kode_lokasi","toUpperCase","kode_sales","kode_customer","tanggal_selesai","getToday","detail_barang","progressSend","tableRows","forEach","ticket","i","ticketData","columTable","AxiosMasterPost","PrintNotaSuratJalan","getUserID","finishSend","document","getElementById","catch","err","response","console","log","split","levelCustomer","onKeyDown","event","key","htmlFor","name","label","onChange","defaultValue","options","search","placeholder","onSubmit","map","obj","nama_sales","nama_customer","nama_toko","level_customer","onSubmitToko","onBlur","disabled","showModal","class","aria-hidden","keyField","barangPO","onSend","transaksiPenjualanSubmit","tabIndex","role","aria-labelledby","data-dismiss","content","fallback","width","height","count","handleSubmit","Component","reduxForm","form","enableReinitialize","connect","noFaktur","provinsi","po","barangPO_temp","customer","salesman","totalNW","username","FormBarcodePenjualanCustomer","align","headerAlign","pilihBarcode","getClosePengambilanBarcode","a","sebelum","hasil","list","index","AxiosMasterGet","res","netto_disc","bruto","kadar_jual","gross","pkg","netto","qty","k","ongkos_rp","kadar_cetak","toString","disc_persen","kadar_level2","level2","kadar_level3","level3","kadar_modal","kadar_beli","kode_barcode","kode_barcode_set","p","disc","simpan_level2","simpan_level3","array_level2","array_level3","posisi","findIndex","reduce","b","getListTransaksiPenjualan","discGlobalGr","discGlobalPr","gagal","listCloseBarcode","jenis_trx","instansi","textEmpty","FormTimbanganPenjualanCustomer","pilihData","getClosePengambilanTimbangan","getListBarang","detail","json","addBarang","kode_tukar_1","kode_tukar_2","kode_tukar_3","customer_1","customer_2","customer_3","kode_tukar_normal","simpan_nota_1","simpan_nota_2","simpan_nota_3","nota_gambar","find","kode_kategori","posisi_2","posisi_3","lokasi_gambar","image","nota_1","undefined","toLocaleString","kode_tukar","keterangan","jumlah_barang_set","total_berat_barang_set","harga_jual","nota_2","nota_3","nota_1_else","nota_2_else","nota_3_else","setFocus","listCloseTimbangan"],"mappings":"iYAoCMA,EAAkBC,gBAAK,kBAC3B,4CAEIC,EAAkBD,gBAAK,kBAAM,oCAc7BE,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA6PRC,YAAc,SAACC,GAAD,OAAW,SAACC,GACxB,EAAKC,SAAL,eACGF,EAAQC,EAAEE,OAAOC,UA9PpB,EAAKC,MAAQ,CACXC,WAAY,GACZC,UAAW,GACXC,aAAc,GACdC,aAAc,GACdC,QAAS,CACP,CACEC,UAAW,aACXC,KAAM,cAER,CACED,UAAW,qBACXC,KAAM,sBAER,CACED,UAAW,eACXC,KAAM,gBAER,CACED,UAAW,OACXC,KAAM,OACNC,WAAW,EACXC,UAAW,SAACC,EAAYC,EAAKC,GAC3B,OACE,yBAAKC,UAAU,eACb,4BACEC,YAAA,EACAC,WAAS,QACTF,UAAU,sBACVG,QAAS,kBAAM,EAAKC,UAAUL,KAE9B,kBAAC,IAAD,CAAcM,GAAG,QAAQC,KAAK,OAAOC,OAAO,SAC1C,wCAEF,uBAAGP,UAAU,sBAEf,iCAMVQ,MAAO,GACPC,aAAc,GACdC,OAAQ,GACRC,MAAO,GACPC,SAAU,GACVC,KAAM,GACNC,QAAS,GACTC,KAAM,IAnDS,E,6CAuDnB,SAAUhB,GAAW,IAAD,OAClBiB,IAAKC,KAAK,CACRC,MAAO,eACPxB,KAAM,iCACNyB,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,OACnBC,kBAAmB,oBAClBC,MAAK,SAACC,GACP,GAAIA,EAAOC,YAAa,CACtB,IAAMC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB,GACnEJ,EAAMK,OAAOjC,EAAU,GACvB+B,aAAaG,QAAQ,gBAAiBL,KAAKM,UAAUP,IACrDX,IAAKC,KAAK,CACRvB,KAAM,WACNyC,MAAO,IACPC,mBAAmB,EACnBC,SAAU,YACVlB,KAAM,YAELK,MAAK,kBAAM,EAAK5C,MAAM0D,SAASC,kBAC/Bf,MAAK,kBACJ,EAAKxC,SAAS,CACZwD,SAAS,a,+BAMrB,WACEC,KAAK7D,MAAM0D,SAASI,eACpBD,KAAK7D,MAAM0D,SAASK,eACpBF,KAAK7D,MAAM0D,SAASM,eACpBH,KAAK7D,MAAM0D,SAASO,eACpBf,aAAagB,WAAW,iBACxBhB,aAAagB,WAAW,mBACxBL,KAAK7D,MAAM0D,SAASC,eACpBE,KAAK7D,MAAM0D,SAASS,eACpBN,KAAK7D,MAAM0D,SAASU,YAAS,uBAC7BP,KAAK7D,MAAM0D,SAASW,YAAS,uBAC7BR,KAAK7D,MAAM0D,SAASY,YAAO,uBAC3BT,KAAK7D,MAAM0D,SAASa,YAAM,uBAC1BV,KAAK7D,MAAM0D,SAASc,YAAS,uBAC7BX,KAAK7D,MAAM0D,SAASe,YAAK,uBACzBZ,KAAK7D,MAAM0D,SAASgB,YAAK,uBACzBb,KAAK7D,MAAM0D,SAASiB,YAAO,uBAC3Bd,KAAKzD,SAAS,CACZwE,iBACEC,WAAW3B,aAAaC,QAAQ,oBAAsB,GAAK,GAC3D2B,QAAQ,O,0BAId,SAAa3C,GACX,IAAI4C,EAAQ5C,EAAK6C,WAIbC,EAAS,CACXC,WAJUrB,KAAK7D,MAAMgF,WAAWG,QAChC,SAAChD,GAAD,OAAUA,EAAK+C,aAAeH,KAGZ,GAAGG,YAAc,EACnCE,mBAAoBjD,EAAKiD,mBACzBC,aAAclD,EAAKkD,cAAgB,KAEjCtC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB,GACjEJ,EAAMuC,KAAKL,GACX/B,aAAaG,QAAQ,gBAAiBL,KAAKM,UAAUP,IACrDX,IAAKC,KAAK,CACRoB,SAAU,UACVlB,KAAM,UACNzB,KAAM,6BACN0C,mBAAmB,EACnBD,MAAO,OAETM,KAAK7D,MAAM0D,SAASC,eACpBE,KAAK7D,MAAM0D,SAASS,eACpBN,KAAK7D,MAAM0D,SAAS6B,YAAM,sB,sCAG5B,WAA4B,IAAD,OACzB,GAA8C,OAA1CrC,aAAaC,QAAQ,iBAEvB,OADAqC,YAAQ,gDACD,EACF,GAA0B,KAAtB3B,KAAKtD,MAAMuB,OAEpB,OADA0D,YAAQ,uBACD,EACF,GAAyB,KAArB3B,KAAKtD,MAAMwB,MAEpB,OADAyD,YAAQ,sBACD,EACF,GAA4B,KAAxB3B,KAAKtD,MAAMyB,SAEpB,OADAwD,YAAQ,qBACD,EAET,IAAMC,EAAQ,MAAQC,KAAKC,MACvBV,EAAS,CACXW,YAAaH,EACbI,YAAahC,KAAKtD,MAAMuB,OAAOgE,cAC/BC,WAAYlC,KAAKtD,MAAMwB,MAAM+D,cAC7BE,cAAenC,KAAKtD,MAAMI,aAAamF,cACvCG,gBAAiBpC,KAAKtD,MAAM2B,SAAWgE,YAAS,GAChDhE,QAASgE,cACTC,cAAenD,KAAKC,MAAMC,aAAaC,QAAQ,mBAEjDU,KAAK7D,MAAM0D,SAAS0C,eAEpB,IAAMC,EAAY,GACNrD,KAAKC,MAAMC,aAAaC,QAAQ,kBAEtCmD,SAAQ,SAACC,EAAQC,GACrB,IAAMC,EAAa,GACfD,EACFD,EAAOrB,WACPqB,EAAOnB,mBACPmB,EAAOlB,cAGTgB,EAAUf,KAAKmB,MAEjB,IAAIC,EAAa,CAAC,CAAC,KAAM,OAAQ,qBAAsB,iBAEvDC,YAAgB,mBAAoB1B,GACjCrC,MAAK,kBACJR,IAAKC,KAAK,CACRoB,SAAU,UACVlB,KAAM,UACNzB,KAAM,6BACN0C,mBAAmB,EACnBD,MAAO,OAENX,MAAK,WACJgE,YACE,UACAnB,EACA,SACAS,cACA,QACA,eACA,cACA,EAAK3F,MAAM2B,SAAWgE,YAAS,GAC/B,QACAA,cACA,GACAQ,EACA,WACAL,EACA,GACA,YAEFO,YACE,UACAnB,EACA,SACAS,cACA,WACA,EAAK3F,MAAMsB,aACX,cACA,EAAKtB,MAAM2B,SAAWgE,YAAS,GAC/BW,cACAX,cACA,GACAQ,EACA,WACAL,EACA,GACA,eAGHzD,MAAK,kBAAM,EAAK5C,MAAM0D,SAASoD,kBAC/BlE,MAAK,kBAAMM,aAAagB,WAAW,oBACnCtB,MAAK,kBAAMM,aAAagB,WAAW,sBACnCtB,MAAK,kBAAMM,aAAagB,WAAW,eACnCtB,MAAK,kBAAM,EAAK5C,MAAM0D,SAASO,kBAC/BrB,MAAK,kBAAM,EAAK5C,MAAM0D,SAASS,kBAC/BvB,MAAK,kBAAM,EAAK5C,MAAM0D,SAASC,kBAC/Bf,MAAK,kBACJ,EAAKxC,SAAS,CACZwB,MAAO,GACPC,aAAc,GACdC,OAAQ,GACRC,MAAO,GACPC,SAAU,GACVE,QAAS,GACTD,KAAM,GACN2C,gBAAiB,OAGpBhC,MAAK,kBAAMmE,SAASC,eAAe,UAAUzB,cAEjD0B,OAAM,SAACC,GAAD,OACL9E,IAAKC,KAAK,CACRoB,SAAU,UACVlB,KAAM,QACNzB,KAAK,GAAD,OAAKoG,EAAIC,SAAShF,MACtBqB,mBAAmB,EACnBD,MAAO,OACNX,MAAK,kBAAM,EAAK5C,MAAM0D,SAASoD,qBAEtCM,QAAQC,IAAIrE,KAAKM,UAAU2B,M,sBAO7B,SAAS9C,EAAMjC,GACb2D,KAAKzD,SAAL,eACGF,EAAQiC,M,0BAGb,SAAaA,EAAMjC,GACjB,IAAIoH,EAAQnF,EAAKmF,MAAM,KACvBpE,aAAaG,QAAQ,aAAciE,EAAM,IACzCzD,KAAKzD,SAAS,CACZO,aAAc2G,EAAM,GACpBzF,aAAcyF,EAAM,GACpBtF,SAAUsF,EAAM,GAChBC,cAAeD,EAAM,GACrBrF,KAAME,M,oBAIV,WAAU,IAAD,OACP,OACE,yBAAKf,UAAU,mBACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,QACb,kBAAC,UAAD,CAAYkB,MAAM,wBAClB,yBAAKlB,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,0BACEK,GAAG,SACH+F,UAAW,SAACC,GACV,MAAqB,UAAdA,EAAMC,MAGf,yBAAKtG,UAAU,OACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,cACb,2BAAOuG,QAAQ,IAAf,mBACA,2BACEC,KAAK,UACLlG,KAAK,OACLmG,MAAM,UACNzG,UAAU,eACV0G,SAAUjE,KAAK5D,YAAY,WAC3B8H,aAAc7B,YAAS,KAEzB,2FAMJ,yBAAK9E,UAAU,sBAaf,yBAAKA,UAAU,sBACf,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,cACb,2BAAOuG,QAAQ,IAAf,UACA,kBAAC,IAAD,CACEK,QAAS,CACP,CACE1H,MAAO,QACPsH,KAAM,SAER,CACEtH,MAAO,QACPsH,KAAM,UAGVK,QAAM,EACNC,YAAY,iBACZJ,SAAU,SAAC3F,GAAD,OAAU,EAAKgG,SAAShG,EAAM,WACxC7B,MAAOuD,KAAKtD,MAAMuB,WAIxB,yBAAKV,UAAU,qBACb,yBAAKA,UAAU,cACb,2BAAOuG,QAAQ,IAAf,SACA,kBAAC,IAAD,CACEK,QAASnE,KAAK7D,MAAMS,UAAU2H,KAAI,SAACC,GAKjC,MAJc,CACZ/H,MAAO+H,EAAItC,WACX6B,KAAMS,EAAIC,eAIdL,QAAM,EACNC,YAAY,iBACZJ,SAAU,SAAC3F,GAAD,OAAU,EAAKgG,SAAShG,EAAM,UACxC7B,MAAOuD,KAAKtD,MAAMwB,UAIxB,yBAAKX,UAAU,qBACb,yBAAKA,UAAU,cACb,2BAAOuG,QAAQ,IAAf,aACA,kBAAC,IAAD,CACEK,QAASnE,KAAK7D,MAAMU,aAAa0H,KAAI,SAACC,GAYpC,MAXc,CACZ/H,MACE+H,EAAIrC,cACJ,IACAqC,EAAIE,cACJ,IACAF,EAAIG,UACJ,IACAH,EAAII,eACNb,KAAMS,EAAIG,cAIdP,QAAM,EACNC,YAAY,iBACZJ,SAAU,SAAC3F,GAAD,OACR,EAAKuG,aAAavG,EAAM,aAE1BwG,OAAQ,SAACxG,GAAD,OAAU,EAAKgG,SAAShG,EAAM,SACtC7B,MAAOuD,KAAKtD,MAAM0B,SAIxB,yBAAKb,UAAU,qBACb,yBAAKA,UAAU,cACb,2BAAOuG,QAAQ,IAAf,YACA,2BACEC,KAAK,WACLlG,KAAK,OACLN,UAAU,eACVyG,MAAM,WACNC,SAAUjE,KAAK5D,YAAY,gBAC3B8H,aAAclE,KAAKtD,MAAMsB,oBAOrC,yBAAKT,UAAU,4BACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACf,yBAAKA,UAAU,aACf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,4BACEA,UAAU,kBACVwH,SAA8B,KAApB/E,KAAKtD,MAAM0B,KACrBV,QAAS,kBAAM,EAAKvB,MAAM0D,SAASmF,iBAHrC,gBAME,uBAAGC,MAAM,kBAAkBC,cAAY,cAMjD,yBAAK3H,UAAU,kBACb,kBAAC,IAAD,CACE4H,SAAS,KACT7G,KAAM0B,KAAK7D,MAAMiJ,SACjBrI,QAASiD,KAAKtD,MAAMK,UAEtB,yBAAKQ,UAAU,cACb,4BACEA,UAAU,kBACVwH,SAAU/E,KAAK7D,MAAMkJ,OACrB3H,QAAS,kBAAM,EAAK4H,6BAEnBtF,KAAK7D,MAAMkJ,OACV,0BACE9H,UAAU,wCACV2H,cAAY,SAEZ,KAVN,UAYJ,uBAAGD,MAAM,yBAAyBC,cAAY,gBAQtD,yBACEtH,GAAG,eACHL,UAAU,aACVgI,SAAS,KACTC,KAAK,SACLC,kBAAgB,4BAChBP,cAAY,QAEZ,yBAAK3H,UAAU,yBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,gDACb,wBAAIA,UAAU,cAAcK,GAAG,6BAA/B,gBAGA,4BACEC,KAAK,SACLD,GAAG,eACHL,UAAU,QACVmI,eAAa,QACbR,cAAY,QALd,SAUF,yBAAK3H,UAAU,cACb,kBAAC,IAAD,CACET,aAAckD,KAAKtD,MAAMI,gBAG7B,yBAAKS,UAAU,gBACb,4BACEM,KAAK,SACLN,UAAU,gBACVmI,eAAa,SAHf,aAWR,yBACE9H,GAAG,iBACHL,UAAU,aACVgI,SAAS,KACTC,KAAK,SACLC,kBAAgB,4BAChBP,cAAY,QAEZ,yBAAK3H,UAAU,yBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,gDACb,wBAAIA,UAAU,cAAcK,GAAG,6BAA/B,kBAGA,4BACEC,KAAK,SACLD,GAAG,eACHL,UAAU,QACVmI,eAAa,QACbR,cAAY,QALd,SAUF,yBAAK3H,UAAU,cACb,kBAAC,IAAD,CACET,aAAckD,KAAKtD,MAAMI,gBAG7B,yBAAKS,UAAU,gBACb,4BACEM,KAAK,SACLN,UAAU,gBACVmI,eAAa,SAHf,aAWR,kBAAC3J,EAAD,CACE4J,QACE,kBAAC,WAAD,CACEC,SAAU,kBAAC,IAAD,CAAUC,MAAO,OAAQC,OAAQ,GAAIC,MAAO,KAEtD,kBAAC9J,EAAD,CAAiBqI,SAAU,SAAChG,GAAD,OAAU,EAAK0H,aAAa1H,OAG3DG,MAAM,qB,GA9hBOwH,aAqiBvB/J,EAAWgK,YAAU,CACnBC,KAAM,WACNC,oBAAoB,GAFXF,CAGRhK,GACYmK,uBAtjBI,SAAC3J,GAClB,MAAO,CACL4J,SAAU5J,EAAM6J,SAASD,SACzBlB,SAAU1I,EAAM8J,GAAGC,cACnB5J,aAAcH,EAAM6J,SAASG,SAC7B/J,WAAYD,EAAM6J,SAAStI,OAC3BrB,UAAWF,EAAM6J,SAASI,SAC1BC,QAASlK,EAAM6J,SAASK,QACxBC,SAAUnK,EAAM6J,SAASM,SACzBxB,OAAQ3I,EAAM6J,SAASlB,OACvBlE,WAAYzE,EAAM6J,SAASpF,cA4iBI,KAApBkF,CAA0BnK,I,mNC3kBnC4K,E,kDACJ,WAAY3K,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXK,QAAS,CACP,CACEC,UAAW,UACXC,KAAM,WAER,CACED,UAAW,OACXC,KAAM,aAER,CACED,UAAW,WACXC,KAAM,YAER,CACED,UAAW,YACXC,KAAM,cAER,CACED,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,eACXC,KAAM,aACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,OACXC,KAAM,OACNC,WAAW,EACXC,UAAW,SAACC,EAAYC,GACtB,OACE,yBAAKE,UAAU,eACb,4BACEA,UAAU,uBACVG,QAAS,kBAAM,EAAKuJ,aAAa5J,KAFnC,cAnDK,E,qDAiEnB,WACE2C,KAAK7D,MAAM0D,SAASqH,iB,iEAGtB,WAAmB5I,GAAnB,wBAAA6I,EAAA,sDACMC,EAAUjI,KAAKC,MAAMC,aAAaC,QAAQ,wBAA0B,IACpE+H,EAAQ/I,EAAKgE,eACXG,SAAQ,SAAC6E,EAAMC,GACnBC,YAAe,2BAAD,OAA4BH,EAAME,GAAOlG,aACpDtC,MAAK,SAAC0I,GACL,IAAIrG,EAAS,CACXsG,WACG1G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKsJ,WAAc,IAC3DC,MACE7G,WAAWqG,EAAME,GAAOI,OAAS3G,WAAWqG,EAAME,GAAOO,KAC3DC,MAAQ/G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKsJ,WAAc,IAChEI,IAAK,EACLC,EAAG,EACHC,UAAWb,EAAME,GAAOW,UACxBC,aAAcd,EAAME,GAAOY,aAAe,GAAGC,WAC7CC,YAAa,EACbT,WAAYH,EAAInJ,KAAKsJ,WACrBU,aAAcb,EAAInJ,KAAKiK,OACvBC,aAAcf,EAAInJ,KAAKmK,OACvBC,YAAajB,EAAInJ,KAAKqK,WACtBtH,WAAYgG,EAAME,GAAOlG,WACzBuH,aAAc,IACdC,iBAAkB,IAClBC,EAAG,EACHC,KAAM,EACNjB,IAAKT,EAAME,GAAOO,IAClBH,MAAON,EAAME,GAAOI,OAElBqB,EAAgB,CAClBtB,WACG1G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKiK,OAAU,IACvDV,MACE7G,WAAWqG,EAAME,GAAOI,OAAS3G,WAAWqG,EAAME,GAAOO,KAC3DC,MAAQ/G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKiK,OAAU,IAC5DP,IAAK,EACLC,EAAG,EACHC,UAAWb,EAAME,GAAOW,UACxBC,aAAcd,EAAME,GAAOY,aAAe,GAAGC,WAC7CC,YAAa,EACbT,WAAYH,EAAInJ,KAAKsJ,WACrBU,aAAcb,EAAInJ,KAAKiK,OACvBC,aAAcf,EAAInJ,KAAKmK,OACvBC,YAAajB,EAAInJ,KAAKqK,WACtBtH,WAAYgG,EAAME,GAAOlG,WACzBuH,aAAc,IACdC,iBAAkB,IAClBC,EAAG,EACHC,KAAM,EACNjB,IAAKT,EAAME,GAAOO,IAClBH,MAAON,EAAME,GAAOI,OAElBsB,EAAgB,CAClBvB,WACG1G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKmK,OAAU,IACvDZ,MACE7G,WAAWqG,EAAME,GAAOI,OAAS3G,WAAWqG,EAAME,GAAOO,KAC3DC,MAAQ/G,WAAWqG,EAAME,GAAOI,OAASF,EAAInJ,KAAKmK,OAAU,IAC5DT,IAAK,EACLC,EAAG,EACHC,UAAWb,EAAME,GAAOW,UACxBC,aAAcd,EAAME,GAAOY,aAAe,GAAGC,WAC7CC,YAAa,EACbT,WAAYH,EAAInJ,KAAKsJ,WACrBU,aAAcb,EAAInJ,KAAKiK,OACvBC,aAAcf,EAAInJ,KAAKmK,OACvBC,YAAarB,EAAME,GAAOoB,WAC1BtH,WAAYgG,EAAME,GAAOlG,WACzBuH,aAAc,IACdC,iBAAkB,IAClBC,EAAG,EACHC,KAAM,EACNjB,IAAKT,EAAME,GAAOO,IAClBH,MAAON,EAAME,GAAOI,OAElBzI,EACFC,KAAKC,MAAMC,aAAaC,QAAQ,wBAA0B,GACxD4J,EACF/J,KAAKC,MAAMC,aAAaC,QAAQ,+BAAiC,GAC/D6J,EACFhK,KAAKC,MAAMC,aAAaC,QAAQ,+BAAiC,GAC/D8J,EAAShC,EAAQiC,WACnB,SAAC/K,GAAD,OACEgJ,EAAKjG,aAAe/C,EAAK+C,YAAc/C,EAAKyJ,QAAUT,EAAKS,SAK/D,GAHAxE,QAAQC,IAAI8D,EAAKS,OACjBxE,QAAQC,IAAI4F,GAERA,EAAS,EAAG,CACdlK,EAAMuC,KAAKL,GACX8H,EAAazH,KAAKuH,GAClBG,EAAa1H,KAAKwH,GAClB,IAAIlI,EAAkB7B,EACnBqF,KAAI,SAAC+C,GAAD,OAAUtG,WAAWsG,EAAKI,eAC9B4B,QAAO,SAACnC,EAAGoC,GAAJ,OAAUpC,EAAIoC,IAAG,GAC3BlK,aAAaG,QAAQ,kBAAmBuB,GACxC1B,aAAaG,QAAQ,qBAAsBL,KAAKM,UAAUP,IAC1DG,aAAaG,QACX,4BACAL,KAAKM,UAAUyJ,IAEjB7J,aAAaG,QACX,4BACAL,KAAKM,UAAU0J,IAEjB5K,IAAKC,KAAK,CACRoB,SAAU,UACVlB,KAAM,UACNzB,KAAM,6BACN0C,mBAAmB,EACnBD,MAAO,OAET,EAAKvD,MAAM0D,SAAS2J,eACpB,EAAKrN,MAAM0D,SAASS,eACpB,EAAKnE,MAAM0D,SAAS6B,YAAM,2BAE1B,EAAKvF,MAAM0D,SAASW,YAAS,uBAC7B,EAAKjE,SAAS,CACZkN,aACGzI,WAAW,GAAK,IACjBA,WAAW3B,aAAaC,QAAQ,oBAClCoK,aAAc,EACd3I,iBACEC,WAAW3B,aAAaC,QAAQ,oBAAsB,GACtD2B,QAAQ,UAGZU,YAAQ,8BAGXyB,OAAM,SAACC,GAAD,OACLsG,YAAM,iEAnId,2C,+EAuIA,WACE3J,KAAK7D,MAAM0D,SAASW,YAAS,oBAC7BR,KAAK7D,MAAM0D,SAASU,YAAS,oBAC7BP,KAAK7D,MAAM0D,SAASa,YAAM,oBAC1BV,KAAK7D,MAAM0D,SAASY,YAAO,oBAC3BT,KAAK7D,MAAM0D,SAASiB,YAAO,sB,oBAG7B,WAAU,IAAD,OACP,OACE,yBAAKvD,UAAU,uBACb,kBAAC,IAAD,CACE4H,SAAS,YACT7G,KACE0B,KAAK7D,MAAMyN,iBAAiBtI,QAC1B,SAACgG,GAAD,MACqB,cAAnBA,EAAKuC,WACLvC,EAAKjJ,UAAYgE,eACjBiF,EAAKwC,WAAa,EAAK3N,MAAMW,iBAC5B,GAEPC,QAASiD,KAAKtD,MAAMK,QACpBgN,UAAU,qF,GAnOuB9D,aA4O5BI,iBAAQ,SAAC3J,GACtB,MAAO,CACLkN,iBAAkBlN,EAAM6J,SAASqD,oBAFtBvD,CAIZS,I,kOC5OGkD,E,kDACJ,WAAY7N,GAAQ,IAAD,8BACjB,cAAMA,IACDO,MAAQ,CACXK,QAAS,CACP,CACEC,UAAW,UACXC,KAAM,WAER,CACED,UAAW,OACXC,KAAM,aAER,CACED,UAAW,gBACXC,KAAM,YAER,CACED,UAAW,YACXC,KAAM,cAER,CACED,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,eACXC,KAAM,aACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,cACXC,KAAM,YACN8J,MAAO,QACPC,YAAa,SAEf,CACEhK,UAAW,OACXC,KAAM,OACNC,WAAW,EACXC,UAAW,SAACC,EAAYC,GACtB,OACE,yBAAKE,UAAU,eACb,4BACEA,UAAU,uBACVG,QAAS,kBAAM,EAAKuM,UAAU5M,EAAKA,EAAI8E,iBAFzC,cAnDK,E,qDAiEnB,WACEnC,KAAK7D,MAAM0D,SAASqK,eACpBlK,KAAK7D,MAAM0D,SAASsK,iB,uBAGtB,SAAU7L,EAAMoI,GAAW,IAAD,OACxBpI,EAAKgE,cAAciC,KAAI,SAAC6F,GACtB,IAAIC,EAAOD,EAOX,OANAC,EAAI,WAAiBD,EAAOrC,MAC5BsC,EAAI,KAAW,EACfA,EAAI,YAAkB,EACtBA,EAAI,WAAiB,EAErB,EAAKC,UAAUD,EAAM3D,IACd,O,8DAIX,WAAgBpI,EAAMoI,GAAtB,oCAAAS,EAAA,6DACEnH,KAAK7D,MAAM0D,SAAS0C,eAChBrB,EAAQ5C,EAAK+C,WACbgG,EAAQrH,KAAK7D,MAAMgF,WAAWG,QAChC,SAAChD,GAAD,OAAUA,EAAK+C,aAAeH,KAE5BqJ,EAAe,EACfC,EAAe,EACfC,EAAe,EACfC,EAAahE,EACbiE,EAC4B,WAA9B3K,KAAKtD,MAAMkI,eACP5E,KAAKtD,MAAMI,aACXuC,aAAaC,QAAQ,cACvBsL,EAC4B,WAA9B5K,KAAKtD,MAAMkI,eAA8B5E,KAAKtD,MAAMI,aAAe,IAfvE,UAgBQ0K,YAAe,4CAAD,OAC0BkD,EAD1B,YACwCpM,EAAK+C,aAE9DtC,MAAK,SAAC0I,GAAD,OAAU8C,EAAe9C,EAAInJ,KAAKuM,mBAAqB,KAC5DzH,OAAM,kBAAOmH,EAAe,KApBjC,yBAqBQ/C,YAAe,4CAAD,OAC0BmD,EAD1B,YACwCrM,EAAK+C,aAE9DtC,MAAK,SAAC0I,GAAD,OAAU+C,EAAe/C,EAAInJ,KAAKuM,mBAAqB,KAC5DzH,OAAM,kBAAOoH,EAAe,KAzBjC,yBA0BQhD,YAAe,4CAAD,OAC0BoD,EAD1B,YACwCtM,EAAK+C,aAE9DtC,MAAK,SAAC0I,GAAD,OAAUgD,EAAehD,EAAInJ,KAAKuM,mBAAqB,KAC5DzH,OAAM,kBAAOqH,EAAe,KA9BjC,QA+BEjD,YAAe,2BAAD,OAA4BlJ,EAAK+C,aAC5CtC,MAAK,SAAC0I,GAAS,IAAD,EACTqD,EACF3L,KAAKC,MAAMC,aAAaC,QAAQ,2BAA6B,GAC3DyL,EACF5L,KAAKC,MAAMC,aAAaC,QAAQ,2BAA6B,GAC3D0L,EACF7L,KAAKC,MAAMC,aAAaC,QAAQ,2BAA6B,GAC3D2L,EAAc9L,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,GACjE8J,EAAS0B,EAAczB,WACzB,SAAC6B,GAAD,OAAUA,EAAKC,gBAAkB7M,EAAK6M,iBAEpCC,EAAWL,EAAc1B,WAC3B,SAAC6B,GAAD,OAAUA,EAAKC,gBAAkB7M,EAAK6M,iBAEpCE,EAAWL,EAAc3B,WAC3B,SAAC6B,GAAD,OAAUA,EAAKC,gBAAkB7M,EAAK6M,iBAIxC,GAFAF,EAAYxJ,KAAK,CAAE6J,cAAa,UAAE7D,EAAInJ,YAAN,aAAE,EAAUiN,QAC5ClM,aAAaG,QAAQ,cAAeL,KAAKM,UAAUwL,KACnC,IAAZ7B,EAAe,CACjB,IAAIoC,EAAS,CACX9D,YACE1G,WAAW1C,EAAKoJ,YAAc,GAC9B1G,WAAW8J,EAAc1B,GAAQ1B,aACjCzG,QAAQ,GACV8G,OACE/G,WAAW1C,EAAKyJ,OAAS,GACzB/G,WAAW8J,EAAc1B,GAAQrB,QACjC9G,QAAQ,GACViH,WACElH,gBAA8ByK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WACnD4C,EAAc1B,GAAQlB,WACtBwD,eAAe,SACjB3C,MACE/H,WAAW1C,EAAKyK,MAAQ,GACxB/H,WAAW8J,EAAc1B,GAAQL,OACjC9H,QAAQ,GACV0G,OACE3G,WAAW1C,EAAKqJ,OAAS,GACzB3G,WAAW8J,EAAc1B,GAAQzB,QACjC1G,QAAQ,GACVkK,cAAe7M,EAAK6M,cACpBQ,WAAYpB,EACZqB,WAAYtN,EAAKsN,WACjBC,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WAAgC,cAApBzN,EAAKyN,WAA6B,EAAIzN,EAAKyN,YAErDC,EAAS,CACXtE,YACG1G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWwJ,GAAiB,IAC1DxJ,WAAW1C,EAAK+J,aAAerH,WAAW1C,EAAKqJ,OAAS,GACvD,IACF3G,WAAW+J,EAAc3B,GAAQ1B,aACjCzG,QAAQ,GACV8G,QACI/G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWwJ,GAAiB,KAC1D,GAAKxJ,WAAW+J,EAAc3B,GAAQrB,QACxC9G,QAAQ,GACViH,UACElH,gBAA8ByK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WACnDlH,WAAW+J,EAAc3B,GAAQlB,WACnCa,MACG/H,WAAW1C,EAAK+J,aAAe,IAC9BrH,WAAW1C,EAAKqJ,OAAS,GAC3B3G,WAAW+J,EAAc3B,GAAQL,OACjC9H,QAAQ,GACV0G,MACE3G,WAAW1C,EAAKqJ,OAAS,GACzB3G,WAAW+J,EAAc3B,GAAQzB,OACnCwD,cAAe7M,EAAK6M,cACpBQ,WAAYnB,EACZoB,WAAYtN,EAAKsN,WACjBC,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WAAgC,cAApBzN,EAAKyN,WAA6B,EAAIzN,EAAKyN,YAErDE,EAAS,CACXvE,YACG1G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWyJ,GAAiB,IAC1DzJ,WAAW1C,EAAK+J,aAAerH,WAAW1C,EAAKqJ,OAAS,GACvD,IACF3G,WAAWgK,EAAc5B,GAAQ1B,aACjCzG,QAAQ,GACV8G,QACI/G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWyJ,GAAiB,KAC1D,GAAKzJ,WAAWgK,EAAc5B,GAAQrB,QACxC9G,QAAQ,GACViH,UACElH,gBAA8ByK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WACnDlH,WAAWgK,EAAc5B,GAAQlB,WACnCa,MACG/H,WAAW1C,EAAK+J,aAAe,IAC9BrH,WAAW1C,EAAKqJ,OAAS,GAC3B3G,WAAWgK,EAAc5B,GAAQL,OACjC9H,QAAQ,GACV0G,MACE3G,WAAW1C,EAAKqJ,OAAS,GACzB3G,WAAWgK,EAAc5B,GAAQzB,OACnCwD,cAAe7M,EAAK6M,cACpBQ,WAAYlB,EACZmB,WAAYtN,EAAKsN,WACjBC,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WAAgC,cAApBzN,EAAKyN,WAA6B,EAAIzN,EAAKyN,YAEzDjB,EAAcrJ,KAAK+J,GACnBT,EAActJ,KAAKuK,GACnBhB,EAAcvJ,KAAKwK,GACnBnB,EAAcvL,OAAO6J,EAAQ,GAC7B2B,EAAcxL,OAAO6L,EAAU,GAC/BJ,EAAczL,OAAO8L,EAAU,GAC/BhM,aAAaG,QACX,wBACAL,KAAKM,UAAUqL,IAEjBzL,aAAaG,QACX,wBACAL,KAAKM,UAAUsL,IAEjB1L,aAAaG,QACX,wBACAL,KAAKM,UAAUuL,QAEZ,CACL,IAAIkB,EAAc,CAChBxE,WAAY1G,WAAW1C,EAAKoJ,YAAc,GAAGzG,QAAQ,GACrD8G,MAAO/G,WAAW1C,EAAKyJ,OAAS,GAAG9G,QAAQ,GAC3CiH,UAAWlH,gBACUyK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WAE1Ca,KAAMzK,EAAKyK,MAAQ,EACnBpB,MAAO3G,WAAW1C,EAAKqJ,OAAS,GAAG1G,QAAQ,GAC3CkK,cAAe7M,EAAK6M,cACpBQ,WAAYpB,EACZqB,WAAYtN,EAAKsN,WACjBvD,YAAa/J,EAAK+J,aAAe,EACjCwD,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WACsB,cAApBzN,EAAKyN,WACD,EACA/K,WAAW1C,EAAKyN,YAAc/K,WAAW1C,EAAK0J,MAElDmE,EAAc,CAChBzE,YACG1G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWwJ,GAAiB,IAC1DxJ,WAAW1C,EAAK+J,aAAerH,WAAW1C,EAAKqJ,OAAS,GAAM,KAC/D1G,QAAQ,GACV8G,OACG/G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWwJ,GAAiB,KAC3D,GACAvJ,QAAQ,GACViH,UAAWlH,gBACUyK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WAE1Ca,MACG/H,WAAW1C,EAAK+J,aAAe,IAChCrH,WAAW1C,EAAKqJ,OAAS,IACzB1G,QAAQ,GACV0G,MAAO3G,WAAW1C,EAAKqJ,OAAS,GAChCwD,cAAe7M,EAAK6M,cACpBQ,WAAYnB,EACZoB,WAAYtN,EAAKsN,WACjBC,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WACsB,cAApBzN,EAAKyN,WACD,EACA/K,WAAW1C,EAAKyN,YAAc/K,WAAW1C,EAAK0J,MAElDoE,EAAc,CAChB1E,YACG1G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWyJ,GAAiB,IAC1DzJ,WAAW1C,EAAK+J,aAAerH,WAAW1C,EAAKqJ,OAAS,GAAM,KAC/D1G,QAAQ,GACV8G,OACG/G,WAAW1C,EAAKqJ,OAAS,GAAK3G,WAAWyJ,GAAiB,KAC3D,GACAxJ,QAAQ,GACViH,UAAWlH,gBACUyK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WAE1Ca,MACG/H,WAAW1C,EAAK+J,aAAe,IAChCrH,WAAW1C,EAAKqJ,OAAS,IACzB1G,QAAQ,GACV0G,MAAO3G,WAAW1C,EAAKqJ,OAAS,GAChCwD,cAAe7M,EAAK6M,cACpBQ,WAAYlB,EACZmB,WAAYtN,EAAKsN,WACjBC,kBAAmB,EACnBC,uBAAwB,EACxBjD,iBAAkB,IAClBkD,WACsB,cAApBzN,EAAKyN,WACD,EACA/K,WAAW1C,EAAKyN,YAAc/K,WAAW1C,EAAK0J,MAEtD8C,EAAcrJ,KAAKyK,GACnBnB,EAActJ,KAAK0K,GACnBnB,EAAcvJ,KAAK2K,GACnB/M,aAAaG,QACX,wBACAL,KAAKM,UAAUqL,IAEjBzL,aAAaG,QACX,wBACAL,KAAKM,UAAUsL,IAEjB1L,aAAaG,QACX,wBACAL,KAAKM,UAAUuL,IAGnB,IAAI5J,EAAS,CACXsG,WAAY1G,WAAW1C,EAAKoJ,YAAc,GAAGzG,QAAQ,IAAM,EAC3D4G,MAAO7G,WAAW1C,EAAKuJ,OAAS,GAAG5G,QAAQ,IAAM,EACjD8G,MAAO/G,WAAW1C,EAAKyJ,OAAS,GAAG9G,QAAQ,IAAM,EACjD+G,IAAK1J,EAAK0J,KAAO,EACjBC,EAAGjH,WAAW1C,EAAK2J,GAAK,GACxBC,UAAWlH,gBACUyK,IAAnBnN,EAAK4J,UAA0B,EAAI5J,EAAK4J,WAE1CC,aAAcd,EAAM,GAAGc,aAAe,GAAGC,WACzCC,YAAa/J,EAAK+J,aAAe,EACjCT,WAAY2C,GAAgB,EAC5BjC,aAAcb,EAAInJ,KAAKiK,QAAU,EACjCC,aAAcf,EAAInJ,KAAKmK,QAAU,EACjCC,YAAarB,EAAM,GAAGqB,aAAe,EACrCrH,WAAYgG,EAAM,GAAGhG,YAAc,EACnCuH,aAAc,IACdC,iBAAkB,IAClBC,EAAG9H,WAAW1C,EAAKwK,GAAK,GACxBC,KAAMzK,EAAKyK,MAAQ,EACnBjB,IAAK9G,WAAW1C,EAAKwJ,KAAO,GAC5BH,MAAO3G,WAAW1C,EAAKqJ,OAAS,GAAG1G,QAAQ,GAC3C8K,WAAgC,cAApBzN,EAAKyN,WAA6B,EAAIzN,EAAKyN,YAGrD7M,EACFC,KAAKC,MAAMC,aAAaC,QAAQ,wBAA0B,GAC5DJ,EAAMuC,KAAKL,GACX,IAAIL,EAAkB7B,EACnBqF,KAAI,SAAC+C,GAAD,OAAUtG,WAAWsG,EAAKS,UAC9BuB,QAAO,SAACnC,EAAGoC,GAAJ,OAAUpC,EAAIoC,IAAG,GAC3BlK,aAAaG,QAAQ,kBAAmBuB,GACxC1B,aAAaG,QAAQ,qBAAsBL,KAAKM,UAAUP,IAC1DX,IAAKC,KAAK,CACRoB,SAAU,UACVlB,KAAM,UACNzB,KAAM,6BACN0C,mBAAmB,EACnBD,MAAO,OAET,EAAKvD,MAAM0D,SAASoD,eACpB,EAAK9G,MAAM0D,SAAS2J,eACpB,EAAKrN,MAAM0D,SAASS,eACpB,EAAKnE,MAAM0D,SAAS6B,YAAM,2BAC1B2K,YAAS,wBACT,EAAKlQ,MAAM0D,SAASW,YAAS,uBAC7B,EAAKjE,SAAS,CACZkN,aACGzI,WAAW,GAAK,IACjBA,WAAW3B,aAAaC,QAAQ,oBAClCoK,aAAc,EACd3I,iBACEC,WAAW3B,aAAaC,QAAQ,oBAAsB,GACtD2B,QAAQ,QAGbmC,OAAM,SAACC,GAAD,OACLsG,YAAM,8DArTZ,iD,iFAwTA,WACE3J,KAAK7D,MAAM0D,SAASW,YAAS,oBAC7BR,KAAK7D,MAAM0D,SAASU,YAAS,oBAC7BP,KAAK7D,MAAM0D,SAASa,YAAM,oBAC1BV,KAAK7D,MAAM0D,SAASY,YAAO,oBAC3BT,KAAK7D,MAAM0D,SAASiB,YAAO,sB,oBAG7B,WAAU,IAAD,OACP,OACE,yBAAKvD,UAAU,uBACb,kBAAC,IAAD,CACE4H,SAAS,YACT7G,KACE0B,KAAK7D,MAAMyN,iBAAiBtI,QAC1B,SAACgG,GAAD,MACqB,cAAnBA,EAAKuC,WACLvC,EAAKjJ,UAAYgE,eACjBiF,EAAKnF,gBAAkB,EAAKhG,MAAMW,iBACjC,GAEPC,QAASiD,KAAKtD,MAAMK,QACpBgN,UAAU,+B,GAlayB9D,aAya9BI,iBAAQ,SAAC3J,GACtB,MAAO,CACLkN,iBAAkBlN,EAAM6J,SAAS+F,mBACjCnL,WAAYzE,EAAM6J,SAASpF,cAHhBkF,CAKZ2D","file":"static/js/46.baacc3fc.chunk.js","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport SelectSearch from \"react-select-search\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  finishSend,\r\n  getBruto,\r\n  getGross,\r\n  getK,\r\n  getNetto,\r\n  getP,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n  progressSend,\r\n} from \"../actions/LogicAction\";\r\nimport { warning } from \"../Alert\";\r\nimport { getTotalNW } from \"../actions/returnPenjualanAction\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { showModal } from \"../actions/ModalAction\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport { getLokasi } from \"../actions/lokasiAction\";\r\nimport { getsalesmanList } from \"../actions/salesmanAction\";\r\nimport { getcustomerList } from \"../actions/customerAction\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport GlobalTabel from \"../GlobalComponent/GlobalTabel\";\r\nimport FormBarcodePenjualanCustomer from \"./Component/FormBarcodePenjualanCustomer\";\r\nimport FormTimbanganPenjualanCustomer from \"./Component/FormTimbanganPenjualanCustomer\";\r\nimport { getToday } from \"../GlobalComponent/function\";\r\nimport { getListBarangPo } from \"../actions/preOrder\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport PrintNotaSuratJalan from \"../Stocking/Component/PrintNotaSuratJalan\";\r\nimport { getUserID } from \"../helper\";\r\n\r\nconst ModalMasterData = lazy(() =>\r\n  import(\"../DataMaster/Component/ModalMasterData\")\r\n);\r\nconst FormTransaksiPO = lazy(() => import(\"./Component/FormTransaksiPO\"));\r\nconst maptostate = (state) => {\r\n  return {\r\n    noFaktur: state.provinsi.noFaktur,\r\n    barangPO: state.po.barangPO_temp,\r\n    listCustomer: state.provinsi.customer,\r\n    listLokasi: state.provinsi.lokasi,\r\n    listSales: state.provinsi.salesman,\r\n    totalNW: state.provinsi.totalNW,\r\n    username: state.provinsi.username,\r\n    onSend: state.provinsi.onSend,\r\n    kodeBarang: state.provinsi.kodeBarang,\r\n  };\r\n};\r\nclass PreOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listLokasi: [],\r\n      listSales: [],\r\n      listCustomer: [],\r\n      kodeCustomer: \"\",\r\n      columns: [\r\n        {\r\n          dataField: \"kode_jenis\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"request_warna_batu\",\r\n          text: \"Request Warna Batu\",\r\n        },\r\n        {\r\n          dataField: \"request_lain\",\r\n          text: \"Request Lain\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger mr-2\"\r\n                  onClick={() => this.deleteRow(rowIndex)}\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash mr-1\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      noBon: \"\",\r\n      namaCustomer: \"\",\r\n      lokasi: \"\",\r\n      sales: \"\",\r\n      namaToko: \"\",\r\n      toko: \"\",\r\n      tanggal: \"\",\r\n      data: \"\",\r\n    };\r\n  }\r\n\r\n  deleteRow(rowIndex) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin ?\",\r\n      text: \"Anda Akan Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        const array = JSON.parse(localStorage.getItem(\"barangPO_temp\")) || [];\r\n        array.splice(rowIndex, 1);\r\n        localStorage.setItem(\"barangPO_temp\", JSON.stringify(array));\r\n        Swal.fire({\r\n          text: \"Berhasil\",\r\n          timer: 2000,\r\n          showConfirmButton: false,\r\n          position: \"top-right\",\r\n          icon: \"success\",\r\n        })\r\n          .then(() => this.props.dispatch(getListBarangPo()))\r\n          .then(() =>\r\n            this.setState({\r\n              deleted: true,\r\n            })\r\n          );\r\n      }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getLokasi());\r\n    this.props.dispatch(getsalesmanList());\r\n    this.props.dispatch(getcustomerList());\r\n    this.props.dispatch(getUUID());\r\n    localStorage.removeItem(\"barangPO_temp\");\r\n    localStorage.removeItem(\"GrandTotalNetto\");\r\n    this.props.dispatch(getListBarangPo());\r\n    this.props.dispatch(getTotalNW());\r\n    this.props.dispatch(getBruto(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getNetto(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getPkg(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getRp(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getGross(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getP(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getK(\"transaksiPenjualan\"));\r\n    this.props.dispatch(getQty(\"transaksiPenjualan\"));\r\n    this.setState({\r\n      GrandTotalNetto: (\r\n        parseFloat(localStorage.getItem(\"GrandTotalNetto\") || 0) - 0\r\n      ).toFixed(3),\r\n    });\r\n  }\r\n\r\n  handleSubmit(data) {\r\n    let param = data.kodeBarang;\r\n    let hasil = this.props.kodeBarang.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    var simpan = {\r\n      kode_jenis: hasil[0].kode_jenis || 0, //kodebarang\r\n      request_warna_batu: data.request_warna_batu,\r\n      request_lain: data.request_lain || \"-\",\r\n    };\r\n    var array = JSON.parse(localStorage.getItem(\"barangPO_temp\")) || [];\r\n    array.push(simpan);\r\n    localStorage.setItem(\"barangPO_temp\", JSON.stringify(array));\r\n    Swal.fire({\r\n      position: \"top-end\",\r\n      icon: \"success\",\r\n      text: \"Data Berhasil Ditambahkan!\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    });\r\n    this.props.dispatch(getListBarangPo());\r\n    this.props.dispatch(getTotalNW());\r\n    this.props.dispatch(reset(\"FormTransaksiPO\"));\r\n  }\r\n\r\n  transaksiPenjualanSubmit() {\r\n    if (localStorage.getItem(\"barangPO_temp\") === null) {\r\n      warning(\"Barang masih kosong, Silahkan tambah barang\");\r\n      return false;\r\n    } else if (this.state.lokasi === \"\") {\r\n      warning(\"Mohon pilih lokasi\");\r\n      return false;\r\n    } else if (this.state.sales === \"\") {\r\n      warning(\"Mohon pilih Sales\");\r\n      return false;\r\n    } else if (this.state.namaToko === \"\") {\r\n      warning(\"Mohon pilih toko\");\r\n      return false;\r\n    }\r\n    const no_po = \"PO-\" + Date.now();\r\n    var simpan = {\r\n      no_preorder: no_po,\r\n      kode_lokasi: this.state.lokasi.toUpperCase(),\r\n      kode_sales: this.state.sales.toUpperCase(),\r\n      kode_customer: this.state.kodeCustomer.toUpperCase(),\r\n      tanggal_selesai: this.state.tanggal || getToday(2),\r\n      tanggal: getToday(),\r\n      detail_barang: JSON.parse(localStorage.getItem(\"barangPO_temp\")),\r\n    };\r\n    this.props.dispatch(progressSend());\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [];\r\n    var table = JSON.parse(localStorage.getItem(\"barangPO_temp\"));\r\n    // for each ticket pass all its data into an array\r\n    table.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        ++i,\r\n        ticket.kode_jenis,\r\n        ticket.request_warna_batu,\r\n        ticket.request_lain,\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    var columTable = [[\"No\", \"Kode\", \"Request Warna Batu\", \"Request Lain\"]];\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    AxiosMasterPost(\"pre-order/simpan\", simpan)\r\n      .then(() =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n          .then(() => {\r\n            PrintNotaSuratJalan(\r\n              \"No Nota\",\r\n              no_po,\r\n              \"Tgl PO\",\r\n              getToday(),\r\n              \"LEVEL\",\r\n              \"ADMIN INTERN\",\r\n              \"Tgl Selesai\",\r\n              this.state.tanggal || getToday(2),\r\n              \"ADMIN\",\r\n              getToday(),\r\n              \"\",\r\n              columTable,\r\n              \"Bukti PO\",\r\n              tableRows,\r\n              [],\r\n              \"Bukti PO\"\r\n            );\r\n            PrintNotaSuratJalan(\r\n              \"No Nota\",\r\n              no_po,\r\n              \"Tgl PO\",\r\n              getToday(),\r\n              \"Customer\",\r\n              this.state.namaCustomer,\r\n              \"Tgl Selesai\",\r\n              this.state.tanggal || getToday(2),\r\n              getUserID(),\r\n              getToday(),\r\n              \"\",\r\n              columTable,\r\n              \"Bukti PO\",\r\n              tableRows,\r\n              [],\r\n              \"Bukti PO\"\r\n            );\r\n          })\r\n          .then(() => this.props.dispatch(finishSend()))\r\n          .then(() => localStorage.removeItem(\"barangPO_temp\"))\r\n          .then(() => localStorage.removeItem(\"GrandTotalNetto\"))\r\n          .then(() => localStorage.removeItem(\"noFaktur\"))\r\n          .then(() => this.props.dispatch(getUUID()))\r\n          .then(() => this.props.dispatch(getTotalNW()))\r\n          .then(() => this.props.dispatch(getListBarangPo()))\r\n          .then(() =>\r\n            this.setState({\r\n              noBon: \"\",\r\n              namaCustomer: \"\",\r\n              lokasi: \"\",\r\n              sales: \"\",\r\n              namaToko: \"\",\r\n              tanggal: \"\",\r\n              toko: \"\",\r\n              GrandTotalNetto: 0,\r\n            })\r\n          )\r\n          .then(() => document.getElementById(\"myForm\").reset())\r\n      )\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          text: `${err.response.data}`,\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then(() => this.props.dispatch(finishSend()))\r\n      );\r\n    console.log(JSON.stringify(simpan));\r\n  }\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n  onSubmit(data, input) {\r\n    this.setState({\r\n      [input]: data,\r\n    });\r\n  }\r\n  onSubmitToko(data, input) {\r\n    var split = data.split(\"|\");\r\n    localStorage.setItem(\"customer_1\", split[0]);\r\n    this.setState({\r\n      kodeCustomer: split[0],\r\n      namaCustomer: split[1],\r\n      namaToko: split[2],\r\n      levelCustomer: split[3],\r\n      toko: data,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"card\">\r\n            <HeaderCard title=\"Transaksi Pre Order\" />\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <form\r\n                    id=\"myForm\"\r\n                    onKeyDown={(event) => {\r\n                      return event.key !== \"Enter\";\r\n                    }}\r\n                  >\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-4 col-md-4\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"\">Tanggal Selesai</label>\r\n                          <input\r\n                            name=\"tanggal\"\r\n                            type=\"date\"\r\n                            label=\"Tanggal\"\r\n                            className=\"form-control\"\r\n                            onChange={this.inputChange(\"tanggal\")}\r\n                            defaultValue={getToday(2)}\r\n                          />\r\n                          <span>\r\n                            Tanggal ini sudah ditambah 2 hari dari tanggal\r\n                            sekarang\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-4 col-md-4\">\r\n                        {/* <div className=\"form-group\">\r\n                          <label htmlFor=\"\">No Bon</label>\r\n                          <input\r\n                            name=\"noBon\"\r\n                            type=\"text\"\r\n                            label=\"No Bon\"\r\n                            className=\"form-control\"\r\n                            onChange={this.inputChange(\"noBon\")}\r\n                            value={this.state.noBon}\r\n                          />\r\n                        </div> */}\r\n                      </div>\r\n                      <div className=\"col-lg-4 col-md-4\"></div>\r\n                      <div className=\"col-lg-3 col-md-3\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"\">Lokasi</label>\r\n                          <SelectSearch\r\n                            options={[\r\n                              {\r\n                                value: \"SALES\",\r\n                                name: \"SALES\",\r\n                              },\r\n                              {\r\n                                value: \"PUSAT\",\r\n                                name: \"PUSAT\",\r\n                              },\r\n                            ]}\r\n                            search\r\n                            placeholder=\"Silahkan Pilih\"\r\n                            onChange={(data) => this.onSubmit(data, \"lokasi\")}\r\n                            value={this.state.lokasi}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-3 col-md-3\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"\">Sales</label>\r\n                          <SelectSearch\r\n                            options={this.props.listSales.map((obj) => {\r\n                              var payload = {\r\n                                value: obj.kode_sales,\r\n                                name: obj.nama_sales,\r\n                              };\r\n                              return payload;\r\n                            })}\r\n                            search\r\n                            placeholder=\"Silahkan Pilih\"\r\n                            onChange={(data) => this.onSubmit(data, \"sales\")}\r\n                            value={this.state.sales}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-3 col-md-3\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"\">Nama Toko</label>\r\n                          <SelectSearch\r\n                            options={this.props.listCustomer.map((obj) => {\r\n                              var payload = {\r\n                                value:\r\n                                  obj.kode_customer +\r\n                                  \"|\" +\r\n                                  obj.nama_customer +\r\n                                  \"|\" +\r\n                                  obj.nama_toko +\r\n                                  \"|\" +\r\n                                  obj.level_customer,\r\n                                name: obj.nama_toko,\r\n                              };\r\n                              return payload;\r\n                            })}\r\n                            search\r\n                            placeholder=\"Silahkan Pilih\"\r\n                            onChange={(data) =>\r\n                              this.onSubmitToko(data, \"namaToko\")\r\n                            }\r\n                            onBlur={(data) => this.onSubmit(data, \"toko\")}\r\n                            value={this.state.toko}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-3 col-md-3\">\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"\">Customer</label>\r\n                          <input\r\n                            name=\"customer\"\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            label=\"Customer\"\r\n                            onChange={this.inputChange(\"namaCustomer\")}\r\n                            defaultValue={this.state.namaCustomer}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <div className=\"col-lg-12 col-md-12 mt-3\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-4\"></div>\r\n                    <div className=\"col-lg-4\"></div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          disabled={this.state.toko === \"\"}\r\n                          onClick={() => this.props.dispatch(showModal())}\r\n                        >\r\n                          Tambah Barang\r\n                          <i class=\"fa fa-plus ml-3\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-lg-12 mt-5\">\r\n                  <GlobalTabel\r\n                    keyField=\"id\"\r\n                    data={this.props.barangPO}\r\n                    columns={this.state.columns}\r\n                  />\r\n                  <div className=\"text-right\">\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      disabled={this.props.onSend}\r\n                      onClick={() => this.transaksiPenjualanSubmit()}\r\n                    >\r\n                      {this.props.onSend ? (\r\n                        <span\r\n                          className=\"spinner-border spinner-border-sm mr-3\"\r\n                          aria-hidden=\"true\"\r\n                        ></span>\r\n                      ) : null}\r\n                      Selesai\r\n                <i class=\"fa fa-paper-plane ml-3\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          id=\"barcodeModal\"\r\n          className=\"modal fade\"\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n          aria-labelledby=\"primary-header-modalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog modal-xl\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header modal-colored-header bg-primary\">\r\n                <h4 className=\"modal-title\" id=\"primary-header-modalLabel\">\r\n                  Data Barcode\r\n                </h4>\r\n                <button\r\n                  type=\"button\"\r\n                  id=\"dismissModal\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <FormBarcodePenjualanCustomer\r\n                  kodeCustomer={this.state.kodeCustomer}\r\n                />\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-light\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          id=\"timbanganModal\"\r\n          className=\"modal fade\"\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n          aria-labelledby=\"primary-header-modalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog modal-xl\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header modal-colored-header bg-primary\">\r\n                <h4 className=\"modal-title\" id=\"primary-header-modalLabel\">\r\n                  Data Timbangan\r\n                </h4>\r\n                <button\r\n                  type=\"button\"\r\n                  id=\"dismissModal\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <FormTimbanganPenjualanCustomer\r\n                  kodeCustomer={this.state.kodeCustomer}\r\n                />\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-light\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ModalMasterData\r\n          content={\r\n            <Suspense\r\n              fallback={<Skeleton width={\"100%\"} height={50} count={4} />}\r\n            >\r\n              <FormTransaksiPO onSubmit={(data) => this.handleSubmit(data)} />\r\n            </Suspense>\r\n          }\r\n          title=\"Tambah Data\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPreOrder = reduxForm({\r\n  form: \"PreOrder\",\r\n  enableReinitialize: true,\r\n})(PreOrder);\r\nexport default connect(maptostate, null)(PreOrder);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reset } from \"redux-form\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getClosePengambilanBarcode } from \"../../actions/closeBarcodeAction\";\r\nimport {\r\n  getBruto,\r\n  getNetto,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n} from \"../../actions/LogicAction\";\r\nimport { getTotalNW } from \"../../actions/returnPenjualanAction\";\r\nimport { getListTransaksiPenjualan } from \"../../actions/transaksiPenjualanAction\";\r\nimport { gagal, warning } from \"../../Alert\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport { getToday } from \"../../getDate\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\n\r\nclass FormBarcodePenjualanCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"baki\",\r\n          text: \"Nama Baki\",\r\n        },\r\n        {\r\n          dataField: \"instansi\",\r\n          text: \"Supplier\",\r\n        },\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"total_bruto\",\r\n          text: \"Berat(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_netto\",\r\n          text: \"Netto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_ongkos\",\r\n          text: \"Ongkos(Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_gross\",\r\n          text: \"Gross(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-warning mr-2\"\r\n                  onClick={() => this.pilihBarcode(row)}\r\n                >\r\n                  Pilih\r\n                </button>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getClosePengambilanBarcode());\r\n  }\r\n\r\n  async pilihBarcode(data) {\r\n    let sebelum = JSON.parse(localStorage.getItem(\"transaksiPenjualan\")) || [];\r\n    let hasil = data.detail_barang;\r\n    hasil.forEach((list, index) => {\r\n      AxiosMasterGet(`jenis/get/by-kode-jenis/${hasil[index].kode_jenis}`)\r\n        .then((res) => {\r\n          var simpan = {\r\n            netto_disc:\r\n              (parseFloat(hasil[index].bruto) * res.data.kadar_jual) / 100,\r\n            gross:\r\n              parseFloat(hasil[index].bruto) + parseFloat(hasil[index].pkg), //berat + bungkus\r\n            netto: (parseFloat(hasil[index].bruto) * res.data.kadar_jual) / 100, //murni\r\n            qty: 1,\r\n            k: 0,\r\n            ongkos_rp: hasil[index].ongkos_rp, //ongkos\r\n            kadar_cetak: (hasil[index].kadar_cetak || 0).toString(),\r\n            disc_persen: 0,\r\n            kadar_jual: res.data.kadar_jual, //harga%\r\n            kadar_level2: res.data.level2,\r\n            kadar_level3: res.data.level3,\r\n            kadar_modal: res.data.kadar_beli, //harga%\r\n            kode_jenis: hasil[index].kode_jenis, //kodebarang\r\n            kode_barcode: \"-\",\r\n            kode_barcode_set: \"-\",\r\n            p: 0,\r\n            disc: 0,\r\n            pkg: hasil[index].pkg,\r\n            bruto: hasil[index].bruto, //berat\r\n          };\r\n          var simpan_level2 = {\r\n            netto_disc:\r\n              (parseFloat(hasil[index].bruto) * res.data.level2) / 100,\r\n            gross:\r\n              parseFloat(hasil[index].bruto) + parseFloat(hasil[index].pkg), //berat + bungkus\r\n            netto: (parseFloat(hasil[index].bruto) * res.data.level2) / 100, //murni\r\n            qty: 1,\r\n            k: 0,\r\n            ongkos_rp: hasil[index].ongkos_rp, //ongkos\r\n            kadar_cetak: (hasil[index].kadar_cetak || 0).toString(),\r\n            disc_persen: 0,\r\n            kadar_jual: res.data.kadar_jual, //harga%\r\n            kadar_level2: res.data.level2,\r\n            kadar_level3: res.data.level3,\r\n            kadar_modal: res.data.kadar_beli, //harga%\r\n            kode_jenis: hasil[index].kode_jenis, //kodebarang\r\n            kode_barcode: \"-\",\r\n            kode_barcode_set: \"-\",\r\n            p: 0,\r\n            disc: 0,\r\n            pkg: hasil[index].pkg,\r\n            bruto: hasil[index].bruto, //berat\r\n          };\r\n          var simpan_level3 = {\r\n            netto_disc:\r\n              (parseFloat(hasil[index].bruto) * res.data.level3) / 100,\r\n            gross:\r\n              parseFloat(hasil[index].bruto) + parseFloat(hasil[index].pkg), //berat + bungkus\r\n            netto: (parseFloat(hasil[index].bruto) * res.data.level3) / 100, //murni\r\n            qty: 1,\r\n            k: 0,\r\n            ongkos_rp: hasil[index].ongkos_rp, //ongkos\r\n            kadar_cetak: (hasil[index].kadar_cetak || 0).toString(),\r\n            disc_persen: 0,\r\n            kadar_jual: res.data.kadar_jual, //harga%\r\n            kadar_level2: res.data.level2,\r\n            kadar_level3: res.data.level3,\r\n            kadar_modal: hasil[index].kadar_beli, //harga%\r\n            kode_jenis: hasil[index].kode_jenis, //kodebarang\r\n            kode_barcode: \"-\",\r\n            kode_barcode_set: \"-\",\r\n            p: 0,\r\n            disc: 0,\r\n            pkg: hasil[index].pkg,\r\n            bruto: hasil[index].bruto, //berat\r\n          };\r\n          var array =\r\n            JSON.parse(localStorage.getItem(\"transaksiPenjualan\")) || [];\r\n          var array_level2 =\r\n            JSON.parse(localStorage.getItem(\"transaksiPenjualan_level2\")) || [];\r\n          var array_level3 =\r\n            JSON.parse(localStorage.getItem(\"transaksiPenjualan_level3\")) || [];\r\n          let posisi = sebelum.findIndex(\r\n            (data) =>\r\n              list.kode_jenis === data.kode_jenis || data.netto === list.netto\r\n          );\r\n          console.log(list.netto);\r\n          console.log(posisi);\r\n          // return false;\r\n          if (posisi < 0) {\r\n            array.push(simpan);\r\n            array_level2.push(simpan_level2);\r\n            array_level3.push(simpan_level3);\r\n            var GrandTotalNetto = array\r\n              .map((list) => parseFloat(list.netto_disc))\r\n              .reduce((a, b) => a + b, 0);\r\n            localStorage.setItem(\"GrandTotalNetto\", GrandTotalNetto);\r\n            localStorage.setItem(\"transaksiPenjualan\", JSON.stringify(array));\r\n            localStorage.setItem(\r\n              \"transaksiPenjualan_level2\",\r\n              JSON.stringify(array_level2)\r\n            );\r\n            localStorage.setItem(\r\n              \"transaksiPenjualan_level3\",\r\n              JSON.stringify(array_level3)\r\n            );\r\n            Swal.fire({\r\n              position: \"top-end\",\r\n              icon: \"success\",\r\n              text: \"Data Berhasil Ditambahkan!\",\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            this.props.dispatch(getListTransaksiPenjualan());\r\n            this.props.dispatch(getTotalNW());\r\n            this.props.dispatch(reset(\"FormTransaksiPenjualan\"));\r\n\r\n            this.props.dispatch(getNetto(\"transaksiPenjualan\"));\r\n            this.setState({\r\n              discGlobalGr:\r\n                (parseFloat(0) / 100) *\r\n                parseFloat(localStorage.getItem(\"GrandTotalNetto\")),\r\n              discGlobalPr: 0,\r\n              GrandTotalNetto: (\r\n                parseFloat(localStorage.getItem(\"GrandTotalNetto\")) - 0\r\n              ).toFixed(3),\r\n            });\r\n          } else {\r\n            warning(\"Data Sudah Ada Di Tabel\");\r\n          }\r\n        })\r\n        .catch((err) =>\r\n          gagal(\"Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu\")\r\n        );\r\n    });\r\n  }\r\n  getSumData() {\r\n    this.props.dispatch(getNetto(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getBruto(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getRp(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getPkg(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getQty(\"ReturnPenjualan\"));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12 col-md-12\">\r\n        <GlobalTabel\r\n          keyField=\"kodeJenis\"\r\n          data={\r\n            this.props.listCloseBarcode.filter(\r\n              (list) =>\r\n                list.jenis_trx === \"PENJUALAN\" &&\r\n                list.tanggal === getToday() &&\r\n                list.instansi === this.props.kodeCustomer\r\n            ) || []\r\n          }\r\n          columns={this.state.columns}\r\n          textEmpty=\"Data Barcode Kosong, Silahkan Tambah barcode dahulu untuk memakai fitur ini\"\r\n          // link=\"/ambilbarcode\"\r\n          // location=\"Rekam Barang Barcode\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    listCloseBarcode: state.provinsi.listCloseBarcode,\r\n  };\r\n})(FormBarcodePenjualanCustomer);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reset } from \"redux-form\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getClosePengambilanTimbangan } from \"../../actions/closeTimbangan\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport {\r\n  finishSend,\r\n  getBruto,\r\n  getNetto,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n  progressSend,\r\n} from \"../../actions/LogicAction\";\r\nimport { getTotalNW } from \"../../actions/returnPenjualanAction\";\r\nimport { getListTransaksiPenjualan } from \"../../actions/transaksiPenjualanAction\";\r\nimport { gagal } from \"../../Alert\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport { getToday } from \"../../getDate\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\nimport { setFocus } from \"../../helper\";\r\n\r\nclass FormTimbanganPenjualanCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"baki\",\r\n          text: \"Nama Baki\",\r\n        },\r\n        {\r\n          dataField: \"kode_customer\",\r\n          text: \"Supplier\",\r\n        },\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"total_bruto\",\r\n          text: \"Berat(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_netto\",\r\n          text: \"Netto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_ongkos\",\r\n          text: \"Ongkos(Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_gross\",\r\n          text: \"Gross(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-warning mr-2\"\r\n                  onClick={() => this.pilihData(row, row.kode_customer)}\r\n                >\r\n                  Pilih\r\n                </button>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getClosePengambilanTimbangan());\r\n    this.props.dispatch(getListBarang());\r\n  }\r\n\r\n  pilihData(data, customer) {\r\n    data.detail_barang.map((detail) => {\r\n      let json = detail;\r\n      json[\"netto_disc\"] = detail.netto;\r\n      json[\"disc\"] = 0;\r\n      json[\"disc_persen\"] = 0;\r\n      json[\"harga_jual\"] = 0;\r\n      // json[\"kode_kategori\"] = \"GLE17K\"\r\n      this.addBarang(json, customer);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  async addBarang(data, customer) {\r\n    this.props.dispatch(progressSend());\r\n    let param = data.kode_jenis;\r\n    let hasil = this.props.kodeBarang.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    let kode_tukar_1 = 0;\r\n    let kode_tukar_2 = 0;\r\n    let kode_tukar_3 = 0;\r\n    let customer_1 = customer;\r\n    let customer_2 =\r\n      this.state.level_customer === \"LEVEL2\"\r\n        ? this.state.kodeCustomer\r\n        : localStorage.getItem(\"customer_2\");\r\n    let customer_3 =\r\n      this.state.level_customer === \"LEVEL3\" ? this.state.kodeCustomer : \"-\";\r\n    await AxiosMasterGet(\r\n      `kelompok-harga/get/by-jenis-and-customer/${customer_1}&${data.kode_jenis}`\r\n    )\r\n      .then((res) => (kode_tukar_1 = res.data.kode_tukar_normal || 0))\r\n      .catch(() => (kode_tukar_1 = 0));\r\n    await AxiosMasterGet(\r\n      `kelompok-harga/get/by-jenis-and-customer/${customer_2}&${data.kode_jenis}`\r\n    )\r\n      .then((res) => (kode_tukar_2 = res.data.kode_tukar_normal || 0))\r\n      .catch(() => (kode_tukar_2 = 0));\r\n    await AxiosMasterGet(\r\n      `kelompok-harga/get/by-jenis-and-customer/${customer_3}&${data.kode_jenis}`\r\n    )\r\n      .then((res) => (kode_tukar_3 = res.data.kode_tukar_normal || 0))\r\n      .catch(() => (kode_tukar_3 = 0));\r\n    AxiosMasterGet(`jenis/get/by-kode-jenis/${data.kode_jenis}`)\r\n      .then((res) => {\r\n        var simpan_nota_1 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level1\")) || [];\r\n        var simpan_nota_2 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level2\")) || [];\r\n        var simpan_nota_3 =\r\n          JSON.parse(localStorage.getItem(\"nota_penjualan_level3\")) || [];\r\n        var nota_gambar = JSON.parse(localStorage.getItem(\"nota_gambar\")) || [];\r\n        var posisi = simpan_nota_1.findIndex(\r\n          (find) => find.kode_kategori === data.kode_kategori\r\n        );\r\n        var posisi_2 = simpan_nota_2.findIndex(\r\n          (find) => find.kode_kategori === data.kode_kategori\r\n        );\r\n        var posisi_3 = simpan_nota_3.findIndex(\r\n          (find) => find.kode_kategori === data.kode_kategori\r\n        );\r\n        nota_gambar.push({ lokasi_gambar: res.data?.image });\r\n        localStorage.setItem(\"nota_gambar\", JSON.stringify(nota_gambar));\r\n        if (posisi !== -1) {\r\n          var nota_1 = {\r\n            netto_disc: (\r\n              parseFloat(data.netto_disc || 0) +\r\n              parseFloat(simpan_nota_1[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              parseFloat(data.netto || 0) +\r\n              parseFloat(simpan_nota_1[posisi].netto)\r\n            ).toFixed(3),\r\n            ongkos_rp: (\r\n              parseFloat(data.ongkos_rp === undefined ? 0 : data.ongkos_rp) +\r\n              simpan_nota_1[posisi].ongkos_rp\r\n            ).toLocaleString(\"id-ID\"), //ongkos\r\n            disc: (\r\n              parseFloat(data.disc || 0) +\r\n              parseFloat(simpan_nota_1[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto: (\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_1[posisi].bruto)\r\n            ).toFixed(3), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_1,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual,\r\n          };\r\n          var nota_2 = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) /\r\n                100 +\r\n              parseFloat(simpan_nota_2[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              ((parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 ||\r\n                0) + parseFloat(simpan_nota_2[posisi].netto)\r\n            ).toFixed(3), //murni\r\n            ongkos_rp:\r\n              parseFloat(data.ongkos_rp === undefined ? 0 : data.ongkos_rp) +\r\n              parseFloat(simpan_nota_2[posisi].ongkos_rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n                parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_2[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto:\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_2[posisi].bruto), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_2,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual,\r\n          };\r\n          var nota_3 = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) /\r\n                100 +\r\n              parseFloat(simpan_nota_3[posisi].netto_disc)\r\n            ).toFixed(3),\r\n            netto: (\r\n              ((parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 ||\r\n                0) + parseFloat(simpan_nota_3[posisi].netto)\r\n            ).toFixed(3), //murni\r\n            ongkos_rp:\r\n              parseFloat(data.ongkos_rp === undefined ? 0 : data.ongkos_rp) +\r\n              parseFloat(simpan_nota_3[posisi].ongkos_rp), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n                parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_3[posisi].disc)\r\n            ).toFixed(3),\r\n            bruto:\r\n              parseFloat(data.bruto || 0) +\r\n              parseFloat(simpan_nota_3[posisi].bruto), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_3,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual,\r\n          };\r\n          simpan_nota_1.push(nota_1);\r\n          simpan_nota_2.push(nota_2);\r\n          simpan_nota_3.push(nota_3);\r\n          simpan_nota_1.splice(posisi, 1);\r\n          simpan_nota_2.splice(posisi_2, 1);\r\n          simpan_nota_3.splice(posisi_3, 1);\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level1\",\r\n            JSON.stringify(simpan_nota_1)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level2\",\r\n            JSON.stringify(simpan_nota_2)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level3\",\r\n            JSON.stringify(simpan_nota_3)\r\n          );\r\n        } else {\r\n          var nota_1_else = {\r\n            netto_disc: parseFloat(data.netto_disc || 0).toFixed(3),\r\n            netto: parseFloat(data.netto || 0).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(\r\n              data.ongkos_rp === undefined ? 0 : data.ongkos_rp\r\n            ), //ongkos\r\n            disc: data.disc || 0,\r\n            bruto: parseFloat(data.bruto || 0).toFixed(3), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_1,\r\n            keterangan: data.keterangan,\r\n            disc_persen: data.disc_persen || 0,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual:\r\n              data.harga_jual === \"undefined\"\r\n                ? 0\r\n                : parseFloat(data.harga_jual) * parseFloat(data.qty),\r\n          };\r\n          var nota_2_else = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) / 100\r\n            ).toFixed(3),\r\n            netto: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_2)) / 100 ||\r\n              0\r\n            ).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(\r\n              data.ongkos_rp === undefined ? 0 : data.ongkos_rp\r\n            ), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n              parseFloat(data.bruto || 0)\r\n            ).toFixed(3),\r\n            bruto: parseFloat(data.bruto || 0), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_2,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual:\r\n              data.harga_jual === \"undefined\"\r\n                ? 0\r\n                : parseFloat(data.harga_jual) * parseFloat(data.qty),\r\n          };\r\n          var nota_3_else = {\r\n            netto_disc: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 -\r\n              (parseFloat(data.disc_persen) * parseFloat(data.bruto || 0)) / 100\r\n            ).toFixed(3),\r\n            netto: (\r\n              (parseFloat(data.bruto || 0) * parseFloat(kode_tukar_3)) / 100 ||\r\n              0\r\n            ).toFixed(3), //murni\r\n            ongkos_rp: parseFloat(\r\n              data.ongkos_rp === undefined ? 0 : data.ongkos_rp\r\n            ), //ongkos\r\n            disc: (\r\n              (parseFloat(data.disc_persen) / 100) *\r\n              parseFloat(data.bruto || 0)\r\n            ).toFixed(3),\r\n            bruto: parseFloat(data.bruto || 0), //berat\r\n            kode_kategori: data.kode_kategori,\r\n            kode_tukar: kode_tukar_3,\r\n            keterangan: data.keterangan,\r\n            jumlah_barang_set: 0,\r\n            total_berat_barang_set: 0,\r\n            kode_barcode_set: \"-\",\r\n            harga_jual:\r\n              data.harga_jual === \"undefined\"\r\n                ? 0\r\n                : parseFloat(data.harga_jual) * parseFloat(data.qty),\r\n          };\r\n          simpan_nota_1.push(nota_1_else);\r\n          simpan_nota_2.push(nota_2_else);\r\n          simpan_nota_3.push(nota_3_else);\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level1\",\r\n            JSON.stringify(simpan_nota_1)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level2\",\r\n            JSON.stringify(simpan_nota_2)\r\n          );\r\n          localStorage.setItem(\r\n            \"nota_penjualan_level3\",\r\n            JSON.stringify(simpan_nota_3)\r\n          );\r\n        }\r\n        var simpan = {\r\n          netto_disc: parseFloat(data.netto_disc || 0).toFixed(3) || 0,\r\n          gross: parseFloat(data.gross || 0).toFixed(3) || 0, //berat + bungkus\r\n          netto: parseFloat(data.netto || 0).toFixed(3) || 0, //murni\r\n          qty: data.qty || 1,\r\n          k: parseFloat(data.k || 0),\r\n          ongkos_rp: parseFloat(\r\n            data.ongkos_rp === undefined ? 0 : data.ongkos_rp\r\n          ), //ongkos\r\n          kadar_cetak: (hasil[0].kadar_cetak || 0).toString(),\r\n          disc_persen: data.disc_persen || 0,\r\n          kadar_jual: kode_tukar_1 || 0, //harga%\r\n          kadar_level2: res.data.level2 || 0,\r\n          kadar_level3: res.data.level3 || 0,\r\n          kadar_modal: hasil[0].kadar_modal || 0, //harga%\r\n          kode_jenis: hasil[0].kode_jenis || 0, //kodebarang\r\n          kode_barcode: \"-\",\r\n          kode_barcode_set: \"-\",\r\n          p: parseFloat(data.p || 0),\r\n          disc: data.disc || 0,\r\n          pkg: parseFloat(data.pkg || 0),\r\n          bruto: parseFloat(data.bruto || 0).toFixed(3), //berat\r\n          harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual,\r\n        };\r\n\r\n        var array =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan\")) || [];\r\n        array.push(simpan);\r\n        var GrandTotalNetto = array\r\n          .map((list) => parseFloat(list.netto))\r\n          .reduce((a, b) => a + b, 0);\r\n        localStorage.setItem(\"GrandTotalNetto\", GrandTotalNetto);\r\n        localStorage.setItem(\"transaksiPenjualan\", JSON.stringify(array));\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n        this.props.dispatch(finishSend());\r\n        this.props.dispatch(getListTransaksiPenjualan());\r\n        this.props.dispatch(getTotalNW());\r\n        this.props.dispatch(reset(\"FormTransaksiPenjualan\"));\r\n        setFocus(\"discGlobal_penjualan\");\r\n        this.props.dispatch(getNetto(\"transaksiPenjualan\"));\r\n        this.setState({\r\n          discGlobalGr:\r\n            (parseFloat(0) / 100) *\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")),\r\n          discGlobalPr: 0,\r\n          GrandTotalNetto: (\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")) - 0\r\n          ).toFixed(3),\r\n        });\r\n      })\r\n      .catch((err) =>\r\n        gagal(\"Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu\")\r\n      );\r\n  }\r\n  getSumData() {\r\n    this.props.dispatch(getNetto(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getBruto(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getRp(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getPkg(\"ReturnPenjualan\"));\r\n    this.props.dispatch(getQty(\"ReturnPenjualan\"));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12 col-md-12\">\r\n        <GlobalTabel\r\n          keyField=\"kodeJenis\"\r\n          data={\r\n            this.props.listCloseBarcode.filter(\r\n              (list) =>\r\n                list.jenis_trx === \"PENJUALAN\" &&\r\n                list.tanggal === getToday() &&\r\n                list.kode_customer === this.props.kodeCustomer\r\n            ) || []\r\n          }\r\n          columns={this.state.columns}\r\n          textEmpty=\"Data Timbangan Kosong\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    listCloseBarcode: state.provinsi.listCloseTimbangan,\r\n    kodeBarang: state.provinsi.kodeBarang,\r\n  };\r\n})(FormTimbanganPenjualanCustomer);\r\n"],"sourceRoot":""}