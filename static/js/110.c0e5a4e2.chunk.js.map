{"version":3,"sources":["Validations/validasiHeadPindahBarang.js","Stocking/Component/FormBarcode.jsx","Stocking/Component/HeadPindahBarang.jsx","Stocking/PindahBarang.jsx"],"names":["validasiHeadPindahBarang","value","errors","tanggal","dari","ke","kategori","FormBarcode","props","state","columns","dataField","text","align","headerAlign","csvExport","formatter","rowContent","row","className","onClick","pilihBarcode","this","dispatch","getClosePengambilanBarcode","data","a","hasil","detail_barang","forEach","list","index","AxiosMasterGet","kode_jenis","then","res","kode_kategori","kode_kelompok","kadar_modal","kadar_beli","kadar_jual","p","k","qty","kadar","localStorage","setItem","JSON","stringify","Swal","fire","position","icon","showConfirmButton","timer","reset","getListPindahBarang","getSumData","catch","err","gagal","getNetto","getBruto","getRp","getPkg","getQty","GlobalTabel","keyField","listCloseBarcode","filter","jenis_trx","getToday","instansi","lokasi_asal","instansi2","lokasi_tujuan","textEmpty","Component","connect","provinsi","HeadPindahBarang","supplier","listKategori","nama","formatGram","cell","formatRp","rowIndex","data-tip","type","data-for","deleteIndex","id","effect","getLokasiPindah","change","getBon","showModal","setState","isEdit","onSubmit","handleSubmit","Field","component","renderField","name","label","dataLokasiPindah","renderFieldSelect","status","normalize","toUpperCase","onChange","options","map","obj","kode_lokasi","nama_lokasi","htmlFor","data-toggle","data-target","disabled","tambahModal","listBarang","bordered","headerClasses","onSend","aria-hidden","class","tabIndex","role","aria-labelledby","data-dismiss","reduxForm","form","enableReinitialize","validate","pindahBarang","initialValues","FormTambahBarang","lazy","PindahBarang","input","e","target","kepada","dariIsi","noBon","kodeJenis","keterangan","edited","EditPindahBarang","getUUID","dataEditPindahBarang","result_explode","kodeBarang","split","barang1","parse","getItem","simpan","nama_jenis","kode_barcode","gross","parseFloat","bruto","pkg","kadar_cetak","toString","kadarTransaksi","kadarJual","netto","ongkos_rp","ongkos","push","response","warning","isi","no_pindah","noFaktur","no_bon","progressSend","console","log","tableRows","table","ticket","i","ticketData","content","styles","halign","footer","reduce","b","columTable","AxiosMasterPost","finishSend","removeItem","PrintNota","getUserID","kodeLokasiAsal","kodeLokasiTujuan","style","color","HeaderCard","title","ModalMasterData","fallback","width","height","count","setEdit","SubmitPindah","listEditPindahBarang","username","sumBruto","perhitungan","sumNetto","sumRp","sumPkg","sumQty"],"mappings":"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","file":"static/js/110.c0e5a4e2.chunk.js","sourcesContent":["const validasiHeadPindahBarang = (value) => {\r\n  const errors = {};\r\n  if (!value.tanggal) {\r\n    errors.tanggal = \"Tidak Boleh kosong\";\r\n  }\r\n  if (!value.dari) {\r\n    errors.dari = \"Tidak Boleh kosong\";\r\n  }\r\n  if (!value.ke) {\r\n    errors.ke = \"Tidak Boleh kosong\";\r\n  }\r\n  if (!value.kategori) {\r\n    errors.kategori = \"Tidak Boleh kosong\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validasiHeadPindahBarang;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reset } from \"redux-form\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getClosePengambilanBarcode } from \"../../actions/closeBarcodeAction\";\r\nimport {\r\n  getBruto,\r\n  getNetto,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n} from \"../../actions/LogicAction\";\r\nimport { getListPindahBarang } from \"../../actions/pindahBarangAction\";\r\nimport { gagal } from \"../../Alert\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport { getToday } from \"../../getDate\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\n\r\nclass FormBarcode extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"baki\",\r\n          text: \"Nama Baki\",\r\n        },\r\n        {\r\n          dataField: \"instansi\",\r\n          text: \"Supplier\",\r\n        },\r\n        {\r\n          dataField: \"jenis_trx\",\r\n          text: \"Kode Model\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_bruto\",\r\n          text: \"Berat(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_netto\",\r\n          text: \"Netto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_ongkos\",\r\n          text: \"Ongkos(Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_gross\",\r\n          text: \"Gross(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-warning mr-2\"\r\n                  onClick={() => this.pilihBarcode(row)}\r\n                >\r\n                  Pilih\r\n                </button>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getClosePengambilanBarcode());\r\n  }\r\n\r\n  async pilihBarcode(data) {\r\n    let hasil = data.detail_barang;\r\n    hasil.forEach((list, index) => {\r\n      AxiosMasterGet(\"jenis/get/by-kode-jenis/\" + list.kode_jenis)\r\n        .then((res) => {\r\n          hasil[index].kode_kategori = res.data.kode_kelompok;\r\n          hasil[index].kadar_modal = res.data.kadar_beli;\r\n          hasil[index].kadar_jual = res.data.kadar_jual;\r\n          hasil[index].p = 0;\r\n          hasil[index].k = 0;\r\n          hasil[index].qty = 1;\r\n          delete hasil[index].kadar;\r\n        })\r\n        .then(() => {\r\n          localStorage.setItem(\"pindahBarang\", JSON.stringify(hasil));\r\n          Swal.fire({\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            text: \"Transaksi Berhasil\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          })\r\n            .then(() => this.props.dispatch(reset(\"FormTambahBarang\")))\r\n            .then(() => this.props.dispatch(getListPindahBarang()))\r\n            .then(() => this.getSumData());\r\n        })\r\n        .catch((err) => gagal(`Error Get Data , Detail : ${err}`));\r\n    });\r\n  }\r\n  getSumData() {\r\n    this.props.dispatch(getNetto(\"pindahBarang\"));\r\n    this.props.dispatch(getBruto(\"pindahBarang\"));\r\n    this.props.dispatch(getRp(\"pindahBarang\"));\r\n    this.props.dispatch(getPkg(\"pindahBarang\"));\r\n    this.props.dispatch(getQty(\"pindahBarang\"));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12 col-md-12\">\r\n        <GlobalTabel\r\n          keyField=\"kodeJenis\"\r\n          data={\r\n            this.props.listCloseBarcode.filter(\r\n              (list) =>\r\n                list.jenis_trx === \"PINDAH BARANG\" &&\r\n                list.tanggal === getToday() &&\r\n                list.instansi === this.props.lokasi_asal &&\r\n                list.instansi2 === this.props.lokasi_tujuan\r\n            ) || []\r\n          }\r\n          columns={this.state.columns}\r\n          textEmpty=\"Data Barcode Untuk Lokasi Ini Tidak Ada\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    listCloseBarcode: state.provinsi.listCloseBarcode,\r\n  };\r\n})(FormBarcode);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { showModal } from \"../../actions/ModalAction\";\r\nimport { getListPindahBarang } from \"../../actions/pindahBarangAction\";\r\nimport { getLokasiPindah } from \"../../actions/supplierAction\";\r\nimport { deleteIndex } from \"../../deleteLocalStorage\";\r\nimport { getToday, SkeletonLoading } from \"../../getDate\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\nimport { formatGram, formatRp, getBon } from \"../../helper\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport validasiHeadPindahBarang from \"../../Validations/validasiHeadPindahBarang\";\r\nimport FormBarcode from \"./FormBarcode\";\r\n\r\nclass HeadPindahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      supplier: false,\r\n      listKategori: [\r\n        {\r\n          nama: \"AMBIL BARANG\",\r\n        },\r\n        {\r\n          nama: \"KEMBALI STOK\",\r\n        },\r\n        {\r\n          nama: \"KOREKSI STOK\",\r\n        },\r\n        {\r\n          nama: \"MUTASI BAHAN\",\r\n        },\r\n        {\r\n          nama: \"PENGAMBILAN SALES\",\r\n        },\r\n        {\r\n          nama: \"PINDAH\",\r\n        },\r\n        {\r\n          nama: \"PINDAH GUDANG REPARASI\",\r\n        },\r\n        {\r\n          nama: \"RETURN SALES\",\r\n        },\r\n        {\r\n          nama: \"SALAH INPUT\",\r\n        },\r\n        {\r\n          nama: \"SALAH PINDAH\",\r\n        },\r\n        {\r\n          nama: \"STOK AWAL\",\r\n        },\r\n        {\r\n          nama: \"TAMBAH BARANG\",\r\n        },\r\n      ],\r\n      columns: [\r\n        {\r\n          dataField: \"kode_jenis\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"kadar_modal\",\r\n          text: \"Kode Awal\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n\r\n        {\r\n          dataField: \"kadar_cetak\",\r\n          text: \"Cap Kode\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"pkg\",\r\n          text: \"Pkg (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Bruto (Gr)\",\r\n          align: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"kadar_jual\",\r\n          text: \"Kode Tukar\",\r\n          align: \"right\",\r\n          formatter: (data) => formatGram(data, 2),\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Netto (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"ongkos_rp\",\r\n          text: \"Ongkos (Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (cell) => {\r\n            return <span>Rp. {formatRp(cell)}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"qty\",\r\n          text: \"Qty\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  data-tip\r\n                  type=\"button\"\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger\"\r\n                  onClick={() =>\r\n                    deleteIndex(\r\n                      \"pindahBarang\",\r\n                      rowIndex,\r\n                      this.props.dispatch,\r\n                      getListPindahBarang()\r\n                    )\r\n                  }\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash\"></i>\r\n                </button>\r\n                <br />\r\n                {/* <button\r\n                  data-tip\r\n                  data-for=\"edit\"\r\n                  className=\"btn btn-warning mr-2\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#editModal\"\r\n                  onClick={() => this.setEdit(row)}\r\n                >\r\n                  <ReactTooltip id=\"edit\" type=\"dark\" effect=\"solid\">\r\n                    <span>Edit</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-edit mr-1\"></i>\r\n                </button> */}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      lokasi_asal: \"\",\r\n      lokasi_tujuan: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getLokasiPindah());\r\n    this.props.change(\"tanggal\", getToday);\r\n    this.props.change(\"noBon\",  \"AS/PB-\" +  + getBon())\r\n  }\r\n  tambahModal() {\r\n    this.props.dispatch(showModal());\r\n    this.setState({ isEdit: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <form onSubmit={this.props.handleSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-3 form-group\">\r\n              <Field\r\n                component={renderField}\r\n                type=\"date\"\r\n                name=\"tanggal\"\r\n                label=\"Tanggal\"\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 form-group\">\r\n              {this.props.dataLokasiPindah ? (\r\n                <Field\r\n                  component={renderFieldSelect}\r\n                  label=\"Dari\"\r\n                  name=\"dari\"\r\n                  value={this.props.status}\r\n                  normalize={(value) => value && value.toUpperCase()}\r\n                  onChange={(data) =>\r\n                    this.setState({\r\n                      lokasi_asal: data,\r\n                    })\r\n                  }\r\n                  options={this.props.dataLokasiPindah.map((obj) => {\r\n                    var payload = {\r\n                      value: obj.kode_lokasi,\r\n                      name: obj.nama_lokasi,\r\n                    };\r\n                    return payload;\r\n                  })}\r\n                ></Field>\r\n              ) : (\r\n                <SkeletonLoading label=\"Dari\" />\r\n              )}\r\n            </div>\r\n            <div className=\"col-md-1 text-center\">\r\n              <label htmlFor=\"\" className=\"text-white\">\r\n                .\r\n              </label>\r\n              <h3>\r\n                <i className=\"fa fa-exchange-alt\"></i>\r\n              </h3>\r\n            </div>\r\n            <div className=\"col-md-4 form-group\">\r\n              {this.props.dataLokasiPindah ? (\r\n                <Field\r\n                  component={renderFieldSelect}\r\n                  label=\"Ke\"\r\n                  name=\"ke\"\r\n                  value={this.props.status}\r\n                  normalize={(value) => value && value.toUpperCase()}\r\n                  onChange={(data) =>\r\n                    this.setState({\r\n                      lokasi_tujuan: data,\r\n                    })\r\n                  }\r\n                  options={this.props.dataLokasiPindah.map((obj) => {\r\n                    var payload = {\r\n                      value: obj.kode_lokasi,\r\n                      name: obj.nama_lokasi,\r\n                    };\r\n                    return payload;\r\n                  })}\r\n                ></Field>\r\n              ) : (\r\n                <SkeletonLoading label=\"Ke\" />\r\n              )}\r\n            </div>\r\n            <div className=\"col-md-4 form-group\">\r\n              {this.props.dataLokasiPindah ? (\r\n                <Field\r\n                  component={renderFieldSelect}\r\n                  label=\"Kategori\"\r\n                  name=\"Kategori\"\r\n                  value={this.props.status}\r\n                  normalize={(value) => value && value.toUpperCase()}\r\n                  options={this.state.listKategori.map((obj) => {\r\n                    var payload = {\r\n                      value: obj.nama,\r\n                      name: obj.nama,\r\n                    };\r\n                    return payload;\r\n                  })}\r\n                ></Field>\r\n              ) : (\r\n                <SkeletonLoading label=\"Kategori\" />\r\n              )}\r\n            </div>\r\n            <div className=\"col-md-4 form-group d-none\">\r\n              <Field\r\n                component={renderField}\r\n                type=\"text\"\r\n                name=\"noBon\"\r\n                label=\"Bon Pindah\"\r\n                normalize={(value) => value && value.toUpperCase()}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-4\"></div>\r\n            <div className=\"col-lg-4\"></div>\r\n            <div className=\"col-lg-4 col-md-4 mb-3\">\r\n              <div className=\"text-left\"></div>\r\n            </div>\r\n            <div className=\"col-lg-4 col-md-4 mb-3\">\r\n              <div className=\"text-center\">\r\n                {this.state.lokasi_asal === \"\" ||\r\n                this.state.lokasi_tujuan === \"\" ? (\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    data-toggle=\"modal\"\r\n                    type=\"button\"\r\n                    data-target=\"#barcodeModal\"\r\n                    disabled\r\n                  >\r\n                    BARCODE (+)\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    data-toggle=\"modal\"\r\n                    type=\"button\"\r\n                    data-target=\"#barcodeModal\"\r\n                  >\r\n                    BARCODE (+)\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-4 col-md-4 mb-3\">\r\n              <div className=\"text-right\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => this.tambahModal()}\r\n                >\r\n                  TAMBAH BARANG\r\n                  <i className=\"fa fa-plus ml-3\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-12 col-lg-12\">\r\n              <GlobalTabel\r\n                keyField=\"KodeBarang\"\r\n                data={this.props.listBarang || []}\r\n                columns={this.state.columns}\r\n                bordered={true}\r\n                headerClasses=\"header-table\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"text-right\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                data-toggle=\"modal\"\r\n                disabled={this.props.onSend}\r\n                onClick={this.props.handleSubmit}\r\n              >\r\n                {this.props.onSend ? (\r\n                  <span\r\n                    className=\"spinner-border spinner-border-sm mr-3\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Selesai\r\n                <i class=\"fa fa-paper-plane ml-3\" aria-hidden=\"true\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <div\r\n          id=\"barcodeModal\"\r\n          className=\"modal fade\"\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n          aria-labelledby=\"primary-header-modalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog modal-xl\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header modal-colored-header bg-primary\">\r\n                <h4 className=\"modal-title\" id=\"primary-header-modalLabel\">\r\n                  Data Barcode\r\n                </h4>\r\n                <button\r\n                  type=\"button\"\r\n                  id=\"dismissModal\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <FormBarcode\r\n                  onSubmit={(data) => this.handleSubmit(data)}\r\n                  lokasi_asal={this.state.lokasi_asal}\r\n                  lokasi_tujuan={this.state.lokasi_tujuan}\r\n                />\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-light\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nHeadPindahBarang = reduxForm({\r\n  form: \"headPindahBarang\",\r\n  enableReinitialize: true,\r\n  validate: validasiHeadPindahBarang,\r\n})(HeadPindahBarang);\r\nexport default connect((state) => {\r\n  return {\r\n    dataLokasiPindah: state.provinsi.dataLokasiPindah,\r\n    listBarang: state.provinsi.pindahBarang,\r\n    initialValues: {\r\n      tanggal: getToday()\r\n    }\r\n  };\r\n})(HeadPindahBarang);\r\n","import React, { Component, lazy, Suspense } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { reset } from \"redux-form\";\r\nimport {\r\n  EditPindahBarang,\r\n  getListPindahBarang,\r\n} from \"../actions/pindahBarangAction\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport {\r\n  finishSend,\r\n  getBruto,\r\n  getNetto,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n  progressSend,\r\n} from \"../actions/LogicAction\";\r\nimport PrintNota from \"./Component/PrintNota\";\r\nimport { gagal, warning } from \"../Alert\";\r\nimport { deleteIndex } from \"../deleteLocalStorage\";\r\nimport HeadPindahBarang from \"./Component/HeadPindahBarang\";\r\nimport ModalMasterData from \"../DataMaster/Component/ModalMasterData\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport { formatGram, formatRp, getUserID } from \"../helper\";\r\n\r\nconst FormTambahBarang = lazy(() => import(\"./Component/FormTambahBarang\"));\r\nconst maptoState = (state) => {\r\n  return {\r\n    listBarang: state.provinsi.pindahBarang,\r\n    listEditPindahBarang: state.provinsi.listEditPindahBarang,\r\n    noFaktur: state.provinsi.noFaktur,\r\n    username: state.provinsi.username,\r\n    sumBruto: state.perhitungan.sumBruto,\r\n    sumNetto: state.perhitungan.sumNetto,\r\n    sumRp: state.perhitungan.sumRp,\r\n    sumPkg: state.perhitungan.sumPkg,\r\n    sumQty: state.perhitungan.sumQty,\r\n    onSend: state.provinsi.onSend,\r\n  };\r\n};\r\n\r\nclass PindahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dari: [],\r\n      kepada: [],\r\n      tanggal: \"\",\r\n      dariIsi: \"\",\r\n      ke: \"\",\r\n      noBon: \"\",\r\n      kategori: \"\",\r\n      kodeJenis: \"\",\r\n      keterangan: \"\",\r\n      edited: false,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_jenis\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"kadar_modal\",\r\n          text: \"Kode Awal\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n\r\n        {\r\n          dataField: \"kadar_cetak\",\r\n          text: \"Cap Kode\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"pkg\",\r\n          text: \"Pkg (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Bruto (Gr)\",\r\n          align: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"kadar_jual\",\r\n          text: \"Kode Tukar\",\r\n          align: \"right\",\r\n          formatter: (data) => formatGram(data, 2),\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Netto (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"ongkos_rp\",\r\n          text: \"Ongkos (Rp)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (cell) => {\r\n            return <span>Rp. {formatRp(cell)}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"qty\",\r\n          text: \"Qty\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  type=\"button\"\r\n                  className=\"btn btn-danger\"\r\n                  onClick={() =>\r\n                    deleteIndex(\r\n                      \"pindahBarang\",\r\n                      rowIndex,\r\n                      this.props.dispatch,\r\n                      getListPindahBarang()\r\n                    )\r\n                  }\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  getSumData() {\r\n    this.props.dispatch(getNetto(\"pindahBarang\"));\r\n    this.props.dispatch(getBruto(\"pindahBarang\"));\r\n    this.props.dispatch(getRp(\"pindahBarang\"));\r\n    this.props.dispatch(getPkg(\"pindahBarang\"));\r\n    this.props.dispatch(getQty(\"pindahBarang\"));\r\n  }\r\n  setEdit(row) {\r\n    this.props.dispatch(EditPindahBarang(row));\r\n    this.setState({\r\n      edited: true,\r\n    });\r\n  }\r\n  getTabelData() {\r\n    this.props.dispatch(getListPindahBarang());\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getListPindahBarang());\r\n    this.props.dispatch(getUUID());\r\n    this.getSumData();\r\n    this.dataEditPindahBarang();\r\n  }\r\n  handleSubmit(data) {\r\n    var supp = data.kodeBarang\r\n      ? data.kodeBarang\r\n      : \"DEFAULT | DEFAULT | DEFAULT | DEFAULT |DEFAULT |DEFAULT \";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeJenis: result_explode[0],\r\n    });\r\n    var barang1 = JSON.parse(localStorage.getItem(\"pindahBarang\")) || [];\r\n    var simpan = {\r\n      kode_kategori: result_explode[5],\r\n      kode_jenis: result_explode[0],\r\n      nama_jenis: result_explode[4],\r\n      kode_barcode: \"-\",\r\n      qty: data.qty || 1,\r\n      p: 0,\r\n      k: 0,\r\n      gross: parseFloat(data.bruto) + parseFloat(data.pkg) || 0,\r\n      pkg: parseFloat(data.pkg) || 0,\r\n      bruto: parseFloat(data.bruto) || 0,\r\n      kadar_cetak: (parseFloat(data.kadar) || 0).toString(),\r\n      kadar_modal: parseFloat(data.kadarTransaksi) || 0,\r\n      kadar_jual: parseFloat(data.kadarJual) || 0,\r\n      netto: parseFloat(data.netto) || 0,\r\n      ongkos_rp: parseFloat(data.ongkos) || 0,\r\n    };\r\n    barang1.push(simpan);\r\n    localStorage.setItem(\"pindahBarang\", JSON.stringify(barang1));\r\n    Swal.fire({\r\n      position: \"top-end\",\r\n      icon: \"success\",\r\n      text: \"Transaksi Berhasil\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    })\r\n      .then(() => this.props.dispatch(reset(\"FormTambahBarang\")))\r\n      .then(() => this.props.dispatch(getListPindahBarang()))\r\n      .then(() => this.getSumData())\r\n      .catch((err) =>\r\n        gagal(`Gagal Simpan Data, Detail : ${err.response.data}`)\r\n      );\r\n  }\r\n\r\n  SubmitPindah(data) {\r\n    if (localStorage.getItem(\"pindahBarang\") === null) {\r\n      warning(\"Mohon Tambahkan Barang Yang akan dipindahkan\");\r\n      return false;\r\n    }\r\n    var isi = {\r\n      no_pindah: this.props.noFaktur,\r\n      no_bon: data.noBon,\r\n      tanggal: data.tanggal,\r\n      lokasi_asal: data.dari,\r\n      lokasi_tujuan: data.ke,\r\n      keterangan: \"PINDAH BARANG\",\r\n      detail_barang: JSON.parse(localStorage.getItem(\"pindahBarang\")),\r\n    };\r\n    this.props.dispatch(progressSend());\r\n    console.log(JSON.stringify(isi));\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [];\r\n    var table = JSON.parse(localStorage.getItem(\"pindahBarang\"));\r\n    // for each ticket pass all its data into an array\r\n    table.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        ++i,\r\n        ticket.kode_jenis,\r\n        { content: ticket.qty, styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.bruto), styles: { halign: \"right\" } },\r\n        { content: ticket.kadar_modal, styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.netto, 3), styles: { halign: \"right\" } },\r\n        { content: ticket.pkg, styles: { halign: \"right\" } },\r\n        { content: formatGram(ticket.gross), styles: { halign: \"right\" } },\r\n        { content: formatRp(ticket.ongkos_rp), styles: { halign: \"right\" } },\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    const footer = [\r\n      { content: \"\" },\r\n      { content: \"Grand Total\" },\r\n      {\r\n        content: table\r\n          .map((list) => parseFloat(list.qty))\r\n          .reduce((a, b) => a + b, 0),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n      {\r\n        content: formatGram(\r\n          table.map((list) => parseFloat(list.bruto)).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n      { content: \"\" },\r\n      {\r\n        content: formatGram(\r\n          table\r\n            .map((list) => parseFloat(list.netto))\r\n            .reduce((a, b) => a + b, 0),\r\n          3\r\n        ),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n      {\r\n        content: table\r\n          .map((list) => parseFloat(list.pkg))\r\n          .reduce((a, b) => a + b, 0),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n      {\r\n        content: formatGram(\r\n          table.map((list) => parseFloat(list.gross)).reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n      {\r\n        content: formatRp(\r\n          table\r\n            .map((list) => parseFloat(list.ongkos_rp))\r\n            .reduce((a, b) => a + b, 0)\r\n        ),\r\n        styles: {\r\n          halign: \"right\",\r\n        },\r\n      },\r\n    ];\r\n    // tableRows.push(footer);\r\n    var columTable = [\r\n      [\r\n        { content: \"No\" },\r\n        { content: \"Kode Jenis\" },\r\n        {\r\n          content: \"Qty\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Bruto (Gr)\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Kode Awal\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Netto (Gr)\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Pkg (Gr)\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Gross (Gr)\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n        {\r\n          content: \"Ongkos (Rp)\",\r\n          styles: {\r\n            halign: \"right\",\r\n          },\r\n        },\r\n      ],\r\n    ];\r\n\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    AxiosMasterPost(\"pindah-barang/simpan\", isi)\r\n      .then(() =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Transaksi Berhasil\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n          .then(() => this.props.dispatch(finishSend()))\r\n          .then(() => localStorage.removeItem(\"noFaktur\"))\r\n          .then(() =>\r\n            PrintNota(\r\n              \"Tanggal\",\r\n              data.tanggal,\r\n              \"Lokasi\",\r\n              data.dari + \" - \" + data.ke,\r\n              \"Nomor Bon\",\r\n              data.noBon,\r\n              \"\",\r\n              \"\",\r\n              getUserID(),\r\n              data.tanggal,\r\n              \"\",\r\n              columTable,\r\n              \"PINDAH BARANG\",\r\n              tableRows,\r\n              footer\r\n            )\r\n          )\r\n          .then(() => localStorage.removeItem(\"pindahBarang\"))\r\n          .then(() => this.props.dispatch(reset(\"headPindahBarang\")))\r\n      )\r\n      .then(() => this.props.dispatch(finishSend()))\r\n      .then(() => localStorage.removeItem(\"noFaktur\"))\r\n      .then(() => this.props.dispatch(getUUID()))\r\n      .then(() => this.props.dispatch(getListPindahBarang()))\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          text : err?.response?.data || \"Terjadi Kesalahan Internal, Silahkan Hubungi Admin\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n          .then(() => console.log(err))\r\n          .then(() => this.props.dispatch(finishSend()))\r\n      );\r\n    this.props.dispatch(getListPindahBarang());\r\n  }\r\n  onChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n  resetField() {\r\n    localStorage.removeItem(\"editPindahBarang\");\r\n    localStorage.removeItem(\"pindahBarang\");\r\n    this.props.dispatch(getUUID());\r\n    this.props.dispatch(getListPindahBarang());\r\n    this.setState({\r\n      tanggal: \"\",\r\n      dariIsi: \"\",\r\n      ke: \"\",\r\n      noBon: \"\",\r\n      kategori: \"\",\r\n      kodeJenis: \"\",\r\n      keterangan: \"\",\r\n    });\r\n  }\r\n  dataEditPindahBarang() {\r\n    var data = JSON.parse(localStorage.getItem(\"editPindahBarang\")) || [];\r\n    this.setState({\r\n      dariIsi: data.kodeLokasiAsal,\r\n      ke: data.kodeLokasiTujuan,\r\n      tanggal: data.tanggal,\r\n      keterangan: data.keterangan,\r\n      noBon: data.noBon,\r\n    });\r\n    this.props.dispatch(getListPindahBarang());\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\" style={{ color: \"black\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"card\">\r\n              <HeaderCard title=\"Pindah Barang\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <ModalMasterData\r\n                    content={\r\n                      <Suspense\r\n                        fallback={\r\n                          <Skeleton width={\"100%\"} height={50} count={3} />\r\n                        }\r\n                      >\r\n                        <FormTambahBarang\r\n                          onSubmit={(data) => this.handleSubmit(data)}\r\n                          listBarang={this.props.listBarang}\r\n                          setEdit={this.state.setEdit}\r\n                        />\r\n                      </Suspense>\r\n                    }\r\n                    title=\"Tambah Data Pindah Barang\"\r\n                  />\r\n                  <div className=\"col-lg-12\">\r\n                    <HeadPindahBarang\r\n                      onSubmit={(data) => this.SubmitPindah(data)}\r\n                      onSend={this.props.onSend}\r\n                      tambahModal={this.tambahModal}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptoState, null)(PindahBarang);\r\n"],"sourceRoot":""}