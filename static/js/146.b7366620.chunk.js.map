{"version":3,"sources":["TotalanMenu/TotalanTimbangan.jsx"],"names":["FormModalTimbangan","lazy","ModalMasterData","SearchBar","Search","TotalanTimbangan","props","changeInput","input","e","setState","target","value","state","jenisBarang","listLokasi","mulai","tambahBarang","columns","dataField","text","sort","headerStyle","width","align","headerAlign","this","dispatch","getTableTotalanTimbangan","getStatusTotalan","getLokasi","getUUID","getLokasiPindah","getBruto","getNetto","getPkg","getGross","getRp","getQty","localStorage","getItem","data","undefined","gross","warning","pkg","kodeBarang","console","log","explode","split","simpan","kode_kategori","kode_jenis","kadar_cetak","toString","kadar_modal","kadar_jual","qty","plastik","kulit","parseFloat","bruto","netto","array","JSON","parse","push","setItem","stringify","AxiosMasterPost","noFaktur","Swal","fire","position","icon","timer","showConfirmButton","reset","kode_kelompok","tanggal","lokasiSelected","no_totalan","kode_lokasi","then","id_totalan","status_totalan","berhasil","removeItem","window","location","reload","className","title","name","component","renderFieldSelect","options","type","label","placeholder","renderField","dataLokasiPindah","map","list","nama_lokasi","onClick","batalTotalan","startTotalan","onSubmit","handleSubmit","totalanTimbangan","keyField","search","searchProps","style","margin","top","baseProps","striped","hover","condensed","bordered","headerClasses","pagination","paginationFactory","noDataIndication","content","fallback","height","count","Component","reduxForm","form","enableReinitialize","selector","formValueSelector","connect","lokasi","provinsi","listTotalanTimbangan","sumBruto","perhitungan","sumNetto","sumGross","sumPkg","sumQty","sumRp","onSend","initialValues","getToday"],"mappings":"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","file":"static/js/146.b7366620.chunk.js","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport { connect } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Field, formValueSelector, reduxForm, reset } from \"redux-form\";\r\nimport {\r\n  getBruto,\r\n  getGross,\r\n  getNetto,\r\n  getPkg,\r\n  getQty,\r\n  getRp,\r\n} from \"../actions/LogicAction\";\r\nimport {\r\n  getStatusTotalan,\r\n  getTableTotalanTimbangan,\r\n} from \"../actions/TotalanTimbanganAction\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { renderField, renderFieldSelect } from \"../renderField\";\r\nimport { getLokasi } from \"../actions/lokasiAction\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport { berhasil, warning } from \"../Alert\";\r\nimport { getLokasiPindah } from \"../actions/supplierAction\";\r\nimport { getToday } from \"../GlobalComponent/function\";\r\n\r\nconst FormModalTimbangan = lazy(() =>\r\n  import(\"./Components/FormModalTimbangan\")\r\n);\r\nconst ModalMasterData = lazy(() =>\r\n  import(\"../DataMaster/Component/ModalMasterData\")\r\n);\r\n\r\nconst { SearchBar } = Search;\r\nclass TotalanTimbangan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      jenisBarang: \"RONGSOK\",\r\n      listLokasi: [],\r\n      mulai: false,\r\n      tambahBarang: \"col-lg-12 d-none\",\r\n      columns: [\r\n        {\r\n          dataField: \"kode_jenis\",\r\n          text: \"Kode Jenis\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kadar_cetak\",\r\n          text: \"Cap Kode\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"gross\",\r\n          text: \"Gross (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"pkg\",\r\n          text: \"Pkg (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Berat (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kadar_modal\",\r\n          text: \"Kode Tukar\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Netto (Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          sort: true,\r\n          headerStyle: () => {\r\n            return { width: \"10%\" };\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getTableTotalanTimbangan());\r\n    this.props.dispatch(getStatusTotalan());\r\n    this.props.dispatch(getLokasi());\r\n    this.props.dispatch(getUUID());\r\n    this.props.dispatch(getLokasiPindah());\r\n    this.props.dispatch(getBruto(\"totalanTimbangan\"));\r\n    this.props.dispatch(getNetto(\"totalanTimbangan\"));\r\n    this.props.dispatch(getPkg(\"totalanTimbangan\"));\r\n    this.props.dispatch(getGross(\"totalanTimbangan\"));\r\n    this.props.dispatch(getRp(\"totalanTimbangan\"));\r\n    this.props.dispatch(getQty(\"totalanTimbangan\"));\r\n    if (localStorage.getItem(\"totalanTimbangan\") !== null) {\r\n      this.setState({\r\n        tambahBarang: \"col-lg-12\",\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit(data) {\r\n    if (data.gross === undefined) {\r\n      warning(\"Mohon Isi Gross\");\r\n      return false;\r\n    } else if (data.pkg === undefined) {\r\n      warning(\"Mohon isi Package\");\r\n      return false;\r\n    } else if (data.kodeBarang === \"DEFAULT\" || data.kodeBarang === undefined) {\r\n      warning(\"Mohon Pilih kode Model\");\r\n      return false;\r\n    }\r\n    console.log(data.kodeBarang);\r\n    var isi = data.kodeBarang\r\n      ? data.kodeBarang\r\n      : \"DEFAULT|DEFUALT|DEFAULT|DEFAULT\";\r\n    var explode = isi.split(\"|\");\r\n    var simpan = {\r\n      kode_kategori: explode[4],\r\n      kode_jenis: explode[0],\r\n      kadar_cetak: (explode[1] || 0).toString(),\r\n      kadar_modal: explode[3],\r\n      kadar_jual: explode[2],\r\n      qty: 1,\r\n      plastik: 0,\r\n      kulit: 0,\r\n      pkg: parseFloat(data.pkg),\r\n      gross: parseFloat(data.gross),\r\n      bruto: parseFloat(data.gross) - parseFloat(data.pkg),\r\n      netto: parseFloat(data.netto),\r\n    };\r\n    var array = JSON.parse(localStorage.getItem(\"totalanTimbangan\")) || [];\r\n    array.push(simpan);\r\n    localStorage.setItem(\"totalanTimbangan\", JSON.stringify(array));\r\n    AxiosMasterPost(\r\n      `totalan-barang/post-totalan-barang/${this.props.noFaktur}`,\r\n      simpan\r\n    );\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      icon: \"success\",\r\n      text: \"Transaksi Berhasil\",\r\n      timer: 1500,\r\n      showConfirmButton: false,\r\n    });\r\n    this.props.dispatch(reset(\"FormModalTimbangan\"));\r\n    this.props.dispatch(getTableTotalanTimbangan());\r\n    this.props.dispatch(getStatusTotalan());\r\n  }\r\n\r\n  changeInput = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n  startTotalan() {\r\n    if (this.props.kode_kelompok === undefined) {\r\n      warning(\"Mohon isi Kode Kelompok\");\r\n      return false;\r\n    } else if (this.props.tanggal === undefined) {\r\n      warning(\"Mohon Isi Tanggal\");\r\n      return false;\r\n    } else if (this.props.lokasiSelected === undefined) {\r\n      warning(\"Mohon isi Lokasi\");\r\n      return false;\r\n    }\r\n    this.setState({\r\n      mulai: true,\r\n    });\r\n    let data = {\r\n      no_totalan: this.props.noFaktur,\r\n      kode_kelompok: this.props.kode_kelompok,\r\n      tanggal: this.props.tanggal,\r\n      kode_lokasi: this.props.lokasiSelected,\r\n    };\r\n    AxiosMasterPost(\"totalan-barang/start-proses-totalan\", data).then(() =>\r\n      this.setState({\r\n        mulai: true,\r\n      })\r\n    );\r\n  }\r\n  batalTotalan() {\r\n    let id_totalan = \"\";\r\n    if (this.props.status_totalan.no_totalan !== undefined) {\r\n      id_totalan = this.props.status_totalan.no_totalan;\r\n    } else {\r\n      warning(\"Anda Belum Memulai Totalan\");\r\n      return false;\r\n    }\r\n\r\n    AxiosMasterPost(`totalan-barang/close-totalan/${id_totalan}`)\r\n      .then(() => berhasil(\"Batal Totalan Berhasil\"))\r\n      .then(() => localStorage.removeItem(\"noFaktur\"))\r\n      .then(() => localStorage.removeItem(\"totalanTimbangan\"))\r\n      .then(() => this.props.dispatch(getUUID()))\r\n      .then(() => window.location.reload());\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"card\">\r\n          <HeaderCard title=\"Totalan Timbangan\" />\r\n          <div className=\"card-body\">\r\n            <h3>Status Totalan : </h3>\r\n            <button className=\"btn btn-success mb-3\">\r\n              {this.props.status_totalan.no_totalan === undefined\r\n                ? \"TOTALAN KOSONG, ANDA BISA LAKUKAN TOTALAN SEKARANG\"\r\n                : \"TOTALAN SEDANG BERJALAN\"}\r\n            </button>\r\n            <br />\r\n            <div className=\"row\">\r\n              <div\r\n                className={\r\n                  this.state.mulai\r\n                    ? \"col-lg-12 d-none\"\r\n                    : this.props.status_totalan.no_totalan === undefined\r\n                    ? \"col-lg-12\"\r\n                    : \"col-lg-12 d-none\"\r\n                }\r\n              >\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"kode_kelompok\"\r\n                      component={renderFieldSelect}\r\n                      options={[\r\n                        {\r\n                          value: \"PERHIASAN\",\r\n                          name: \"PERHIASAN\",\r\n                        },\r\n                        {\r\n                          value: \"CIOK\",\r\n                          name: \"CIOK\",\r\n                        },\r\n                        {\r\n                          value: \"RONGSOK\",\r\n                          name: \"RONGSOK\",\r\n                        },\r\n                      ]}\r\n                      type=\"text\"\r\n                      label=\"Kode Kelompok\"\r\n                      placeholder=\"Masukan \"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"tanggal\"\r\n                      component={renderField}\r\n                      type=\"date\"\r\n                      label=\"Tanggal\"\r\n                      placeholder=\"Masukan Tanggal\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"lokasi\"\r\n                      component={renderFieldSelect}\r\n                      options={this.props.dataLokasiPindah.map((list) => {\r\n                        let data = {\r\n                          value: list.kode_lokasi,\r\n                          name: list.nama_lokasi,\r\n                        };\r\n                        return data;\r\n                      })}\r\n                      type=\"text\"\r\n                      label=\"Lokasi\"\r\n                      placeholder=\"Masukan Lokasi\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-12 mt-3 mb-3\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-6\">\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => this.batalTotalan()}\r\n                    >\r\n                      Batal Totalan\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"col-lg-6\">\r\n                    <div\r\n                      className={\r\n                        this.state.mulai\r\n                          ? \"text-right d-none\"\r\n                          : this.props.status_totalan.no_totalan === undefined\r\n                          ? \"text-right\"\r\n                          : \"text-right d-none\"\r\n                      }\r\n                    >\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => this.startTotalan()}\r\n                      >\r\n                        Mulai Totalan\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className={\r\n                  this.state.mulai\r\n                    ? \"col-lg-12\"\r\n                    : this.props.status_totalan.no_totalan === undefined\r\n                    ? \"col-lg-12 d-none\"\r\n                    : \"col-lg-12\"\r\n                }\r\n              >\r\n                <FormModalTimbangan\r\n                  noFaktur={this.props.noFaktur}\r\n                  jenisBarang={this.props.kode_kelompok}\r\n                  onSubmit={(data) => this.handleSubmit(data)}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-12 mt-2\">\r\n                {this.props.totalanTimbangan ? (\r\n                  <ToolkitProvider\r\n                    keyField=\"kodeKelompok\"\r\n                    data={this.props.totalanTimbangan}\r\n                    columns={this.state.columns}\r\n                    search\r\n                  >\r\n                    {(props) => (\r\n                      <div className=\"form-group\">\r\n                        <div className=\"text-right mt-5 mb-3\">\r\n                          <SearchBar\r\n                            {...props.searchProps}\r\n                            className=\"form-control\"\r\n                            placeholder=\"Tuliskan Kode / Nama\"\r\n                            style={{ margin: 0, top: \"50%\" }}\r\n                          />\r\n                        </div>\r\n                        <BootstrapTable\r\n                          {...props.baseProps}\r\n                          striped\r\n                          hover\r\n                          condensed\r\n                          bordered={true}\r\n                          headerClasses=\"header-table\"\r\n                          pagination={paginationFactory()}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </ToolkitProvider>\r\n                ) : (\r\n                  <BootstrapTable\r\n                    keyField=\"kodeKelompok\"\r\n                    data={[]}\r\n                    columns={this.state.columns}\r\n                    bordered={true}\r\n                    headerClasses=\"header-table\"\r\n                    noDataIndication=\"Tidak Ada Data\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ModalMasterData\r\n          content={\r\n            <Suspense\r\n              fallback={<Skeleton width={\"100%\"} height={50} count={5} />}\r\n            >\r\n              <FormModalTimbangan\r\n                noFaktur={this.props.noFaktur}\r\n                jenisBarang={this.props.kode_kelompok}\r\n                onSubmit={(data) => this.handleSubmit(data)}\r\n              />\r\n            </Suspense>\r\n          }\r\n          title=\"\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTotalanTimbangan = reduxForm({\r\n  form: \"TotalanTimbangan\",\r\n  enableReinitialize: true,\r\n})(TotalanTimbangan);\r\nconst selector = formValueSelector(\"TotalanTimbangan\");\r\nexport default connect((state) => {\r\n  const { tanggal, kode_kelompok, lokasi } = selector(\r\n    state,\r\n    \"tanggal\",\r\n    \"kode_kelompok\",\r\n    \"lokasi\"\r\n  );\r\n  return {\r\n    totalanTimbangan: state.provinsi.totalanTimbangan,\r\n    noFaktur: state.provinsi.noFaktur,\r\n    listTotalanTimbangan: state.provinsi.listTotalanTimbangan,\r\n    sumBruto: state.perhitungan.sumBruto,\r\n    sumNetto: state.perhitungan.sumNetto,\r\n    sumGross: state.perhitungan.sumGross,\r\n    sumPkg: state.perhitungan.sumPkg,\r\n    sumQty: state.perhitungan.sumQty,\r\n    sumRp: state.perhitungan.sumRp,\r\n    onSend: state.provinsi.onSend,\r\n    status_totalan: state.provinsi.status_totalan,\r\n    lokasi: state.provinsi.lokasi,\r\n    tanggal: tanggal,\r\n    kode_kelompok: kode_kelompok,\r\n    lokasiSelected: lokasi,\r\n    dataLokasiPindah: state.provinsi.dataLokasiPindah,\r\n    initialValues: {\r\n      kode_kelompok: state.provinsi.status_totalan?.kode_kelompok,\r\n      tanggal: state.provinsi.status_totalan?.tanggal || getToday(),\r\n    },\r\n  };\r\n})(TotalanTimbangan);\r\n"],"sourceRoot":""}