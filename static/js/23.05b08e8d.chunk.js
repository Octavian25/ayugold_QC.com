(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[23],{1218:function(t,a,e){"use strict";e.r(a);var n=e(59),o=e(15),r=e(16),l=e(18),i=e(17),s=e(0),c=e.n(s),p=e(13),m=e(7),g=e(88),u=e(12),h=e.n(u),d=e(54),b=e(138),f=e(25),y=e(37),N=e.n(y),k=e(20),_=e(48),S=e(5),v=e(183),E=e.n(v),O=e(235),T=e(341),B=e(342),j=e(345),R=e(234),I=e(34),F=e(21),C=e(645),P=e(38),G=e(113),J=Object(R.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),A=function(t){var a=t.input,e=t.label,n=t.type,o=t.limit,r=t.readOnly,l=t.meta,i=l.touched,s=l.error,p=l.warning;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"",className:"text-black"},e),c.a.createElement("input",Object.assign({},a,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:o,readOnly:r})),i&&(s&&c.a.createElement("p",{className:"invalid-feedback"},s)||p&&c.a.createElement("p",null,p)))},w=function(t){Object(l.a)(e,t);var a=Object(i.a)(e);function e(t){var n;return Object(o.a)(this,e),(n=a.call(this,t)).state={listBank:[]},n}return Object(r.a)(e,[{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("GiroNetto",this.props.GiroNetto)}},{key:"getlocal",value:function(){var t="",a="",e="",n="",o="",r="",l="",i="",s=JSON.parse(localStorage.getItem("alatBayarGiro"))?JSON.parse(localStorage.getItem("alatBayarGiro")):"kosong";"kosong"===s?(t="",a="",e="",n=0,o=0,r=0,l="",i=""):(t=s[0].acc_to,a=s[0].bank_to,e=s[0].bank_giro,n=s[0].giro_netto,o=s[0].giro_rp,r=s[0].harga_emas,l=s[0].no_giro,i=s[0].tanggal_giro),this.props.change("giro",o),this.props.change("GiroNetto",n),this.props.change("tujuan","".concat(t,"||").concat(a)),this.props.change("bank_giro",e),this.props.change("harga",r),this.props.change("no_giro",l),this.props.change("tanggal",i)}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(G.d)()),this.getlocal()}},{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-6 mt-3"},c.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},c.a.createElement("div",{className:"card mb-0 bg-dark"},c.a.createElement("div",{className:"card-header",id:"headingOne"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8 col-md-8"},c.a.createElement("h5",{className:"m-0"},c.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapseGiro","aria-expanded":"true","aria-controls":"collapseTransfer"},"Giro",c.a.createElement("span",{className:"float-right"},c.a.createElement("i",{className:"mdi mdi-chevron-down accordion-arrow"}))))),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement("label",{htmlFor:"",style:{color:"white"}},"Netto"),c.a.createElement(T.a,{name:"GiroNetto",type:"number",component:"input",className:"form-control",readOnly:!0})))),c.a.createElement("div",{id:"collapseGiro",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},c.a.createElement("div",{className:"card-body bg-white"},c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement("label",{htmlFor:""},"giro"),c.a.createElement(T.a,Object.assign({name:"giro",component:"input",type:"tel",className:"form-control",onBlur:this.onChange()},J))),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement("label",{htmlFor:""},"Harga "),c.a.createElement("div",{className:"form-gorup"},c.a.createElement(T.a,Object.assign({name:"harga",component:"input",type:"tel",className:"form-control",onBlur:this.onChange()},J)))),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(T.a,{name:"GiroNetto",label:"Netto",type:"number",component:A,readOnly:!0})),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement(T.a,{name:"no_giro",label:"No Giro",type:"text",component:A})),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement(T.a,{name:"bank_giro",label:"Bank Giro",type:"text",component:A})),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement("label",{htmlFor:""},"A/C Tujuan"),c.a.createElement(T.a,{name:"tujuan",className:"form-control",component:"select"},c.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"silahkan pilih"),this.props.rekening.map((function(t){return c.a.createElement("option",{value:"".concat(t.no_rekening,"||").concat(t.nama_bank),key:t.no_rekening},t.atas_nama)})))),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement(T.a,{name:"tanggal",label:"Tanggal",type:"date",component:A})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan"))))))))))}}]),e}(s.Component);w=Object(B.a)({form:"AccordGiro",enableReinitialize:!0})(w);var x=Object(j.a)("AccordGiro"),D=Object(p.b)((function(t){var a=x(t,"harga","giro"),e=a.harga,n=a.giro;return{GiroNetto:(parseFloat(n)/parseFloat(e)).toFixed(3),rekening:t.provinsi.rekening}}))(w),H=e(698),M=e(6),U=e(699),z=e(700),K=Object(s.lazy)((function(){return Promise.resolve().then(e.bind(null,101))})),L=Object(s.lazy)((function(){return e.e(1).then(e.bind(null,738))})),V=Object(s.lazy)((function(){return e.e(2).then(e.bind(null,739))})),Y=Object(s.lazy)((function(){return e.e(3).then(e.bind(null,745))})),q=Object(s.lazy)((function(){return e.e(7).then(e.bind(null,740))})),W=Object(s.lazy)((function(){return e.e(5).then(e.bind(null,741))})),Q=Object(s.lazy)((function(){return e.e(6).then(e.bind(null,742))})),X=Object(s.lazy)((function(){return e.e(4).then(e.bind(null,683))})),Z=Object(s.lazy)((function(){return e.e(8).then(e.bind(null,684))})),$=Object(R.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),tt=function(t){Object(l.a)(e,t);var a=Object(i.a)(e);function e(t){var r;Object(o.a)(this,e),(r=a.call(this,t)).setTotal=function(t){return function(a){localStorage.setItem([t],a.target.value),r.setTotalBayar()}},r.changeInput=function(t){return function(a){r.setState(Object(n.a)({},t,a.target.value))}};var l=new Date,i="".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate());return r.state={listSupplier:[],tanggal:i,bonBayar:"",detail:"",tanggalInvoice:"",noPembayaran:"",supplier:"",hutangnya:[]},r}return Object(r.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(I.j)()),this.props.dispatch(Object(g.g)()),this.props.dispatch(Object(g.j)()),this.props.change("tanggal",P.b),this.props.change("totalBayar",this.props.totalBayar),this.props.change("totalBayarCash",this.props.totalBayarRp),this.setTotalBayar()}},{key:"handleSubmit",value:function(t){var a=this,e={kode_jenis:t.kodeBarang.split("|")[0],netto:t.netto,bruto:t.bruto,kadar_transaksi:t.kadarTransaksi},n={jenis:"CIOK",gross:t.bruto,harga:"-",kadar:t.kadarTransaksi,netto:parseFloat(t.netto).toFixed(3),pkg:"",gwpkg:""};this.props.dispatch(Object(k.t)());var o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o));var r=JSON.parse(localStorage.getItem("ciokTemp"))||[];r.push(e),localStorage.setItem("ciokTemp",JSON.stringify(r));var l=JSON.parse(localStorage.getItem("alatBayarCiok"))||[];l.push(e),localStorage.setItem("alatBayarCiok",JSON.stringify(l)),this.props.dispatch(Object(g.g)()),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return a.props.dispatch(Object(k.k)())}))}},{key:"handleSubmit2",value:function(t){var a=this,e={kode_jenis:t.kodeBarang.split("|")[0],netto:t.netto,bruto:t.bruto,kadar_transaksi:t.kadarTransaksi},n={jenis:"RONGSOK",gross:t.bruto,harga:"-",kadar:t.kadarTransaksi,netto:parseFloat(t.netto).toFixed(3),pkg:"",gwpkg:""};this.props.dispatch(Object(k.t)());var o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o));var r=JSON.parse(localStorage.getItem("rongsokTemp"))||[];r.push(e),localStorage.setItem("rongsokTemp",JSON.stringify(r));var l=JSON.parse(localStorage.getItem("alatBayarRosok"))||[];l.push(e),localStorage.setItem("alatBayarRosok",JSON.stringify(l)),this.props.dispatch(Object(g.j)()),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return a.props.dispatch(Object(k.k)())}))}},{key:"setCiok",value:function(){this.props.change("ciokBrutto",this.props.totalCiok),this.props.change("ciokNetto",this.props.totalCiok),this.setTotalBayar()}},{key:"setRongsok",value:function(){this.props.change("rongsokBruto",this.props.totalRongsok),this.props.change("rongsokNetto",this.props.totalRongsok),this.props.change("totalBayar",this.props.totalBayar)}},{key:"handleSubmitCash",value:function(t){var a=[],e={cash_rp:t.cash,harga_emas:t.harga,cash_netto:t.cashNetto},n={jenis:"TUNAI",gross:t.cash,harga:t.harga,kadar:"",netto:parseFloat(t.cashNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalTunaiRp",t.cashNetto),localStorage.setItem("alatBayarTunai",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitCashRp",value:function(t){var a={cash_rp:t.cash,harga_emas:t.harga,cash_netto:t.cashNetto},e=JSON.parse(localStorage.getItem("cashTempRp"))||[];e.push(a),localStorage.setItem("cashTempRp",JSON.stringify(e));var n=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))||[];n.push(a),localStorage.setItem("alatBayarTunaiRp",JSON.stringify(n)),this.props.dispatch(Object(I.k)()),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"handleSubmitTitipRp",value:function(t){var a=[],e={titip_rp:t.titip,harga_emas:t.harga||0,titip_netto:t.titipNetto},n={jenis:"TITIP",gross:t.titip,harga:t.harga,kadar:"",netto:Object(M.m)(parseFloat(t.titipNetto),3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalTitipRp",t.titipNetto),localStorage.setItem("alatBayarTitipRp",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitTitip",value:function(t){var a=[],e={titip_rp:t.titip,harga_emas:t.harga||0,titip_netto:t.titipNetto},n={jenis:"TITIP",gross:t.titip,harga:t.harga,kadar:"",netto:Object(M.m)(parseFloat(t.titipNetto),3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalTitipRp",t.titipNetto),localStorage.setItem("alatBayarTitipRp",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitTransfer",value:function(t){var a=[],e={harga_emas:t.harga,transfer_netto:t.transferNetto,transfer_rp:t.transfer,acc_from:t.asal,acc_to:t.tujuan,tanggal_transfer:t.tanggal},n={jenis:"TRANSFER",gross:t.transfer,harga:t.harga,kadar:"",netto:parseFloat(t.transferNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalTrfRp",t.transferNetto),localStorage.setItem("alatBayarTrf",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitTransferRp",value:function(t){var a={harga_emas:t.harga,transfer_netto:t.transferNetto,transfer_rp:t.transfer,acc_from:t.asal,acc_to:t.tujuan,tanggal_transfer:t.tanggal},e=JSON.parse(localStorage.getItem("transferTempRp"))||[];e.push(a),localStorage.setItem("transferTempRp",JSON.stringify(e));var n=JSON.parse(localStorage.getItem("alatBayarTrfRp"))||[];n.push(a),localStorage.setItem("alatBayarTrfRp",JSON.stringify(n)),this.props.dispatch(Object(I.l)()),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"handleSubmitGiro",value:function(t){var a=[],e={harga_emas:t.harga,giro_netto:t.GiroNetto,giro_rp:t.giro,tanggal_giro:t.tanggal,no_giro:t.no_giro,bank_giro:t.bank_giro,acc_to:t.tujuan.split("||")[0],bank_to:t.tujuan.split("||")[1]},n={jenis:"GIRO",gross:t.Giro,harga:t.harga,kadar:"",netto:parseFloat(t.GiroNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalGiro",t.GiroNetto),localStorage.setItem("alatBayarGiro",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitGiroRp",value:function(t){var a=[],e={harga_emas:t.harga,giro_netto:t.GiroNetto,giro_rp:t.giro,tanggal_giro:t.tanggal,no_giro:t.no_giro,bank_giro:t.bank_giro,acc_to:t.tujuan.split("||")[0],bank_to:t.tujuan.split("||")[1]},n={jenis:"GIRO",gross:t.Giro,harga:t.harga,kadar:"",netto:parseFloat(t.GiroNetto).toFixed(3),pkg:"",gwpkg:""},o=JSON.parse(localStorage.getItem("PrintPembayaranSupplier"))||[];o.push(n),localStorage.setItem("PrintPembayaranSupplier",JSON.stringify(o)),a.push(e),localStorage.setItem("totalGiroRp",t.GiroNetto),localStorage.setItem("alatBayarGiroRp",JSON.stringify(a)),this.setTotalBayar(),h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan",showConfirmButton:!1,timer:1500})}},{key:"setTotalBayar",value:function(){var t=localStorage.getItem("totalTunaiRp")||0,a=localStorage.getItem("totalTrfRp")||0,e=localStorage.getItem("totalCiok")||0,n=localStorage.getItem("totalRongsok")||0,o=localStorage.getItem("totalGiro")||0,r=localStorage.getItem("totalTitipRp")||0,l=this.props.tambahan||0;this.props.change("totalCash",t),this.props.change("totalTransfer",a),this.props.change("totalCiok",e),this.props.change("totalRongsok",n),this.props.change("totalGiro",o),this.props.change("totalTitip",r),this.props.change("totalBayar",parseFloat(t)+parseFloat(a)+parseFloat(e)+parseFloat(n)+parseFloat(o)+parseFloat(r)+l),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"getHutang",value:function(){var t=Object(O.a)(E.a.mark((function t(a){var e=this;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({supplier:a}),console.log(a),Object(S.b)("trx-customer/get/piutang-titipan-customer/".concat(this.props.tanggal,"&").concat(a)).then((function(t){e.setState({hutangnya:t.data})})).then((function(){var t=e.state.hutangnya.map((function(t){return t.sisa_piutang_netto})).reduce((function(t,a){return t+a}),0),a=e.state.hutangnya.map((function(t){return t.sisa_piutang_rp})).reduce((function(t,a){return t+a}),0),n=e.state.hutangnya.map((function(t){return{no_faktur:t.no_ref,keterangan:t.keterangan,putus_titip:0,harga_emas:9e5,putus_titip_netto:0}}));localStorage.setItem("listHutang",JSON.stringify(n)),e.props.change("totalHutangRP",a),e.props.change("totalHutangGr",Object(M.m)(t,3))}));case 3:case"end":return t.stop()}}),t,this)})));return function(a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"col-lg-12",style:{color:"black"}},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},"BARANG"===this.props.jenisTransaksi?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(Y,{onSubmit:function(a){return t.handleSubmitCash(a)}}),c.a.createElement(q,{onSubmit:function(a){return t.handleSubmitTransfer(a)}})),c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(W,{totalCiok:this.props.totalCiok,totalBrutoCiok:this.props.totalBrutoCiok})),c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(Q,{totalRongsok:this.props.totalRongsok,totalBrutoRongsok:this.props.totalBrutoRongsok})),c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(D,{onSubmit:function(a){return t.handleSubmitGiro(a)}})),c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(U.a,{onSubmit:function(a){return t.handleSubmitTitip(a)}}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50})},c.a.createElement(X,{onSubmit:function(a){return t.handleSubmitCashRp(a)}}),c.a.createElement(Z,{onSubmit:function(a){return t.handleSubmitTransferRp(a)}}),c.a.createElement(H.a,{onSubmit:function(a){return t.handleSubmitGiroRp(a)}}),c.a.createElement(z.a,{onSubmit:function(a){return t.handleSubmitTitipRp(a)}}))))),c.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(T.a,{name:"tanggal",label:"Tanggal",type:"date",component:F.a,defaultValue:this.state.tanggal,onChange:this.changeInput("tanggalInvoice")})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(T.a,{name:"noBon",label:"Bon Bayar",type:"txt",component:F.a,onChange:this.changeInput("noPembayaran")})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(T.a,{name:"detail",label:"Detail",type:"text",component:F.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"}),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement(T.a,Object.assign({name:"totalHutangRP",label:"Total Piutang RP",type:"telp",component:F.a,readOnly:!0},$))),c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement(T.a,{name:"totalHutangGr",label:"Total Piutang Gr",type:"text",component:F.a,readOnly:!0})),"BARANG"===this.props.jenisTransaksi?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"discount",label:"Discount",type:"number",component:F.a,defaultValue:0,onChange:this.setTotal("discount"),onBlur:this.setTotal("discount")}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"bonus",label:"Bonus",type:"number",component:F.a,defaultValue:0,onChange:this.setTotal("bonus"),onBlur:this.setTotal("bonus")}))),c.a.createElement("div",{className:"col-lg-4 col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"denda",label:"Denda",type:"number",component:F.a,defaultValue:0,onChange:this.setTotal("denda"),onBlur:this.setTotal("denda")}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalCash",label:"Denda",type:"number",component:F.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalTitip",label:"Denda",type:"number",component:F.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalTransfer",label:"Denda",type:"number",component:F.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalCiok",label:"Denda",type:"number",component:F.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalRongsok",label:"Denda",type:"number",component:F.a}))),c.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalGiro",label:"Denda",type:"number",component:F.a}))))))):null,c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"BARANG"===this.props.jenisTransaksi?"col-lg-6 col-md-6":"col-lg-6 col-md-6 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement(T.a,{name:"totalBayar",label:"Total Bayar",type:"number",component:F.a,normalize:function(t){return Object(M.m)(t,3)}}))),c.a.createElement("div",{className:"BARANG"!==this.props.jenisTransaksi?"col-lg-6 col-md-6":"col-lg-6 col-md-6 d-none"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:""},"Total Bayar Rp"),c.a.createElement(T.a,Object.assign({name:"totalBayarCash",label:"Total Rp",type:"telp",component:"input",className:"form-control",onBlur:this.props.change("totalBayarCash",this.props.totalBayarRp)},$))))))),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-left"})),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",c.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))),c.a.createElement(K,{content:"CIOK"===this.props.tipeBayarModal?c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50,count:5})},c.a.createElement(L,{onSubmit:function(a){return t.handleSubmit(a)},from:"CK",data:this.props.tampungCiok,onSend:this.props.onSend})):c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:50,count:5})},c.a.createElement(V,{onSubmit:function(a){return t.handleSubmit2(a)},from:"RSK",data:this.props.tampungRongsok,onSend:this.props.onSend})),title:"CIOK"===this.props.tipeBayarModal?"Tambah Data Ciok":"Tambah Data Rongsok"}))}}]),e}(s.Component);tt=Object(B.a)({form:"PembayaranCustomerHead",enableReinitialize:!0,validate:C.a})(tt);var at=Object(j.a)("PembayaranCustomerHead"),et=Object(p.b)((function(t){var a=at(t,"harga","cash","transfer","discount","bonus","denda","totalCash","totalTitip","totalTransfer","totalCiok","totalRongsok","tanggal"),e=a.harga,n=a.cash,o=a.transfer,r=a.discount,l=a.bonus,i=a.denda,s=a.totalCash,c=a.totalTitip,p=a.totalTransfer,m=a.totalCiok,g=a.totalRongsok,u=a.tanggal,h=JSON.parse(localStorage.getItem("alatBayarTrfRp"))?JSON.parse(localStorage.getItem("alatBayarTrfRp")):0,d=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))?JSON.parse(localStorage.getItem("alatBayarTunaiRp")):0,b=JSON.parse(localStorage.getItem("alatBayarTitipRp"))?JSON.parse(localStorage.getItem("alatBayarTitipRp")):0,f=JSON.parse(localStorage.getItem("alatBayarGiroRp"))?JSON.parse(localStorage.getItem("alatBayarGiroRp")):0,y=void 0===r?0:r,N=void 0===i?0:i,k=parseFloat(void 0===l?0:l)+parseFloat(N)-parseFloat(y),_=void 0===d[0]?0:d[0].cash_netto,S=void 0===b[0]?0:b[0].titip_netto,v=void 0===h[0]?0:h[0].transfer_netto,E=void 0===f[0]?0:f[0].giro_netto;return{tanggal:u,customer:t.provinsi.customer,tipeBayarModal:t.provinsi.tipeBayarModal,onSend:t.provinsi.onSend,cashNetto:(parseFloat(n)/parseFloat(e)).toFixed(3),transferNetto:(parseFloat(o)/parseFloat(e)).toFixed(3),totalBayar:(parseFloat(s)+parseFloat(p)+parseFloat(m)+parseFloat(g)+parseFloat(c)).toFixed(3),tambahan:k,totalBayarRp:parseFloat(_)+parseFloat(v)+parseFloat(E)+parseFloat(S),dataHutangSupplier:t.provinsi.dataHutangSupplier,initialValues:{totalHutangGr:Object(M.m)(t.provinsi.total_netto_supplier,3),totalHutangRP:t.provinsi.total_rp_supplier,tanggal:Object(P.b)()}}}))(tt),nt=e(49),ot=e(100),rt=e.n(ot),lt=e(249),it=function(t){Object(l.a)(e,t);var a=Object(i.a)(e);function e(t){var r;Object(o.a)(this,e),(r=a.call(this,t)).inputChange=function(t){return function(a){r.setState(Object(n.a)({},t,a.target.value))}};var l=new Date,i="".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate());return r.state={listSupplier:[],tanggal:i,bonBayar:"",detail:"",tipeTransaksi:"BARANG",formPembayaran:"row d-none",pilihBon:"col-lg-12",total_netto:0,total_rp:0,listBon:[],columns:[{dataField:"no_bon",text:"Nomor Bon"},{dataField:"sisa_piutang_netto",text:"Piutang Netto",align:"right",headerAlign:"right",formatter:function(t){return Object(M.m)(t,3)}},{dataField:"sisa_piutang_rp",text:"Piutang Rupiah",align:"right",headerAlign:"right",formatter:function(t){return Object(M.p)(t)}},{dataField:"titip_gram",text:"Titip Gram",align:"right",headerAlign:"right"},{dataField:"titip_rp",text:"Titip Rupiah",align:"right",headerAlign:"right"}],noBon:""},r}return Object(r.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(g.g)()),this.props.dispatch(Object(g.j)()),this.props.dispatch(Object(d.b)()),this.props.dispatch(Object(I.j)()),localStorage.removeItem("FakturTerpilih"),this.setState({noBon:"AS/TTP-"+Object(M.q)()})}},{key:"componentWillUnmount",value:function(){Object(M.u)(["PrintPembayaranSupplier","totalTunaiRp","alatBayarTunai","totalTrfRp","alatBayarTrf","ciokTemp","alatBayarCiok","totalCiok","totalBrutoCiok","rongsokTemp","alatBayarRosok","totalRongsok","totalBrutoRongsok","listHutang","discount","bonus","denda","cashTempRp","alatBayarTunaiRp","transferTempRp","alatBayarTrfRp","noFaktur","alatBayarGiroRp","totalGiroRp","alatBayarGiro","totalGiro","FakturTerpilih","total_netto","total_rp"])}},{key:"handleSubmit",value:function(t){var a,e=this;if(void 0===t.tanggal)return Object(f.e)("Mohon isi Tanggal"),!1;if(null===localStorage.getItem("alatBayarCiok")&&null===localStorage.getItem("alatBayarRosok")&&null===localStorage.getItem("alatBayarTrf")&&null===localStorage.getItem("alatBayarTunai")&&null===localStorage.getItem("alatBayarTunaiRp")&&null===localStorage.getItem("alatBayarTrfRp")&&null===localStorage.getItem("alatBayarGiro")&&null===localStorage.getItem("alatBayarGiroRp"))return Object(f.e)("Mohon Masukan Alat Pembayaran Paling Tidak 1 Jenis"),!1;var n={kode_jenis:"-",bruto:0,kadar_transaksi:0,netto:0},o={cash_rp:0,harga_emas:0,cash_netto:0},r={titip_rp:0,harga_emas:0,titip_netto:0},l={transfer_rp:0,harga_emas:0,transfer_netto:0,tanggal_transfer:"2021-01-01",acc_from:"-",acc_to:"-"},i={giro_rp:0,harga_emas:0,giro_netto:0,tanggal_giro:"-",no_giro:"-",bank_giro:"-",acc_to:"-",bank_to:"-"},s=JSON.parse(localStorage.getItem("alatBayarCiok"))||[n],c=JSON.parse(localStorage.getItem("alatBayarRosok"))||[n],p=JSON.parse(localStorage.getItem("alatBayarTrf"))||[l],m=JSON.parse(localStorage.getItem("alatBayarTrfRp"))||[l],g=JSON.parse(localStorage.getItem("alatBayarTunai"))||[o],u=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))||[o],y=JSON.parse(localStorage.getItem("alatBayarTitip"))||[r],N=JSON.parse(localStorage.getItem("alatBayarTitipRp"))||[r],_=JSON.parse(localStorage.getItem("alatBayarGiro"))||[i],v=JSON.parse(localStorage.getItem("alatBayarGiroRp"))||[i],E={kode_customer:this.props.customerSelected.split("-")[0],no_bon:this.state.noBon,no_bayar:this.props.noFaktur,tanggal:t.tanggal,type_bon:"RUPIAH"===this.state.tipeTransaksi?"BON RP":"BON GR",total_putus_titip:"RUPIAH"===this.state.tipeTransaksi?N.map((function(t){return t.titip_netto})).reduce((function(t,a){return t+a}),0):localStorage.getItem("totalTitipRp")||0,total_denda:t.denda||0,jumlah_piutang:"RUPIAH"===this.state.tipeTransaksi?t.totalHutangRP:t.totalHutangGr.replace(",",""),total_piutang:"RUPIAH"===this.state.tipeTransaksi?t.totalHutangRP:t.totalHutangGr.replace(",",""),detail_ciok:s,bayar_ciok:localStorage.getItem("totalCiok")||0,detail_rongsok:c,bayar_rongsok:localStorage.getItem("totalRongsok")||0,detail_cash:"RUPIAH"===this.state.tipeTransaksi?u:g,bayar_cash:"RUPIAH"===this.state.tipeTransaksi?u.map((function(t){return t.cash_netto})).reduce((function(t,a){return t+a}),0):localStorage.getItem("totalTunaiRp")||0,detail_titip:"RUPIAH"===this.state.tipeTransaksi?N:y,bayar_titip:"RUPIAH"===this.state.tipeTransaksi?N.map((function(t){return t.titip_netto})).reduce((function(t,a){return t+a}),0):localStorage.getItem("totalTitipRp")||0,detail_trf:"RUPIAH"===this.state.tipeTransaksi?m:p,bayar_trf:"RUPIAH"===this.state.tipeTransaksi?m.map((function(t){return t.transfer_netto})).reduce((function(t,a){return t+a}),0):localStorage.getItem("totalTrfRp")||0,detail_giro:"RUPIAH"===this.state.tipeTransaksi?v:_,bayar_giro:"RUPIAH"===this.state.tipeTransaksi?v.map((function(t){return t.giro_netto})).reduce((function(t,a){return t+a}),0):localStorage.getItem("totalGiro")||0,detail_faktur:JSON.parse(localStorage.getItem("FakturTerpilih"))};localStorage.setItem("notaPembayaranSupplier",JSON.stringify(E)),this.props.dispatch(Object(k.t)());var O=[];O="RUPIAH"===this.state.tipeTransaksi?[["Tunai","Tunai",{content:Object(M.p)(null!==u?u[0].cash_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==u?u[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==u?u[0].cash_netto:0),styles:{halign:"right"}}],["Transfer","Transfer",{content:Object(M.p)(null!==m?m[0].transfer_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==m?m[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==m?m[0].transfer_netto:0),styles:{halign:"right"}}],["Giro","Giro",{content:Object(M.p)(null!==v?v[0].giro_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==v?v[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==v?v[0].giro_netto:0),styles:{halign:"right"}}],["Titip","Titip",{content:Object(M.p)(null!==N?N[0].titip_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==N?N[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==N?N[0].titip_netto:0),styles:{halign:"right"}}]]:[["Tunai","Tunai",{content:Object(M.p)(null!==g?g[0].cash_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==g?g[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==g?g[0].cash_netto:0),styles:{halign:"right"}}],["Transfer","Transfer",{content:Object(M.p)(null!==p?p[0].transfer_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==p?p[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==p?p[0].transfer_netto:0),styles:{halign:"right"}}],["Giro","Giro",{content:Object(M.p)(null!==_?_[0].giro_rp:0),styles:{halign:"right"}},{content:Object(M.p)(null!==_?_[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.p)(null!==_?_[0].giro_netto:0),styles:{halign:"right"}}],["Titip","Titip",{content:Object(M.n)(null!==y?y[0].titip_rp:0),styles:{halign:"right"}},{content:Object(M.n)(null!==y?y[0].harga_emas:0),styles:{halign:"right"}},"","","",{content:Object(M.n)(null!==y?y[0].titip_netto:0),styles:{halign:"right"}}]],(JSON.parse(localStorage.getItem("ciokTemp"))||[]).forEach((function(t,a){var e=["Ciok",t.kode_jenis,{content:Object(M.m)(t.bruto),styles:{halign:"right"}},"",{content:t.kadar_transaksi,styles:{halign:"right"}},"","",{content:Object(M.m)(t.netto,3),styles:{halign:"right"}}];O.push(e)})),(JSON.parse(localStorage.getItem("rongsokTemp"))||[]).forEach((function(t,a){var e=["Rongsok",t.kode_jenis,{content:Object(M.m)(t.bruto),styles:{halign:"right"}},"",{content:t.kadar_transaksi,styles:{halign:"right"}},"","",{content:Object(M.m)(t.netto,3),styles:{halign:"right"}}];O.push(e)}));var T=["DENDA","DENDA",{content:Object(M.m)(null!==localStorage.getItem("denda")?localStorage.getItem("denda"):0),styles:{halign:"right"}},"","","","",{content:Object(M.m)(null!==localStorage.getItem("denda")?localStorage.getItem("denda"):0),styles:{halign:"right"}}];O.push(T);var B=[[{content:"Saldo Awal",styles:{halign:"right"},colSpan:7},Object(M.o)("RUPIAH"===this.state.tipeTransaksi?this.state.total_piutang_customer_rp:this.state.total_piutang_customer_gr)],[{content:"Total Pembayaran",styles:{halign:"right"},colSpan:7},Object(M.o)("RUPIAH"===this.state.tipeTransaksi?t.totalBayarCash:t.totalBayar)],[{content:"Saldo Akhir",styles:{halign:"right"},colSpan:7},Object(M.o)("RUPIAH"===this.state.tipeTransaksi?parseFloat(this.state.total_piutang_customer_rp)-parseFloat(t.totalBayarCash):parseFloat(this.state.total_piutang_customer_gr)-parseFloat(t.totalBayar))]];(a=O).push.apply(a,B),console.log(JSON.stringify(O));var j=[["Jenis \nPembayaran","Nama \nBarang",{content:"Gross \nBayar",styles:{halign:"right"}},{content:"Harga",styles:{halign:"right"}},{content:"Cap Kode",styles:{halign:"right"}},{content:"Pkg",styles:{halign:"right"}},{content:"Gw+Pkg",styles:{halign:"right"}},{content:"Netto",styles:{halign:"right"}}]];console.log(JSON.stringify(E)),Object(S.c)("trx-customer/bayar-piutang",E).then((function(a){return h.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return e.props.dispatch(Object(k.k)())})).then((function(){return Object(M.u)(["PrintPembayaranSupplier","totalTunaiRp","alatBayarTunai","alatBayarTitipRp","alatBayarTitip","totalTrfRp","alatBayarTrf","ciokTemp","alatBayarCiok","totalCiok","totalBrutoCiok","rongsokTemp","alatBayarRosok","totalRongsok","totalBrutoRongsok","listHutang","discount","bonus","denda","cashTempRp","alatBayarTunaiRp","transferTempRp","alatBayarTrfRp","noFaktur","alatBayarGiroRp","totalGiroRp","alatBayarGiro","totalGiro"])})).then((function(){return e.props.dispatch(Object(d.b)())})).then((function(){return localStorage.setItem("isLogin",!0)})).then((function(){return e.props.dispatch(Object(d.b)())})).then((function(){return e.props.history.push("KlasifikasiSupplier")})).then((function(){return Object(b.a)("Tanggal",t.tanggal,"Customer",e.state.customerTerpilih,"No Nota",e.state.noBon,"","",Object(M.s)(),Object(P.b)(),"",j,"NOTA PEMBAYARAN CUSTOMER",O)})).then((function(){return window.history.back()}))})).catch((function(t){return h.a.fire({position:"top-end",icon:"error",text:(null===t||void 0===t?void 0:t.response.data)||"ERROR PRINT BUKTI",showConfirmButton:!1,timer:3e3}).then((function(){return e.props.dispatch(Object(k.k)())}))}))}},{key:"getHutang",value:function(t){var a=this,e=t.split("-")[0],n=t.split("-")[1];this.setState({customerTerpilih:n}),this.props.dispatch(Object(lt.b)({customer:e})),Object(S.b)("piutang-customer/"+e).then((function(t){return a.setState({total_piutang_customer_gr:t.data.total_netto,total_piutang_customer_rp:t.data.total_rp})})),Object(S.b)("trx-customer/get/piutang-titipan-customer/".concat(Object(P.b)(),"&").concat(e)).then((function(t){a.setState({hutangnya:t.data})})).then((function(){var t;a.setState({listBon:null===(t=a.state.hutangnya)||void 0===t?void 0:t.filter((function(t){return"TITIPAN RUPIAH"!==t.keterangan&&"TITIPAN GRAM"!==t.keterangan}))})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),c.a.createElement("ol",{className:"breadcrumb mb-2"},c.a.createElement(m.b,{to:"/Klasifikasicustomer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary"},c.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(_.default,{title:"Pembayaran Piutang Customer"}),c.a.createElement("div",{className:"card-body"},this.FormPembayaranCustomer(),this.FormPilihBon())))))}},{key:"FormPembayaranCustomer",value:function(){var t=this;return c.a.createElement("div",{className:this.state.formPembayaran},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("ul",{className:"nav nav-pills bg-nav-pills nav-justified mb-3"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#rupiah","data-toggle":"tab","aria-expanded":"false",className:"nav-link rounded-0 active",onClick:function(){return t.setState({tipeTransaksi:"BARANG"})}},c.a.createElement("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Gram"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#gram","data-toggle":"tab","aria-expanded":"true",className:"nav-link rounded-0 ",onClick:function(){return t.setState({tipeTransaksi:"RUPIAH"})}},c.a.createElement("i",{className:"mdi mdi-account-circle d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Rupiah")))),c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane show active",id:"rupiah"},c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:200})},c.a.createElement(et,{tampungCiok:this.props.tampungCiok,tampungRongsok:this.props.tampungRongsok,totalCiok:this.props.totalCiok,totalRongsok:this.props.totalRongsok,totalBrutoCiok:this.props.totalBrutoCiok,totalBrutoRongsok:this.props.totalBrutoRongsok,onSubmit:function(a){return t.handleSubmit(a)},jenisTransaksi:this.state.tipeTransaksi,onSend:this.props.onSend,total_netto:this.state.total_netto,total_rp:this.state.total_rp}))),c.a.createElement("div",{className:"tab-pane",id:"gram"},c.a.createElement(s.Suspense,{fallback:c.a.createElement(N.a,{width:"100%",height:200})},c.a.createElement(et,{tampungCiok:this.props.tampungCiok,tampungRongsok:this.props.tampungRongsok,totalCiok:this.props.totalCiok,totalRongsok:this.props.totalRongsok,totalBrutoCiok:this.props.totalBrutoCiok,totalBrutoRongsok:this.props.totalBrutoRongsok,onSubmit:function(a){return t.handleSubmit(a)},jenisTransaksi:this.state.tipeTransaksi,onSend:this.props.onSend,total_netto:this.state.total_netto,total_rp:this.state.total_rp}))))))}},{key:"FormPilihBon",value:function(){var t=this,a={mode:"checkbox",clickToSelect:!0,onSelect:function(a,e,n,o){var r=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],l={no_faktur:a.no_ref,keterangan:a.keterangan,putus_titip:0,harga_emas:9e5,putus_titip_netto:0};if(e){var i=r.findIndex((function(t,e){return t.no_bon===a.no_bon}));i<0?(r.push(l),t.setState({total_netto:parseFloat(t.state.total_netto)+parseFloat(a.sisa_piutang_netto),total_rp:parseFloat(t.state.total_rp)+parseFloat(a.sisa_piutang_rp)}),console.log("MENAMBAHKAN NETTO",a.sisa_piutang_netto),console.log("MENAMBAHKAN RP",a.sisa_piutang_rp),t.props.dispatch(Object(g.h)(parseFloat(t.state.total_netto)+parseFloat(a.sisa_piutang_netto))),t.props.dispatch(Object(g.i)(parseFloat(t.state.total_rp)+parseFloat(a.sisa_piutang_rp)))):(r.splice(i,1),t.setState({total_netto:parseFloat(t.state.total_netto)-parseFloat(a.sisa_piutang_netto),total_rp:parseFloat(t.state.total_rp)-parseFloat(a.sisa_piutang_rp)}),console.log("MENAMBAHKAN NETTO",a.sisa_piutang_netto),console.log("MENAMBAHKAN RP",a.sisa_piutang_rp),t.props.dispatch(Object(g.h)(parseFloat(t.state.total_netto)-parseFloat(a.sisa_piutang_netto))),t.props.dispatch(Object(g.i)(parseFloat(t.state.total_rp)-parseFloat(a.sisa_piutang_rp)))),localStorage.setItem("FakturTerpilih",JSON.stringify(r))}else{var s=r.findIndex((function(t,e){return t.no_bon===a.no_bon}));r.splice(s,1),t.setState({total_netto:parseFloat(t.state.total_netto)-parseFloat(a.sisa_piutang_netto),total_rp:parseFloat(t.state.total_rp)-parseFloat(a.sisa_piutang_rp)}),t.props.dispatch(Object(g.h)(t.state.total_netto)),t.props.dispatch(Object(g.i)(t.state.total_rp)),localStorage.setItem("FakturTerpilih",JSON.stringify(r))}},onSelectAll:function(a,e,n){var o=[],r=0,l=0;e.forEach((function(t){var a={no_faktur:t.no_ref,keterangan:t.keterangan,putus_titip:0,harga_emas:9e5,putus_titip_netto:0};r=parseFloat(r)+parseFloat(t.sisa_piutang_netto),l=parseFloat(l)+parseFloat(t.sisa_piutang_rp),o.push(a)})),a?(t.setState({total_netto:r,total_rp:l}),localStorage.setItem("FakturTerpilih",JSON.stringify(o)),localStorage.setItem("total_netto",r),localStorage.setItem("total_rp",l),t.props.dispatch(Object(g.h)(r)),t.props.dispatch(Object(g.i)(l))):(t.setState({total_netto:0,total_rp:0}),localStorage.removeItem("FakturTerpilih"),localStorage.removeItem("total_netto"),localStorage.removeItem("total_rp"),t.props.dispatch(Object(g.h)(0)),t.props.dispatch(Object(g.i)(0)))}};return c.a.createElement("div",{className:this.state.pilihBon},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(T.a,{name:"customer",label:"Customer",className:"form-control",component:F.b,options:this.props.customer.map((function(t){return{value:t.kode_customer+"-"+t.nama_customer,name:t.nama_customer}})),defaultValue:"DEFAULT | DEFAULT",onChange:function(a){return t.getHutang(a)}})),c.a.createElement("div",{className:"col-lg-12 mt-3"},c.a.createElement(nt.a,{keyField:"no_bon",data:this.state.listBon||[],columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:rt()(),selectRow:a})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){t.props.change("totalHutangRP",t.state.total_rp),t.props.change("totalHutangGr",t.state.total_netto),t.setState({formPembayaran:"row",pilihBon:"col-lg-12 d-none"})}},"Next",c.a.createElement("i",{className:"fa fa-chevron-right ml-3"})))))}}]),e}(s.Component);it=Object(B.a)({form:"PembayaranCustomer"})(it);a.default=Object(p.b)((function(t){var a,e;return{pembayaranSupplierList:t.provinsi.PembayaranCustomer,tampungCiok:t.provinsi.tampungCiok,tampungRongsok:t.provinsi.tampungRongsok,totalCiok:t.provinsi.totalCiok,totalRongsok:t.provinsi.totalRongsok,totalBrutoCiok:t.provinsi.totalBrutoCiok,totalBrutoRongsok:t.provinsi.totalBrutoRongsok,alert:t.provinsi.alert,error:t.provinsi.error,noFaktur:t.provinsi.noFaktur,username:t.provinsi.username,customer:t.provinsi.customer,onSend:t.provinsi.onSend,customerSelected:null===(a=t.form.PembayaranCustomer)||void 0===a||null===(e=a.values)||void 0===e?void 0:e.customer}}),null)(it)},645:function(t,a,e){"use strict";a.a=function(t){var a={};return t.tanggal||(a.tanggal="Tidak Boleh kosong"),t.supplier||(a.supplier="Tidak Boleh kosong"),a}},698:function(t,a,e){"use strict";var n=e(15),o=e(16),r=e(18),l=e(17),i=e(0),s=e.n(i),c=e(234),p=e(341),m=e(342),g=e(345),u=e(13),h=e(113),d=Object(c.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),b=function(t){var a=t.input,e=t.label,n=t.type,o=t.limit,r=t.readOnly,l=t.meta,i=l.touched,c=l.error,p=l.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},e),s.a.createElement("input",Object.assign({},a,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:o,readOnly:r})),i&&(c&&s.a.createElement("p",{className:"invalid-feedback"},c)||p&&s.a.createElement("p",null,p)))},f=function(t){Object(r.a)(e,t);var a=Object(l.a)(e);function e(t){var o;return Object(n.a)(this,e),(o=a.call(this,t)).state={listBank:[]},o}return Object(o.a)(e,[{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("GiroNetto",this.props.GiroNetto)}},{key:"getlocal",value:function(){var t="",a="",e="",n="",o="",r="",l="",i="",s=JSON.parse(localStorage.getItem("alatBayarGiroRp"))?JSON.parse(localStorage.getItem("alatBayarGiroRp")):"kosong";"kosong"===s?(t="",a="",e="",n=0,o=0,r=0,l="",i=""):(t=s[0].acc_to,a=s[0].bank_to,e=s[0].bank_giro,n=s[0].giro_netto,o=s[0].giro_rp,r=s[0].harga_emas,l=s[0].no_giro,i=s[0].tanggal_giro),this.props.change("giro",o),this.props.change("GiroNetto",n),this.props.change("tujuan","".concat(t,"||").concat(a)),this.props.change("bank_giro",e),this.props.change("harga",r),this.props.change("no_giro",l),this.props.change("tanggal",i)}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.d)()),this.getlocal()}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-lg-6 mt-3"},s.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},s.a.createElement("div",{className:"card mb-0 bg-dark"},s.a.createElement("div",{className:"card-header",id:"headingOne"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-8"},s.a.createElement("h5",{className:"m-0"},s.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapseGiro","aria-expanded":"true","aria-controls":"collapseTransfer"},"Giro",s.a.createElement("span",{className:"float-right"},s.a.createElement("i",{className:"mdi mdi-chevron-down accordion-arrow"}))))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:"",style:{color:"white"}},"Netto"),s.a.createElement(p.a,Object.assign({name:"GiroNetto",type:"telp",component:"input",className:"form-control",readOnly:!0},d))))),s.a.createElement("div",{id:"collapseGiro",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},s.a.createElement("div",{className:"card-body bg-white"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"giro"),s.a.createElement(p.a,Object.assign({name:"giro",component:"input",type:"tel",className:"form-control",onBlur:this.onChange()},d))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"Harga "),s.a.createElement("div",{className:"form-gorup"},s.a.createElement(p.a,Object.assign({name:"harga",component:"input",type:"tel",className:"form-control",onBlur:this.onChange(),readOnly:!0},d)))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement(p.a,Object.assign({name:"GiroNetto",label:"Netto",type:"telp",component:b,readOnly:!0},d))),s.a.createElement("div",{className:"col-md-6 col-lg-6"},s.a.createElement(p.a,{name:"no_giro",label:"No Giro",type:"text",component:b})),s.a.createElement("div",{className:"col-md-6 col-lg-6"},s.a.createElement(p.a,{name:"bank_giro",label:"Bank Giro",type:"text",component:b})),s.a.createElement("div",{className:"col-md-6 col-lg-6"},s.a.createElement("label",{htmlFor:""},"A/C Tujuan"),s.a.createElement(p.a,{name:"tujuan",className:"form-control",component:"select"},s.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"silahkan pilih"),this.props.rekening.map((function(t){return s.a.createElement("option",{value:"".concat(t.no_rekening,"||").concat(t.nama_bank),key:t.no_rekening},t.atas_nama)})))),s.a.createElement("div",{className:"col-md-6 col-lg-6"},s.a.createElement(p.a,{name:"tanggal",label:"Tanggal",type:"date",component:b})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan"))))))))))}}]),e}(i.Component);f=Object(m.a)({form:"AccordGiroMurni",enableReinitialize:!0})(f);var y=Object(g.a)("AccordGiroMurni");a.a=Object(u.b)((function(t){return{GiroNetto:parseFloat(y(t,"giro")),rekening:t.provinsi.rekening}}))(f)},699:function(t,a,e){"use strict";var n=e(15),o=e(16),r=e(18),l=e(17),i=e(0),s=e.n(i),c=e(341),p=e(342),m=e(345),g=e(13),u=e(21),h=e(25),d=function(t){Object(r.a)(e,t);var a=Object(l.a)(e);function e(t){var o;return Object(n.a)(this,e),(o=a.call(this,t)).state={},o}return Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=0,a=0,e=0,n=JSON.parse(localStorage.getItem("alatBayarTitip"))?JSON.parse(localStorage.getItem("alatBayarTitip")):"kosong";"kosong"===n?(t=0,a=0,e=0):(t=n[0].titip_rp,a=n[0].harga_emas,e="murni"===this.props.type?n[0].harga_emas:n[0].titip_netto),this.props.change("titip",t),this.props.change("harga",a),this.props.change("titipNetto",e)}},{key:"onChange",value:function(){if(this.props.saldo_titip_gr<this.props.titipNetto)return Object(h.e)("Pembayaran Melebihi Titipan Tersedia"),!1;this.props.change("titipNetto",this.props.titipNetto)}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-lg-6 mt-3"},s.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},s.a.createElement("div",{className:"card mb-0 bg-dark"},s.a.createElement("div",{className:"card-header ",id:"headingOne"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement("h5",{className:"m-0"},s.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapseTitip","aria-expanded":"true","aria-controls":"collapseTitip"},"Titip"))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:"",style:{color:"white"}},"Netto"),s.a.createElement(c.a,{name:"titipNetto",type:"number",component:"input",className:"form-control",readOnly:!0})))),s.a.createElement("div",{id:"collapseTitip",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},s.a.createElement("div",{className:"card-body bg-white"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12  mb-2 justify-content-center"},s.a.createElement("h4",null,"Saldo Titip Tersedia :",s.a.createElement("strong",null," ",this.props.saldo_titip_gr))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"Jumlah Putus"),s.a.createElement(c.a,{name:"titip",component:"input",type:"tel",className:"form-control",onBlur:this.onChange()})),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"Harga "),s.a.createElement("div",{className:"form-gorup"},s.a.createElement(c.a,{name:"harga",component:"input",type:"tel",className:"form-control",onBlur:this.onChange(),readOnly:!0}))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement(c.a,{name:"titipNetto",label:"Netto",type:"number",component:u.a,readOnly:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Simpan"))))))))))}}]),e}(i.Component);d=Object(p.a)({form:"AccordTitip",enableReinitialize:!0})(d);var b=Object(m.a)("AccordTitip");a.a=Object(g.b)((function(t){return{titipNetto:b(t,"harga","titip").titip,saldo_titip_rp:t.pembayaranCustomer.titip_rp,saldo_titip_gr:t.pembayaranCustomer.titip_gr}}))(d)},700:function(t,a,e){"use strict";var n=e(15),o=e(16),r=e(18),l=e(17),i=e(0),s=e.n(i),c=e(234),p=e(341),m=e(342),g=e(345),u=e(13),h=e(21),d=e(25),b=Object(c.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),f=function(t){Object(r.a)(e,t);var a=Object(l.a)(e);function e(t){var o;return Object(n.a)(this,e),(o=a.call(this,t)).state={},o}return Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=0,a=0,e=0,n=JSON.parse(localStorage.getItem("alatBayarTitipRp"))?JSON.parse(localStorage.getItem("alatBayarTitipRp")):"kosong";"kosong"===n?(t=0,a=0,e=0):(t=n[0].titip_rp,a=n[0].harg_emas,e=n[0].titip_netto),this.props.change("titip",t),this.props.change("harga",a),this.props.change("titipNetto",e)}},{key:"onChange",value:function(){if(this.props.saldo_titip_rp<this.props.titipNetto)return Object(d.e)("Pembayaran Melebihi Titipan Tersedia"),!1;this.props.change("titipNetto",this.props.titipNetto)}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-lg-6 mt-3"},s.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},s.a.createElement("div",{className:"card mb-0 bg-dark"},s.a.createElement("div",{className:"card-header ",id:"headingOne"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement("h5",{className:"m-0"},s.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapseTitip","aria-expanded":"true","aria-controls":"collapseTitip"},"Titip"))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:"",style:{color:"white"}},"Netto"),s.a.createElement(p.a,Object.assign({name:"titipNetto",type:"telp",component:"input",className:"form-control",readOnly:!0},b))))),s.a.createElement("div",{id:"collapseTitip",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},s.a.createElement("div",{className:"card-body bg-white"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 mb-2 justify-content-center"},s.a.createElement("h4",null,"Saldo Titip Tersedia :",s.a.createElement("strong",null," ",this.props.saldo_titip_rp))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"Jumlah Putus"),s.a.createElement(p.a,Object.assign({name:"titip",component:"input",type:"tel",className:"form-control",onBlur:this.onChange()},b))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement("label",{htmlFor:""},"Harga "),s.a.createElement("div",{className:"form-gorup"},s.a.createElement(p.a,Object.assign({name:"harga",component:"input",type:"tel",readOnly:!0,className:"form-control",onBlur:this.onChange()},b)))),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement(p.a,Object.assign({name:"titipNetto",label:"Netto",type:"telp",component:h.a,readOnly:!0},b))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Simpan"))))))))))}}]),e}(i.Component);f=Object(m.a)({form:"AccordTitipMurni",enableReinitialize:!0})(f);var y=Object(g.a)("AccordTitipMurni");a.a=Object(u.b)((function(t){var a=y(t,"harga","titip").titip;return{titipNetto:parseFloat(a)||0,titipNettoMurni:parseFloat(a)||0,saldo_titip_rp:t.pembayaranCustomer.titip_rp,saldo_titip_gr:t.pembayaranCustomer.titip_gr}}))(f)}}]);
//# sourceMappingURL=23.05b08e8d.chunk.js.map