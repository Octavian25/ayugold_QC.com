(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[113],{1168:function(e,t,a){"use strict";a.r(t);var n=a(64),r=a(24),i=a(25),c=a(27),l=a(26),o=a(0),s=a.n(o),u=a(327),d=a(328),m=a(17),h=a(617),p=a.n(h),k=a(216),b=a.n(k),f=a(130),g=a.n(f),v=a(217),S=a.n(v),O=a(91),j=a(76),_=a(105),E=a.n(_),T=a(52),B=a(227),N=a.n(B),F=a(129),I=a(5),V=a(66),A=a(6),K=a(43),x=a(59),y=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://103.119.55.28:7002/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,C=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).disabledButton=function(e){e.target.disabled=!0},i.changeTransaksi=function(e){return function(t){switch(i.setState(Object(n.a)({},e,t.target.value)),t.target.value){case"Pindah Barang":i.props.dispatch(Object(O.k)());break;case"MuatasiBarang":i.props.dispatch(Object(O.i)());break;case"Kirim Stock":i.props.dispatch(Object(O.h)());break;case"MutasiJenisLK":i.props.dispatch(Object(O.j)());break;case"Kirim Masak":i.props.dispatch(Object(O.g)());break;case"Terima Masak":i.props.dispatch(Object(O.l)());break;default:console.log("ERROR")}}},i.nextStep=function(){var e=i.state.step;0===e&&i.setState({step:e+1,step2:"row",step1:"row d-none"}),i.props.dispatch(Object(j.h)())},i.prevStep=function(){var e=i.state.step;1===e&&i.setState({step:e-1,step2:"row d-none",step1:"row"})},i.state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"no_bon",text:"Nomor Bon"},{dataField:"no_trx",text:"Nomor Transaksi",formatter:function(e){return e||"-"}},{dataField:"total_bruto",text:"Total Bruto(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(A.o)(e)}},{dataField:"total_netto",text:"Total Netto(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(A.o)(e)}},{dataField:"keterangan",text:"Keterangan",formatter:function(e,t,a){if(void 0===e)return s.a.createElement("div",{className:"justify-content-center row"},s.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return i.batalValidasiKirimStock(t.no_kirim)}},s.a.createElement(x.a,{id:"hapus",type:"dark",effect:"solid"},s.a.createElement("span",null,"Batal Validasi")),s.a.createElement("i",{class:"fa fa-times","aria-hidden":"true"})),s.a.createElement("br",null),s.a.createElement("button",{"data-tip":!0,"data-for":"edit",className:"btn btn-success mr-2",onClick:function(){return i.valiasiKirimStock(t.no_kirim)}},s.a.createElement(x.a,{id:"edit",type:"dark",effect:"solid"},s.a.createElement("span",null,"Validasi")),s.a.createElement("i",{class:"fa fa-check","aria-hidden":"true"})))}}],step:0,step1:"row",step2:"row d-none",step3:"row d-none",angka:0},i}return Object(i.a)(a,[{key:"batalValidasiKirimStock",value:function(e){var t=this;Object(I.c)("/kirim-stock/post/batal-validate/"+e).then((function(e){Object(T.b)("Batal Validasi Berhasil"),t.props.dispatch(Object(O.h)())}))}},{key:"valiasiKirimStock",value:function(e){var t=this;Object(I.c)("kirim-stock/post/validate/"+e).then((function(e){Object(T.b)("Validasi Berhasil"),t.props.dispatch(Object(O.h)())}))}},{key:"componentDidMount",value:function(){localStorage.setItem("FakturTerpilih","[]"),localStorage.setItem("FakturTerpilih_kirim","[]")}},{key:"updateButton",value:function(e){switch(this.setState({angka:this.state.angka+1}),e){case"Pindah Barang":this.props.dispatch(Object(O.k)());break;case"MuatasiBarang":this.props.dispatch(Object(O.i)());break;case"MutasiJenisLK":this.props.dispatch(Object(O.j)());break;case"Kirim Masak":this.props.dispatch(Object(O.g)());break;case"Terima Masak":this.props.dispatch(Object(O.l)());break;default:console.log("ERROR")}}},{key:"kirimvalidasi",value:function(e){var t=this;console.log("BERHASIL");var a={trx_stock:JSON.parse(localStorage.getItem("FakturTerpilih_kirim"))};switch(e){case"Kirim Masak":Object(I.d)("validate-stock/validate",a).then((function(){return Object(T.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.g)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"Terima Masak":E.a.put(y+"item/dc/terimamasak",a).then((function(){return Object(T.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.l)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"Pindah Barang":Object(I.d)("validate-stock/validate",a).then((function(){return Object(T.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.k)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"MuatasiBarang":Object(I.d)("validate-stock/validate",a).then((function(){return Object(T.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.g)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"MutasiJenisLK":E.a.put(y+"item/dc/mutasilk",a).then((function(){return Object(T.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.j)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(T.c)("Gagal Validasi, Check Koneksi Anda")}))}}},{key:"batalvalidasi",value:function(e){var t=this;console.log("BERHASIL");var a={trx_stock:JSON.parse(localStorage.getItem("FakturTerpilih_kirim"))};switch(e){case"Kirim Masak":Object(I.d)("validate-stock/batal",a).then((function(){return Object(T.b)("Berhasil Batal Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.g)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Batal Validasi, Check Koneksi Anda")}));break;case"Terima Masak":E.a.put(y+"item/dc/terimamasak",a).then((function(){return Object(T.b)("Berhasil Batal Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.l)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Batal Validasi, Check Koneksi Anda")}));break;case"Pindah Barang":Object(I.d)("validate-stock/batal",a).then((function(){return Object(T.b)("Berhasil Batal Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.k)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Batal Validasi, Check Koneksi Anda")}));break;case"MuatasiBarang":Object(I.d)("validate-stock/batal",a).then((function(){return Object(T.b)("Berhasil Batal Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.g)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(){return Object(T.c)("Gagal Batal Validasi, Check Koneksi Anda")}));break;case"MutasiJenisLK":E.a.put(y+"item/dc/mutasilk",a).then((function(){return Object(T.b)("Berhasil Batal Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.j)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(T.c)("Gagal Batal Validasi, Check Koneksi Anda")}))}}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!0,onSelect:function(e,t,a,n){console.log(e.noFaktur);var r=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],i=JSON.parse(localStorage.getItem("FakturTerpilih_kirim"))||[],c={tanggal:e.tanggal,no_bon:e.no_bon,total_bruto:e.total_bruto,total_netto:e.total_netto,keterangan:e.keterangan,no_trx:e.no_trx},l={no_trx:e.no_trx,keterangan:e.keterangan};if(t){var o=r.findIndex((function(t,a){return t.no_trx===e.no_trx})),s=i.findIndex((function(t,a){return t.no_trx===e.no_trx}));o<0?(r.push(c),i.push(l)):(r.splice(o,1),i.splice(s,1)),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(i))}else{var u=r.findIndex((function(t,a){return t.noFaktur===e.noFaktur})),d=r.findIndex((function(t,a){return t.no_bon===e.no_bon}));r.splice(u,1),i.splice(d,1),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(r))}},onSelectAll:function(e,t,a){var n=[],r=[];t.forEach((function(e){var t={tanggal:e.tanggal,no_bon:e.no_bon,total_bruto:e.total_bruto,total_netto:e.total_netto,keterangan:e.keterangan,no_trx:e.no_trx},a={no_trx:e.no_trx,keterangan:e.keterangan};n.push(t),r.push(a)})),e?(localStorage.setItem("FakturTerpilih",JSON.stringify(n)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(r))):(localStorage.removeItem("FakturTerpilih"),localStorage.removeItem("FakturTerpilih_kirim"))}};return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"card"},s.a.createElement(F.default,{title:"Validasi Barang"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement(p.a,{steps:[{title:"Pilih Data"},{title:"Validasi Data"}],activeStep:this.state.step})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:this.state.step1},s.a.createElement("div",{className:"col-lg-3 col-md-3"},s.a.createElement("label",{htmlFor:""},"Silahkan Pilih Transaksi"),s.a.createElement(u.a,{name:"tipeTransaksi",label:"Dari",component:"select",className:"form-control",onChange:this.changeTransaksi("tipeTransaksi")},s.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"SILAHKAN PILIH"),s.a.createElement("option",{value:"Pindah Barang",key:"Pindah Barang"},"Pindah Barang"),s.a.createElement("option",{value:"MuatasiBarang",key:"Muatasi Barang"},"Mutasi Barang"),s.a.createElement("option",{value:"Kirim Stock",key:"Kirim Stock"},"Kirim Stock"))),s.a.createElement("div",{className:"col-lg-12 mt-3"},s.a.createElement(V.a,{keyField:"no_bon",data:this.props.listValidasiBarang,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:S()(),selectRow:t})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",disabled:"Kirim Stock"===this.state.tipeTransaksi,onClick:function(){return e.nextStep()}},"Next",s.a.createElement("i",{className:"fa fa-chevron-right ml-3"}))))),s.a.createElement("div",{className:this.state.step2},s.a.createElement("div",{className:"col-lg-12 mt-3"},this.props.listDataSelectedValidasiSupplier?s.a.createElement(g.a,{keyField:N()(),data:this.props.listDataSelectedValidasiSupplier,columns:this.state.columns,search:!0},(function(e){return s.a.createElement("div",{className:"form-group"},s.a.createElement(b.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:S()()})))})):s.a.createElement(b.a,{keyField:"noFaktur",data:[],columns:this.state.columns,bordered:!0,headerClasses:"header-table",noDataIndication:"Tidak Ada Data"})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:" col-lg-6 text-left"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.prevStep()}},s.a.createElement("i",{className:"fa fa-chevron-left mr-3"}),"BACK")),s.a.createElement("div",{className:"ml-auto mr-3"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.batalvalidasi(e.state.tipeTransaksi)}},s.a.createElement("i",{className:"fa fa-times mr-3"}),"BATAL VALIDASI"),s.a.createElement("button",{className:"btn btn-primary ml-2",onClick:function(){return e.kirimvalidasi(e.state.tipeTransaksi)}},s.a.createElement("i",{className:"fa fa-check mr-3"}),"VALIDASI"))))))))))))}}]),a}(o.Component);C=Object(d.a)({form:"validasiBarang",enableReinitialize:!0})(C),t.default=Object(m.b)((function(e){return{listValidasiBarang:e.provinsi.listValidasiBarang,listDataSelectedValidasiSupplier:e.provinsi.listDataSelectedValidasiSupplier,initialValues:{tanggal:Object(K.b)()}}}),null)(C)},617:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(627),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default}}]);
//# sourceMappingURL=113.5c6bcb85.chunk.js.map