{"version":3,"sources":["Totalan/Element/FormHeadPenjualanLM.jsx"],"names":["currencyMask","createNumberMask","prefix","suffix","locale","FormHeadPenjualanLM","props","pilihSupplier","input","e","result_explode","target","value","split","setState","kodeSupplier","namaSupplier","localStorage","setItem","state","listSupplier","Axios","get","server","then","res","data","catch","err","gagal","this","dispatch","getNetto","change","sumNetto","getToday","onSubmit","handleSubmit","className","label","name","id","component","renderFieldSelect","onChange","setCustomer","options","map","kode","kodeCustomer","namaToko","type","renderField","normalize","toUpperCase","htmlFor","onBlur","disabled","onSend","data-tut","aria-hidden","onClick","showModal","Component","reduxForm","form","enableReinitialize","connect","perhitungan"],"mappings":"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","file":"static/js/13.60d92e42.chunk.js","sourcesContent":["import Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { getNetto } from \"../../actions/LogicAction\";\r\nimport { showModal } from \"../../actions/ModalAction\";\r\nimport { gagal } from \"../../Alert\";\r\nimport { getToday } from \"../../getDate\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\n\r\nconst server = process.env.REACT_APP_BACKEND_URL;\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nconst maptoState = (state) => {\r\n  return {\r\n    sumNetto: state.perhitungan.sumNetto,\r\n  };\r\n};\r\nclass FormHeadPenjualanLM extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listSupplier: [],\r\n    };\r\n  }\r\n  pilihSupplier = (input) => (e) => {\r\n    var supp = e.target.value ? e.target.value : \"DEFALT | DEFAULT\";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeSupplier: result_explode[0],\r\n      namaSupplier: result_explode[1],\r\n    });\r\n    localStorage.setItem(\"namaSupplier\", result_explode[0]);\r\n    localStorage.setItem(\"kodeSupplier\", result_explode[1]);\r\n  };\r\n  componentDidMount() {\r\n    Axios.get(server + \"customers\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listSupplier: res.data,\r\n        })\r\n      )\r\n      .catch((err) => gagal(\"Mohon periksa koneksi anda\"));\r\n    this.props.dispatch(getNetto(\"TransaksiPenjualanLM\"));\r\n    this.props.change(\"totalNW\", this.props.sumNetto);\r\n    this.props.change(\"tanggal_invoice\", getToday);\r\n    this.props.change(\"tanggalBarang\", getToday);\r\n  }\r\n  setCustomer(e) {\r\n    let hasil = e || \"DEFAULT|DEFAULT\";\r\n    let split = hasil.split(\"|\");\r\n    this.props.change(\"kodeCustomer\", split[0]);\r\n    this.props.change(\"namaToko\", split[1]);\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-4 col-md-4\">\r\n              <Field\r\n                label=\"Customer\"\r\n                name=\"customer\"\r\n                id=\"kodeCustomer\"\r\n                className=\"form-control\"\r\n                component={renderFieldSelect}\r\n                onChange={(e) => this.setCustomer(e)}\r\n                options={this.state.listSupplier.map((kode) => {\r\n                  let data = {\r\n                    value: kode.kodeCustomer + \"|\" + kode.namaToko,\r\n                    name: kode.namaToko,\r\n                  };\r\n                  return data;\r\n                })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 col-lg-4\">\r\n              <Field\r\n                type=\"date\"\r\n                label=\"Tanggal invoice\"\r\n                name=\"tanggal_invoice\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 col-lg-4 d-none\">\r\n              <Field\r\n                type=\"text\"\r\n                label=\"Tanggal invoice\"\r\n                name=\"kodeCustomer\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 col-lg-4 d-none\">\r\n              <Field\r\n                type=\"text\"\r\n                label=\"Tanggal invoice\"\r\n                name=\"namaToko\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 col-lg-4\">\r\n              <Field\r\n                type=\"date\"\r\n                label=\"Tanggal Barang\"\r\n                name=\"tanggalBarang\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 mt-3\">\r\n              <Field\r\n                type=\"text\"\r\n                label=\"Keterangan\"\r\n                name=\"keterangan\"\r\n                component={renderField}\r\n              normalize={(value) => value && value.toUpperCase()}\r\n\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 mt-3\">\r\n              <Field\r\n                type=\"text\"\r\n                label=\"Nomor bon\"\r\n                name=\"noBon\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 mt-3\">\r\n              <label htmlFor=\"\">Ongkos (Rp)</label>\r\n              <Field\r\n                type=\"telp\"\r\n                label=\"Ongkos (Rp)\"\r\n                name=\"ongkos\"\r\n                className=\"form-control\"\r\n                component=\"input\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3 mt-3\">\r\n              <label htmlFor=\"\">Total NW Ext</label>\r\n              <Field\r\n                type=\"number\"\r\n                label=\"Total NW Ext\"\r\n                name=\"totalNW\"\r\n                className=\"form-control\"\r\n                component=\"input\"\r\n                onBlur={this.props.change(\"totalNW\", this.props.sumNetto)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-12 col-lg-12 mt-3\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6 col-md-6\">\r\n                  <div className=\"text-left\">\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      type=\"submit\"\r\n                      disabled={this.props.onSend}\r\n                      data-tut=\"reactour_3\"\r\n                    >\r\n                      {this.props.onSend ? (\r\n                        <span\r\n                          className=\"spinner-border spinner-border-sm mr-3\"\r\n                          aria-hidden=\"true\"\r\n                        ></span>\r\n                      ) : null}\r\n                      Simpan\r\n                      <i className=\"fa fa-paper-plane  ml-3\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-lg-6 col-md-6\">\r\n                  <div className=\"text-right\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => this.props.dispatch(showModal())}\r\n                      data-tut=\"reactour_1\"\r\n                    >\r\n                      Tambah Data\r\n                      <i className=\"fa fa-plus ml-3\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormHeadPenjualanLM = reduxForm({\r\n  form: \"FormHeadPenjualanLM\",\r\n  enableReinitialize: true,\r\n})(FormHeadPenjualanLM);\r\nexport default connect(maptoState, null)(FormHeadPenjualanLM);\r\n"],"sourceRoot":""}