{"version":3,"sources":["Transaksi/Component/FormGambarPackingM.jsx","Transaksi/Component/FormGambarPackingS.jsx","Transaksi/Component/FormPackingList.jsx","Transaksi/Component/AccordPOPackingList.jsx","Transaksi/Component/HeadPackingList.jsx","Transaksi/PackingList.jsx","../../../../../../../webpack/universalModuleDefinition","../../../../../../../index.js","../webpack:/webpack/bootstrap 636d8c14f56be0f1ccfe","../../../../../../../src/lib/MediaServices/constants.js","../../../../../../../src/lib/index.js","../../../../../../../src/lib/MediaServices/index.js","../../../../../../../src/lib/MediaServices/helper.js","../../../../../../../src/lib/constants.js","Validations/validasiTransaksiPenjualan.js","Transaksi/Component/FormGambarPackingL.jsx"],"names":["FormGambarPackingM","props","handleUpload","e","a","file","target","files","setState","state","listImage","listGambarM","i","reader","FileReader","onload","handleReaderLoaded","resizeFile","compressed","readAsDataURL","undefined","onloadend","push","dispatch","setCameraURI","setGambarM","count","length","console","log","change","readerEvt","binaryString","result","imageBase64","btoa","cameraPhoto","videoRef","React","createRef","kodeBarang","dataUri","this","stopCamera","then","catch","error","getListBarang","CameraPhoto","current","setTimeout","startCamera","FACING_MODES","ENVIRONMENT","width","height","config","sizeFactor","imageCompression","isImageMirror","dataURLtoFile","getDataUri","res","foto","JSON","stringify","onSubmit","handleSubmit","className","ref","autoPlay","type","onClick","takePhoto","map","data","alt","src","lokasi_gambar","Field","name","label","component","renderField","readOnly","class","multiple","id","accept","onChange","image","for","Component","reduxForm","form","enableReinitialize","validate","validasiTransaksiPenjualan","connect","cameraURI","provinsi","FormGambarPackingS","listGambarS","setGambarS","currencyMask","createNumberMask","prefix","suffix","locale","FormPackingList","handleBarcode","hasil","value","AxiosMasterGet","detail_barang","forEach","handleBarcodeSet","kode_barcode_set","split","kodeJenis","kadarCetak","kadarJual","non_aksesoris","aksesoris","netto","noFaktur","gross","discGlobalGr","toFixed","param","KodeBarangList","filter","kode_jenis","customer","localStorage","getItem","kode_tukar_normal","warning","kode_kelompok","namaJenis","nama_jenis","kodeKategori","kode_kategori","namaKategori","nama_kategori","harga_jual","harga_aksesoris","setKadar","setFocus","barcode","simpan","netto_disc","parseFloat","qty","k","ongkos_rp","kadar_cetak","toString","disc_persen","kadar_jual","kadar_level2","level2","kadar_level3","level3","kadar_modal","kadar_beli","kode_barcode","p","disc","pkg","bruto","simpan_level2","calculate_barcode_level2","simpan_level3","calculate_barcode_level3","array","parse","array_level2","array_level3","GrandTotalNetto","list","reduce","b","setItem","Swal","fire","position","icon","text","showConfirmButton","timer","getListTransaksiPenjualan","getTotalNW","reset","hideModal","getNetto","discGlobalPr","err","gagal","defaultValue","normalize","toUpperCase","String","renderFieldSelect","pilihBarang","onBlur","options","kode","placeholder","onclick1","htmlFor","selector","formValueSelector","kadarTransaksi","initialValues","AccordPOPAckingList","columns","dataField","align","headerAlign","formatter","formatGram","footerClasses","csvExport","rowContent","row","rowIndex","data-tip","data-for","pilihPO","no_bon","effect","arrayNota","_id","nota","berhasil","setCustomer","kode_customer","kode_customer_level2","kode_customer_level3","nama_customer","nama_customer_level2","nama_customer_level3","level_customer_trx","getListBarangPacking","getListPOPacking","data-toggle","href","aria-expanded","aria-controls","aria-labelledby","data-parent","getPO","GlobalTabel","keyField","listPOPacking","textEmpty","kode_po","HeadPackingList","setGambarL","tablePO","kodeCustomer","add","headerStyle","formatRp","deleteRow","columnsPackingS","columnsPackingM","tabel","title","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","splice","getcustomerList","getListBarangPackingS","getListBarangPackingM","sebelum","pkg_s","bruto_s","netto_s","berat","berat_p_s","total_item","no_packing_m","uuid","berat_p_m","total_berat_p_s","pkg_m","bruto_m","netto_m","packing_s","gambar","removeItem","no_packing_s","nama_toko","packingList","showPackingL","style","float","disabled","onSend","aria-hidden","listPackingS","listPackingM","tanggal","getToday","berat_p_l","PackingList","showModal","getUUID","nettoDiscGlobalExt","rp","simpanNota","no_packing","progressSend","total_barang","x","no_po","no_ext_packing","listGambarL","PlaceHolder","berat_packing","qty_kertas","qty_plastik","total_berat_packing","AxiosMasterPost","columTable","footer","tableRows","bruto_total","ongkos_total","gross_total","ticket","ticketData","content","styles","halign","parseInt","colSpan","total_berat","total_gross","total_bungkus","berat_bungkus","levelCustomer","PrintNotaSuratJalan","nama1","nama2","nama3","finishSend","window","location","reload","HeaderCard","handlePacking","showPackingS","showGambarS","showTambahBarang","showPackingM","showGambarM","showGambarL","ModalMasterData","FormGambarPackingL","packing","module","modules","l","exports","__webpack_require__","Object","configurable","enumerable","get","__webpack_exports__","_defineProperty","obj","key","defineProperty","writable","d","SUPPORTED_FACING_MODES","SUPPORTED_IMAGE_TYPES","IMAGE_TYPES","FORMAT_TYPES","MINIMUM_CONSTRAINTS","_FORMAT_TYPES","USER","PNG","JPG","audio","video","__WEBPACK_IMPORTED_MODULE_0__MediaServices__","__WEBPACK_IMPORTED_MODULE_1__constants__","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","prototype","DEFAULT_IMAGE_TYPE","MediaServices","videoElement","instance","TypeError","_classCallCheck","stream","numberOfMaxResolutionTry","settings","inputVideoDeviceInfos","windowURL","getWindowURL","mediaDevices","getNavigatorMediaDevices","idealFacingMode","idealResolution","Promise","resolve","reject","constraints","getIdealConstraints","_this","getUserMedia","_gotStream","_getInputVideoDeviceInfosPromise","getMaxResolutionConstraints","_getStreamDevice","_this2","_getStreamDeviceMaxResolution","srcObject","videoSrc","createObjectURL","tracks","getTracks","getSettings","_this3","enumerateDevices","devices","device","kind","_setSettings","_setVideoSrc","_this4","_this5","userConfig","DEFAULT_SIZE_FACTOR","imageType","DEFAULT_IMAGE_COMPRESSION","DEFAULT_IMAGE_MIRROR","_this6","track","stop","Error","__WEBPACK_IMPORTED_MODULE_0__helper__","videoWidth","videoHeight","getImageSize","imageWidth","imageHeight","canvas","document","createElement","context","getContext","setTransform","drawImage","URL","webkitURL","mozURL","msURL","NMDevice","isNewAPI","navigator","isOldAPI","mozGetUserMedia","webkitGetUserMedia","NMDeviceOld","polyfillGetUserMedia","constraint","call","assign","getSupportedConstraints","facingMode","idealConstraints","isMinimumConstraints","supports","includes","VIDEO_ADVANCED_CONSTRANTS","min","ideal","advanced","slice","_getValidImgParam","imgParam","join","_validateImgParam","toDataURL","hasOwnProperty","_isEmptyObject","__WEBPACK_IMPORTED_MODULE_0__constants__","_typeof","Symbol","iterator","constructor","errors"],"mappings":"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","file":"static/js/28.719cc2b0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport validasiTransaksiPenjualan from \"../../Validations/validasiTransaksiPenjualan\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport { setCameraURI } from \"../../actions/cameraAction\";\r\nimport { renderField } from \"../../renderField\";\r\nimport {  dataURLtoFile, resizeFile } from \"../../helper\";\r\nimport { setGambarM } from \"../../actions/PackingListAction\";\r\nimport CameraPhoto, { FACING_MODES } from \"jslib-html5-camera-photo\";\r\n\r\n\r\nclass FormGambarPackingM extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.cameraPhoto = null;\r\n    this.videoRef = React.createRef();\r\n    this.state = {\r\n      kodeBarang: [],\r\n      files: [],\r\n      dataUri: []\r\n    };\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\r\n    setTimeout(() => {\r\n      this.cameraPhoto.startCamera(FACING_MODES.ENVIRONMENT, {\r\n        width: 720,\r\n        height: 720,\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  async takePhoto() {\r\n    const config = {\r\n      sizeFactor: 1,\r\n      imageCompression: 1,\r\n      isImageMirror: false,\r\n    };\r\n    const file = dataURLtoFile(this.cameraPhoto.getDataUri(config));\r\n    const res = await resizeFile(file)\r\n    console.log(res);\r\n    let foto = this.props.listGambarM;\r\n    foto.push({\"lokasi_gambar\" : res})\r\n    console.log(JSON.stringify(foto));\r\n    this.setState({ dataUri: foto });\r\n    this.props.dispatch(setGambarM(foto))\r\n  }\r\n\r\n  stopCamera() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  handleUpload = async (e) => {\r\n\r\n    const file = e.target.files;\r\n    this.setState({\r\n      files: [...this.state.files, ...e.target.files]\r\n    })\r\n    let listImage = this.props.listGambarM;\r\n    for (let i = 0; i < file.length; i++) {\r\n      let reader = new FileReader();\r\n      reader.onload = this.handleReaderLoaded;\r\n      let compressed = await resizeFile(file[i]);\r\n      reader.readAsDataURL(file[i]);\r\n      if (reader !== undefined && file !== undefined) {\r\n        reader.onloadend = () => {\r\n          listImage.push({ \"lokasi_gambar\": compressed })\r\n          this.props.dispatch(setCameraURI(listImage));\r\n          this.props.dispatch(setGambarM(listImage));\r\n          this.setState({\r\n            count: i\r\n          })\r\n        };\r\n      }\r\n    }\r\n    console.log(this.state.files);\r\n    this.props.change(\"gambar\", listImage)\r\n  };\r\n\r\n  handleReaderLoaded = (readerEvt) => {\r\n    let binaryString = readerEvt.target.result;\r\n    this.setState({\r\n      imageBase64: btoa(binaryString),\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12 row\">\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            <div className=\"col-lg-6\">\r\n              <video\r\n                ref={this.videoRef}\r\n                autoPlay=\"true\"\r\n                width=\"100%\"\r\n                height=\"95%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center mb-2\">\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-primary btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() => this.takePhoto()}\r\n                >\r\n                  Ambil Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-danger btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                   { this.setState({\r\n                      dataUri: [],\r\n                    })\r\n                    this.props.dispatch(setGambarM([]))\r\n                    this.props.dispatch(setCameraURI([]))}\r\n                  }\r\n                >\r\n                  Reset Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            {\r\n              this.props.listGambarM?.map((data) => (\r\n                <div className=\"col-lg-3 mb-1 mt-1 ml-1 mr-1\">\r\n                  <img\r\n                    alt=\"imgCamera\"\r\n                    src={data?.lokasi_gambar}\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <h3>Silahkan Pilih Gambar</h3>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"gambar\"\r\n                label=\"Gambar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <div class=\"input-group mt-2\">\r\n              <div class=\"input-group-prepend\">\r\n                <button\r\n                  class=\"btn btn-danger\"\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      files: []\r\n                    });\r\n                    this.props.dispatch(setGambarM([]))\r\n                    this.props.dispatch(setCameraURI([]))\r\n                  }}\r\n                >\r\n                  Hapus\r\n                </button>\r\n              </div>\r\n              <div class=\"custom-file\">\r\n                <input\r\n                  className=\"custom-file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  name=\"avatar\"\r\n                  id=\"file\"\r\n                  accept=\".jpef, .png, .jpg\"\r\n                  onChange={(data) => this.handleUpload(data)}\r\n                  src={this.state.image}\r\n                />\r\n                <label class=\"custom-file-label\" for=\"inputGroupFile03\">\r\n                  Choose file\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Simpan\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormGambarPackingM = reduxForm({\r\n  form: \"FormGambarPackingM\",\r\n  enableReinitialize: true,\r\n  validate: validasiTransaksiPenjualan,\r\n})(FormGambarPackingM);\r\nexport default connect((state) => {\r\n  return {\r\n    cameraURI: state.provinsi.cameraURI,\r\n    listGambarM: state.provinsi.listGambarM || []\r\n  };\r\n})(FormGambarPackingM);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport validasiTransaksiPenjualan from \"../../Validations/validasiTransaksiPenjualan\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport { setCameraURI } from \"../../actions/cameraAction\";\r\nimport { renderField } from \"../../renderField\";\r\nimport { dataURLtoFile, resizeFile } from \"../../helper\";\r\nimport { setGambarS } from \"../../actions/PackingListAction\";\r\nimport CameraPhoto, { FACING_MODES } from \"jslib-html5-camera-photo\";\r\n\r\n\r\nclass FormGambarPackingS extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.cameraPhoto = null;\r\n    this.videoRef = React.createRef();\r\n    this.state = {\r\n      kodeBarang: [],\r\n      files: [],\r\n      dataUri: []\r\n    };\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\r\n    setTimeout(() => {\r\n      this.cameraPhoto.startCamera(FACING_MODES.ENVIRONMENT, {\r\n        width: 720,\r\n        height: 720,\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  async takePhoto() {\r\n    const config = {\r\n      sizeFactor: 1,\r\n      imageCompression: 0.1,\r\n      isImageMirror: false,\r\n    };\r\n    let foto = this.props.listGambarS;\r\n    const file = dataURLtoFile(this.cameraPhoto.getDataUri(config));\r\n    const res = await resizeFile(file);\r\n    foto.push({\"lokasi_gambar\" :  res})\r\n    console.log(JSON.stringify(foto));\r\n    this.setState({ dataUri: foto });\r\n    this.props.dispatch(setGambarS(foto))\r\n  }\r\n\r\n  stopCamera() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  handleUpload = async (e) => {\r\n\r\n    const file = e.target.files;\r\n    this.setState({\r\n      files: [...this.state.files, ...e.target.files]\r\n    })\r\n    let listImage = this.props.listGambarS;\r\n    for (let i = 0; i < file.length; i++) {\r\n      let reader = new FileReader();\r\n      reader.onload = this.handleReaderLoaded;\r\n      let compressed = await resizeFile(file[i]);\r\n      reader.readAsDataURL(file[i]);\r\n      if (reader !== undefined && file !== undefined) {\r\n        reader.onloadend = () => {\r\n          listImage.push({ \"lokasi_gambar\": compressed })\r\n          this.props.dispatch(setCameraURI(listImage));\r\n          this.props.dispatch(setGambarS(listImage));\r\n          this.setState({\r\n            count: i\r\n          })\r\n        };\r\n      }\r\n    }\r\n    console.log(JSON.stringify(listImage));\r\n    this.props.change(\"gambar\", listImage)\r\n  };\r\n\r\n  handleReaderLoaded = (readerEvt) => {\r\n    let binaryString = readerEvt.target.result;\r\n    this.setState({\r\n      imageBase64: btoa(binaryString),\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12 row\">\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            <div className=\"col-lg-6\">\r\n              <video\r\n                ref={this.videoRef}\r\n                autoPlay=\"true\"\r\n                width=\"100%\"\r\n                height=\"95%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center mb-2\">\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-primary btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() => this.takePhoto()}\r\n                >\r\n                  Ambil Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-danger btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                   { this.setState({\r\n                      dataUri: [],\r\n                    })\r\n                    this.props.dispatch(setGambarS([]))\r\n                    this.props.dispatch(setCameraURI([]))\r\n                  } \r\n                  }\r\n                >\r\n                  Reset Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            {\r\n              this.props.listGambarS?.map((data) => (\r\n                <div className=\"col-lg-3 mb-1 mt-1 ml-1 mr-1\">\r\n                  <img\r\n                    alt=\"imgCamera\"\r\n                    src={data?.lokasi_gambar}\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <h3>Silahkan Pilih Gambar</h3>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"gambar\"\r\n                label=\"Gambar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <div class=\"input-group mt-2\">\r\n              <div class=\"input-group-prepend\">\r\n                <button\r\n                  class=\"btn btn-danger\"\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      files: []\r\n                    });\r\n                    this.props.dispatch(setGambarS([]))\r\n                    this.props.dispatch(setCameraURI([]))\r\n                  }}\r\n                >\r\n                  Hapus\r\n                </button>\r\n              </div>\r\n              <div class=\"custom-file\">\r\n                <input\r\n                  className=\"custom-file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  name=\"avatar\"\r\n                  id=\"file\"\r\n                  accept=\".jpef, .png, .jpg\"\r\n                  onChange={(data) => this.handleUpload(data)}\r\n                  src={this.state.image}\r\n                />\r\n                <label class=\"custom-file-label\" for=\"inputGroupFile03\">\r\n                  Choose file\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Simpan\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormGambarPackingS = reduxForm({\r\n  form: \"FormGambarPackingS\",\r\n  enableReinitialize: true,\r\n  validate: validasiTransaksiPenjualan,\r\n})(FormGambarPackingS);\r\nexport default connect((state) => {\r\n  return {\r\n    cameraURI: state.provinsi.cameraURI,\r\n    listGambarS: state.provinsi.listGambarS || []\r\n  };\r\n})(FormGambarPackingS);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, formValueSelector, reset } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport {\r\n  calculate_barcode_level2,\r\n  calculate_barcode_level3,\r\n  setFocus,\r\n} from \"../../helper\";\r\nimport { AxiosMasterGet } from \"../../Axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getListTransaksiPenjualan } from \"../../actions/transaksiPenjualanAction\";\r\nimport { getTotalNW } from \"../../actions/returnPenjualanAction\";\r\nimport { gagal, warning } from \"../../Alert\";\r\nimport { getNetto } from \"../../actions/LogicAction\";\r\nimport { hideModal } from \"../../actions/ModalAction\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass FormPackingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      kodeBarang: [],\r\n      non_aksesoris: \"col-lg-12 row\",\r\n      aksesoris: \"col-lg-12 row d-none\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    // getTimbangan(this.props.change);\r\n  }\r\n\r\n  onclick1() {\r\n    this.props.change(\"netto\", this.props.netto);\r\n    this.props.change(\"noFaktur\", this.props.noFaktur);\r\n    this.props.change(\"gross\", this.props.gross);\r\n    this.props.change(\"discGlobalGr\", this.props.discGlobalGr);\r\n    this.props.change(\r\n      \"nettoDiscGlobalExt\",\r\n      (this.props.netto - this.props.discGlobalGr).toFixed(3)\r\n    );\r\n  }\r\n\r\n  pilihBarang(data) {\r\n    let param = data;\r\n    let hasil = this.props.KodeBarangList.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    let customer = localStorage.getItem(\"customer_1\") || \"-\";\r\n    AxiosMasterGet(\r\n      `/kelompok-harga/get/by-jenis-and-customer/${customer}&${data}`\r\n    ).then((res) => {\r\n      if (\r\n        res.data?.kode_tukar_normal === undefined ||\r\n        res.data?.kode_tukar_normal === \"undefined\"\r\n      ) {\r\n        warning(\r\n          \"Kode Tukar Belum Ditentukan ,Mohon tentukan Kode Tukar di menu kelompok harga\"\r\n        );\r\n        this.props.change(\"kodeBarang\");\r\n        return false;\r\n      }\r\n      if (res.data?.kode_kelompok === \"AKSESORIS\") {\r\n        this.setState({\r\n          non_aksesoris: \"col-lg-12 row d-none\",\r\n          aksesoris: \"col-lg-12 row\",\r\n        });\r\n      } else {\r\n        this.setState({\r\n          non_aksesoris: \"col-lg-12 row\",\r\n          aksesoris: \"col-lg-12 row d-none\",\r\n        });\r\n      }\r\n      this.setState({\r\n        kodeJenis: hasil[0].kode_jenis,\r\n        namaJenis: hasil[0].nama_jenis,\r\n        kadarCetak: res.data?.kode_tukar_normal,\r\n        kadarJual: res.data?.kode_tukar_normal,\r\n        kodeKategori: res.data?.kode_kategori,\r\n        namaKategori: res.data?.nama_kategori,\r\n        harga_jual: res.data?.harga_aksesoris,\r\n      });\r\n      this.setKadar();\r\n      setFocus(\"Plastik\");\r\n    });\r\n  }\r\n\r\n  setKadar() {\r\n    this.props.change(\"keterangan\", this.state.namaJenis);\r\n    this.props.change(\"namaJenis\", this.state.namaJenis);\r\n    this.props.change(\"kadar\", this.state.kadarCetak);\r\n    this.props.change(\"harga_jual\", this.state.harga_jual);\r\n    this.props.change(\"kadarTransaksi\", this.state.kadarJual);\r\n  }\r\n\r\n  setBruto() {\r\n    this.props.change(\"bruto\", localStorage.getItem(\"Timbangan\"));\r\n  }\r\n\r\n  handleBarcode = () => (e) => {\r\n    let hasil = e.target.value;\r\n    if (hasil.length === 14) {\r\n      AxiosMasterGet(\"barang-set/get-by-kode-barcode-set-active/\" + hasil).then(\r\n        (res) => {\r\n          res.data.detail_barang.forEach((data) => {\r\n            this.handleBarcodeSet(data, res.data.kode_barcode_set);\r\n          });\r\n        }\r\n      );\r\n      return true;\r\n    } else {\r\n      let split = hasil.split(\"X\");\r\n      this.props.change(\"kodeBarang\", split[0]);\r\n      this.setState({\r\n        kodeJenis: split[0],\r\n        kadarCetak: split[1],\r\n        kadarJual: split[2],\r\n      });\r\n    }\r\n  };\r\n\r\n  handleBarcodeSet(data, barcode) {\r\n    console.log(\"INI DI BARCODE SET\");\r\n    let param = data.kode_jenis;\r\n    let hasil = this.props.KodeBarangList.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n\r\n    AxiosMasterGet(`jenis/get/by-kode-jenis/${data.kode_jenis}`)\r\n      .then((res) => {\r\n        var simpan = {\r\n          netto_disc: parseFloat(data.netto_disc || 0).toFixed(3),\r\n          gross: parseFloat(data.gross || 0).toFixed(3), //berat + bungkus\r\n          netto: parseFloat(data.netto || 0).toFixed(3), //murni\r\n          qty: 1,\r\n          k: parseFloat(data.k || 0),\r\n          ongkos_rp: parseFloat(data.ongkos_rp || 0), //ongkos\r\n          kadar_cetak: (hasil[0].kadar_cetak || 0).toString(),\r\n          disc_persen: data.disc_persen || 0,\r\n          kadar_jual: parseFloat(data.kadar_jual || 0), //harga%\r\n          kadar_level2: res.data.level2,\r\n          kadar_level3: res.data.level3,\r\n          kadar_modal: hasil[0].kadar_beli, //harga%\r\n          kode_jenis: hasil[0].kode_jenis, //kodebarang\r\n          kode_barcode: \"-\",\r\n          kode_barcode_set: barcode,\r\n          p: parseFloat(data.p || 0),\r\n          disc: data.disc || 0,\r\n          pkg: parseFloat(data.pkg || 0),\r\n          bruto: parseFloat(data.bruto || 0).toFixed(3), //berat\r\n        };\r\n        var simpan_level2 = calculate_barcode_level2({\r\n          data: data,\r\n          hasil: hasil,\r\n          res: res,\r\n          kode_barcode_set: barcode,\r\n        });\r\n        var simpan_level3 = calculate_barcode_level3({\r\n          data: data,\r\n          res: res,\r\n          hasil: hasil,\r\n          kode_barcode_set: barcode,\r\n        });\r\n\r\n        var array =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan\")) || [];\r\n        var array_level2 =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan_level2\")) || [];\r\n        var array_level3 =\r\n          JSON.parse(localStorage.getItem(\"transaksiPenjualan_level3\")) || [];\r\n        array.push(simpan);\r\n        array_level2.push(simpan_level2);\r\n        array_level3.push(simpan_level3);\r\n        var GrandTotalNetto = array\r\n          .map((list) => parseFloat(list.netto_disc))\r\n          .reduce((a, b) => a + b, 0);\r\n        localStorage.setItem(\"GrandTotalNetto\", GrandTotalNetto);\r\n        localStorage.setItem(\"transaksiPenjualan\", JSON.stringify(array));\r\n        localStorage.setItem(\r\n          \"transaksiPenjualan_level2\",\r\n          JSON.stringify(array_level2)\r\n        );\r\n        localStorage.setItem(\r\n          \"transaksiPenjualan_level3\",\r\n          JSON.stringify(array_level3)\r\n        );\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n        this.props.dispatch(getListTransaksiPenjualan());\r\n        this.props.dispatch(getTotalNW());\r\n        this.props.dispatch(reset(\"FormPackingList\"));\r\n        this.props.dispatch(hideModal());\r\n        this.props.dispatch(getNetto(\"transaksiPenjualan\"));\r\n        this.setState({\r\n          discGlobalGr:\r\n            (parseFloat(0) / 100) *\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")),\r\n          discGlobalPr: 0,\r\n          GrandTotalNetto: (\r\n            parseFloat(localStorage.getItem(\"GrandTotalNetto\")) - 0\r\n          ).toFixed(3),\r\n        });\r\n      })\r\n      .catch((err) =>\r\n        gagal(\"Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu\")\r\n      );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 col-lg-12 d-none\">\r\n            <Field\r\n              name=\"noFaktur\"\r\n              label={this.props.noFaktur}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              component={renderField}\r\n              defaultValue={this.props.noFaktur}\r\n              normalize={(value) => value && value.toUpperCase()}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-4\">\r\n            {String(this.props.KodeBarangList) !== \"\" ? (\r\n              <Field\r\n                name=\"kodeBarang\"\r\n                label=\"Kode Model\"\r\n                component={renderFieldSelect}\r\n                className=\"form-control\"\r\n                onChange={(data) => this.pilihBarang(data)}\r\n                onBlur={this.setKadar()}\r\n                options={this.props.KodeBarangList.filter(\r\n                  (data) =>\r\n                    data.kode_kelompok === \"PERHIASAN\" ||\r\n                    data.kode_kelompok === \"AKSESORIS\"\r\n                ).map((kode) => {\r\n                  let data = {\r\n                    value: kode.kode_jenis,\r\n                    name: kode.nama_jenis,\r\n                  };\r\n                  return data;\r\n                })}\r\n              />\r\n            ) : (\r\n              <Skeleton width={\"100%\"} height={50} />\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-4 col-lg-4\">\r\n            <Field\r\n              name=\"kode_barocde\"\r\n              label=\"Kode Barcode\"\r\n              type=\"text\"\r\n              component={renderField}\r\n              placeholder=\"Biarkan Kosong jika Tidak Digunakan\"\r\n              normalize={(value) => value && value.toUpperCase()}\r\n              onChange={this.handleBarcode()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\"></div>\r\n          <div className={this.state.non_aksesoris}>\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"kadar\"\r\n                label=\"Kode Tukar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"p\"\r\n                label=\"Plastik\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"k\"\r\n                label=\"Kertas\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"pkg\"\r\n                label=\"Pkg (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"namaJenis\"\r\n                label=\"Pkg (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"bruto\"\r\n                label=\"Berat (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onChange={this.onclick1()}\r\n                // onChange={this.setBruto()}\r\n                // onBlur={this.setBruto()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"kadarTransaksi\"\r\n                label=\"Kode Tukar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"netto\"\r\n                label=\"Netto (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"gross\"\r\n                label=\"Gross (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"discGlobalPr\"\r\n                label=\"Diskon (%)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                onBlur={() => this.onclick1()}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"discGlobalGr\"\r\n                label=\"Diskon (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"nettoDiscGlobalExt\"\r\n                label=\"Netto - Diskon (Gr)\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <label htmlFor=\"\">Ongkos (Rp)</label>\r\n              <Field\r\n                name=\"rp\"\r\n                component=\"input\"\r\n                type=\"tel\"\r\n                className=\"form-control\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={this.state.aksesoris}>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <Field\r\n                name=\"qty\"\r\n                label=\"Qty\"\r\n                type=\"number\"\r\n                component={renderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 col-lg-3\">\r\n              <label htmlFor=\"\">Harga Jual</label>\r\n              <Field\r\n                name=\"harga_jual\"\r\n                label=\"Harga Jual\"\r\n                component=\"input\"\r\n                type=\"tel\"\r\n                className=\"form-control\"\r\n                {...currencyMask}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Simpan\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormPackingList = reduxForm({\r\n  form: \"FormPackingList\",\r\n  enableReinitialize: true,\r\n})(FormPackingList);\r\nconst selector = formValueSelector(\"FormPackingList\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { bruto, kadarTransaksi, pkg, discGlobalPr } = selector(\r\n    state,\r\n    \"bruto\",\r\n    \"kadarTransaksi\",\r\n    \"pkg\",\r\n    \"discGlobalPr\"\r\n  );\r\n  return {\r\n    netto: (\r\n      parseFloat(bruto || 0) *\r\n      (parseFloat(kadarTransaksi || 0) / 100)\r\n    ).toFixed(3),\r\n    gross: parseFloat(bruto || 0) + parseFloat(pkg || 0),\r\n    discGlobalGr: (\r\n      parseFloat(bruto || 0) *\r\n      (parseFloat(discGlobalPr || 0) / 100)\r\n    ).toFixed(3),\r\n    KodeBarangList: state.provinsi.kodeBarang,\r\n    initialValues: {\r\n      discGlobalPr: 0,\r\n      p: 0,\r\n      k: 0,\r\n      pkg: 0,\r\n      bruto: 0,\r\n    },\r\n  };\r\n})(FormPackingList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { formValueSelector, reduxForm, reset } from \"redux-form\";\r\nimport {\r\n  getListBarangPacking,\r\n  setCustomer,\r\n} from \"../../actions/PackingListAction\";\r\nimport { getListPOPacking } from \"../../actions/validasiPOAction\";\r\nimport { berhasil, warning } from \"../../Alert\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\nimport { formatGram } from \"../../helper\";\r\n\r\nclass AccordPOPAckingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"no_bon\",\r\n          text: \"Nomor Bon\",\r\n        },\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"kode_lokasi\",\r\n          text: \"Lokasi\",\r\n        },\r\n        {\r\n          dataField: \"total_netto\",\r\n          text: \"Total\\nNetto(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"disc\",\r\n          text: \"Disc(%)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"total_netto_disc\",\r\n          text: \"Total\\nNetto Disc(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-success mr-2\"\r\n                  onClick={() =>\r\n                    this.pilihPO(row.detail_barang, row.no_bon, row)\r\n                  }\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Pilih</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-plus\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  pilihPO(simpan, no_bon, row) {\r\n    localStorage.setItem(\"packingListSelected\", no_bon);\r\n    var array = JSON.parse(localStorage.getItem(\"packingList_temp\")) || [];\r\n    var arrayNota = JSON.parse(localStorage.getItem(\"nota_packingList\")) || [];\r\n    if (array.length > 0) {\r\n      warning(\r\n        \"Barang Packing List Sudah terdapat barang, silahkan selesaikan atau refresh halaman\"\r\n      );\r\n      return false;\r\n    }\r\n    simpan.forEach((data) => {\r\n      delete data.kode_kategori;\r\n      delete data.nama_jenis;\r\n      delete data._id;\r\n      data.kadar_cetak = data.kadar_cetak.toString();\r\n      array.push(data);\r\n    });\r\n    simpan.forEach((nota) => {\r\n      arrayNota.push(nota);\r\n    });\r\n    berhasil(\"Data Berhasil Ditambahkan\");\r\n    localStorage.setItem(\"packingList_temp\", JSON.stringify(array));\r\n    localStorage.setItem(\"nota_packingList\", JSON.stringify(arrayNota));\r\n    this.props.dispatch(\r\n      setCustomer(\r\n        row.kode_customer,\r\n        row.kode_customer_level2,\r\n        row.kode_customer_level3,\r\n        row.nama_customer,\r\n        row.nama_customer_level2,\r\n        row.nama_customer_level3,\r\n        row.level_customer_trx\r\n      )\r\n    );\r\n    this.props.dispatch(reset(\"FormTransaksiPenjualan\"));\r\n    this.props.dispatch(getListBarangPacking());\r\n  }\r\n  getPO() {\r\n    if (this.props.kode_customer === undefined) {\r\n      warning(\"Silahkan Pilih Kode Customer Terlebih dahulu\");\r\n      return false;\r\n    } else {\r\n      this.props.dispatch(getListPOPacking(this.props.kode_customer));\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-12 mt-2\">\r\n        <div id=\"accordion\" className=\"custom-accordion mb-4\">\r\n          <div className=\"card mb-0 bg-primary\">\r\n            <div className=\"card-header\" id=\"headingOne\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <h5 className=\"m-0\">\r\n                    <a\r\n                      className=\"custom-accordion-title d-block pt-2 pb-2 text-white\"\r\n                      data-toggle=\"collapse\"\r\n                      href=\"#collapsePO\"\r\n                      aria-expanded=\"true\"\r\n                      aria-controls=\"collapsePO\"\r\n                    >\r\n                      Data Transaksi\r\n                    </a>\r\n                  </h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              id=\"collapsePO\"\r\n              className=\"collapse\"\r\n              aria-labelledby=\"headingOne\"\r\n              data-parent=\"#accordion\"\r\n            >\r\n              <div className=\"card-body bg-white\">\r\n                <form onSubmit={this.props.handleSubmit}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-2\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"\">&nbsp;</label>\r\n                        <button\r\n                          className=\"btn btn-primary form-control\"\r\n                          type=\"button\"\r\n                          onClick={() => this.getPO()}\r\n                        >\r\n                          Cari Transaksi\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-12\">\r\n                      <p>\r\n                        *Mohon isi Kode Customer Terlebih dahulu sebelum mencari\r\n                        Transaksi\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"col-lg-12\">\r\n                      <GlobalTabel\r\n                        keyField=\"kodeJenis\"\r\n                        data={this.props.listPOPacking || []}\r\n                        columns={this.state.columns}\r\n                        textEmpty=\"Silahkan Tambah Data Dengan Klik Tombol Biru Diatas\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAccordPOPAckingList = reduxForm({\r\n  form: \"AccordPOPAckingList\",\r\n  enableReinitialize: true,\r\n})(AccordPOPAckingList);\r\nconst selector = formValueSelector(\"AccordPOPAckingList\");\r\nexport default connect((state) => {\r\n  const { kode_po } = selector(\r\n    state,\r\n    \"kode_po\",\r\n    \"kadarTransaksi\",\r\n    \"pkg\",\r\n    \"discGlobalPr\"\r\n  );\r\n  return {\r\n    listPOPacking: state.provinsi.listPOPacking,\r\n    kode_po: kode_po,\r\n  };\r\n})(AccordPOPAckingList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getcustomerList } from \"../../actions/customerAction\";\r\nimport {\r\n  getListBarangPacking,\r\n  getListBarangPackingM,\r\n  getListBarangPackingS,\r\n  setGambarL,\r\n} from \"../../actions/PackingListAction\";\r\nimport { berhasil, warning } from \"../../Alert\";\r\nimport GlobalTabel from \"../../GlobalComponent/GlobalTabel\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport AccordPOPAckingList from \"./AccordPOPackingList\";\r\nimport uuid from \"react-uuid\";\r\nimport { formatGram, formatRp, resizeFile } from \"../../helper\";\r\nimport { setCameraURI } from \"../../actions/cameraAction\";\r\nimport { getToday } from \"../../getDate\";\r\n\r\nclass HeadPackingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tablePO: true,\r\n      image: \"\",\r\n      kodeCustomer: \"\",\r\n      add: true,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_jenis\",\r\n          text: \"Kode Model\",\r\n        },\r\n        {\r\n          dataField: \"qty\",\r\n          text: \"Qty\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          headerStyle: () => {\r\n            return { width: \"5%\" };\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kadar_cetak\",\r\n          text: \"Cap Kode\\n\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"pkg\",\r\n          text: \"Pkg\\n(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          headerStyle: () => {\r\n            return { width: \"7%\" };\r\n          },\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Berat\\n(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"kadar_jual\",\r\n          text: \"Kode\\nTukar\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Murni\\n(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"disc_persen\",\r\n          text: \"%\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n        },\r\n        {\r\n          dataField: \"disc\",\r\n          text: \"Disc\\n(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data),\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n        },\r\n        {\r\n          dataField: \"netto_disc\",\r\n          text: \"Netto\\nDisc(Gr)\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"harga_jual\",\r\n          text: \"Harga Jual\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n          formatter: (data) => formatRp(data),\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger mr-2\"\r\n                  onClick={() => this.deleteRow(rowIndex, \"packingList_temp\")}\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash mr-1\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      columnsPackingS: [\r\n        {\r\n          dataField: \"total_item\",\r\n          text: \"Total Qty\",\r\n        },\r\n        {\r\n          dataField: \"berat_p_s\",\r\n          text: \"Berat Packing S\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"pkg_s\",\r\n          text: \"Total Packing Barang\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"bruto_s\",\r\n          text: \"TOtal Bruto\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"netto_s\",\r\n          text: \"Total Netto\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger mr-2\"\r\n                  onClick={() => this.deleteRow(rowIndex, \"PackingS\")}\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash mr-1\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      columnsPackingM: [\r\n        {\r\n          dataField: \"total_item\",\r\n          text: \"Total Qty\",\r\n        },\r\n        {\r\n          dataField: \"berat_p_m\",\r\n          text: \"Berat Packing M\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"pkg_m\",\r\n          text: \"Total Packing Barang\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"bruto_m\",\r\n          text: \"Total Bruto\",\r\n          formatter: (data) => formatGram(data),\r\n        },\r\n        {\r\n          dataField: \"netto_m\",\r\n          text: \"Total Netto\",\r\n          formatter: (data) => formatGram(data, 3),\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row, rowIndex) => {\r\n            return (\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  data-tip\r\n                  data-for=\"hapus\"\r\n                  className=\"btn btn-danger mr-2\"\r\n                  onClick={() => this.deleteRow(rowIndex, \"PackingM\")}\r\n                >\r\n                  <ReactTooltip id=\"hapus\" type=\"dark\" effect=\"solid\">\r\n                    <span>Hapus</span>\r\n                  </ReactTooltip>\r\n                  <i className=\"fa fa-trash mr-1\"></i>\r\n                </button>\r\n                <br />\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      files: [],\r\n    };\r\n  }\r\n\r\n  deleteRow(rowIndex, tabel) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin ?\",\r\n      text: \"Anda Akan Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        const array = JSON.parse(localStorage.getItem(tabel)) || [];\r\n        array.splice(rowIndex, 1);\r\n        localStorage.setItem(tabel, JSON.stringify(array));\r\n        berhasil(\"Berhasil Hapus Data\");\r\n        this.props.dispatch(getcustomerList());\r\n        this.props.dispatch(getListBarangPackingS());\r\n        this.props.dispatch(getListBarangPackingM());\r\n        this.props.dispatch(getListBarangPacking());\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getcustomerList());\r\n    this.props.dispatch(getListBarangPackingS());\r\n    this.props.dispatch(getListBarangPackingM());\r\n  }\r\n\r\n  handlePackingM() {\r\n    let data = JSON.parse(localStorage.getItem(\"PackingS\")) || [];\r\n    if (data.length === 0) {\r\n      warning(\"Data Packing S Kosong\");\r\n      return false;\r\n    }\r\n    let sebelum = JSON.parse(localStorage.getItem(\"PackingM\")) || [];\r\n    let pkg = data\r\n      .map((data) => parseFloat(data.pkg_s))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let bruto = data\r\n      .map((data) => parseFloat(data.bruto_s))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let netto = data\r\n      .map((data) => parseFloat(data.netto_s))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let berat = data\r\n      .map((data) => parseFloat(data.berat_p_s))\r\n      .reduce((a, b) => a + b, 0);\r\n    let total_item = data\r\n      .map((data) => parseFloat(data.total_item))\r\n      .reduce((a, b) => a + b, 0);\r\n    let simpan = {\r\n      no_packing_m: uuid(),\r\n      total_item: total_item,\r\n      berat_p_m: this.props.berat_p_m,\r\n      total_berat_p_s: berat,\r\n      pkg_m: pkg,\r\n      bruto_m: bruto,\r\n      netto_m: netto,\r\n      packing_s: data,\r\n      gambar: this.props.listGambarM || [],\r\n    };\r\n    sebelum.push(simpan);\r\n    localStorage.setItem(\"PackingM\", JSON.stringify(sebelum));\r\n    berhasil(\"Berhasil Menambahkan ke Packing M\");\r\n    localStorage.removeItem(\"PackingS\");\r\n    this.props.dispatch(getListBarangPackingS());\r\n    this.props.dispatch(getListBarangPackingM());\r\n  }\r\n\r\n  handlePackingS() {\r\n    let data = JSON.parse(localStorage.getItem(\"packingList_temp\")) || [];\r\n    if (data.length === 0) {\r\n      warning(\"Barang Kosong\");\r\n      return false;\r\n    }\r\n    let sebelum = JSON.parse(localStorage.getItem(\"PackingS\")) || [];\r\n    let pkg = data\r\n      .map((data) => parseFloat(data.pkg))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let bruto = data\r\n      .map((data) => parseFloat(data.bruto))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let netto = data\r\n      .map((data) => parseFloat(data.netto))\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(3);\r\n    let simpan = {\r\n      no_packing_s: uuid(),\r\n      total_item: data.length,\r\n      berat_p_s: this.props.berat_p_s,\r\n      pkg_s: pkg,\r\n      bruto_s: bruto,\r\n      netto_s: netto,\r\n      detail_barang: data,\r\n      gambar: this.props.listGambarS || [],\r\n    };\r\n    sebelum.push(simpan);\r\n    localStorage.setItem(\"PackingS\", JSON.stringify(sebelum));\r\n    berhasil(\"Berhasil Menambahkan ke Packing S\");\r\n    localStorage.removeItem(\"packingList_temp\");\r\n    this.props.dispatch(getListBarangPacking());\r\n    this.props.dispatch(getListBarangPackingS());\r\n  }\r\n\r\n  handleUpload = async (e) => {\r\n    const file = e.target.files;\r\n    this.setState({\r\n      files: [...this.state.files, ...e.target.files],\r\n    });\r\n    let listImage = [];\r\n    for (let i = 0; i < file.length; i++) {\r\n      let reader = new FileReader();\r\n      reader.onload = this.handleReaderLoaded;\r\n      let compressed = await resizeFile(file[i]);\r\n      reader.readAsDataURL(file[i]);\r\n      if (reader !== undefined && file !== undefined) {\r\n        reader.onloadend = () => {\r\n          listImage.push({ lokasi_gambar: compressed });\r\n          this.props.dispatch(setCameraURI(listImage));\r\n          this.setState({\r\n            count: i,\r\n          });\r\n        };\r\n      }\r\n      this.props.dispatch(setGambarL(listImage));\r\n    }\r\n  };\r\n\r\n  handleReaderLoaded = (readerEvt) => {\r\n    let binaryString = readerEvt.target.result;\r\n    this.setState({\r\n      imageBase64: btoa(binaryString),\r\n    });\r\n  };\r\n\r\n  refresh() {\r\n    this.setState({\r\n      add: !this.state.add,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"tanggal\"\r\n                component={renderField}\r\n                type=\"date\"\r\n                label=\"Tanggal\"\r\n                placeholder=\"Masukan Tanggal\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <Field\r\n                name=\"no_packing\"\r\n                component={renderField}\r\n                type=\"text\"\r\n                label=\"Nomor Packing\"\r\n                placeholder=\"Masukan Nomor Packing\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"kode_customer\"\r\n                component={renderFieldSelect}\r\n                options={this.props.customer.map((data) => {\r\n                  let hasil = {\r\n                    value: data.kode_customer,\r\n                    name: `${data.nama_customer} - ${data.nama_toko}`,\r\n                  };\r\n                  return hasil;\r\n                })}\r\n                onChange={(data) => {\r\n                  this.setState({\r\n                    kodeCustomer: data,\r\n                  });\r\n                  localStorage.setItem(\"customer_1\", data);\r\n                }}\r\n                type=\"text\"\r\n                label=\"Kode Customer\"\r\n                placeholder=\"Masukan Kode Customer\"\r\n              />\r\n            </div>\r\n            {/* <div className=\"col-lg-12\">\r\n              <div className=\"text-right\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.props.showTambahBarang}\r\n                  disabled={this.state.kodeCustomer === \"\"}\r\n                >\r\n                  Tambah Data Barang\r\n                </button>\r\n              </div>\r\n            </div> */}\r\n\r\n            <AccordPOPAckingList kode_customer={this.props.kode_customer} />\r\n            <div className=\"col-lg-12\">\r\n              <GlobalTabel\r\n                keyField=\"kodeJenis\"\r\n                data={this.props.packingList || []}\r\n                columns={this.state.columns}\r\n                textEmpty=\"Data Untuk Dipacking Kosong, Silahkan Tambahkan dengan menekan tombol biru diatas\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <label htmlFor=\"\">&nbsp;</label>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary form-control\"\r\n                onClick={this.props.showPackingL}\r\n              >\r\n                Upload Gambar\r\n              </button>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"qty_kertas\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Qty Kertas\"\r\n                    placeholder=\"1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"qty_plastik\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Qty Plastik\"\r\n                    placeholder=\"1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"berat_packing\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Brt Kertas + Plastik\"\r\n                    placeholder=\"1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-2\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"berat_bungkus\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Brt Bungkus\"\r\n                    placeholder=\"1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"col-lg-4\">\r\n              <div className=\"text-right form-group\">\r\n                <label htmlFor=\"\">&nbsp;</label>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary form-control\"\r\n                  onClick={() => this.handlePackingS()}\r\n                >\r\n                  Simpan Packing S\r\n                </button>\r\n              </div>\r\n            </div> */}\r\n            {/* <div className=\"col-lg-12\">\r\n              <hr />\r\n            </div>\r\n            <div className=\"col-lg-12\">\r\n              <GlobalTabel\r\n                keyField=\"kodeJenis\"\r\n                data={this.props.listPackingS || []}\r\n                columns={this.state.columnsPackingS}\r\n                textEmpty=\"Data Packing S Kosong\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <label htmlFor=\"\">&nbsp;</label>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary form-control\"\r\n                onClick={this.props.showPackingM}\r\n              >\r\n                Upload Gambar Packing M\r\n              </button>\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"berat_p_m\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Berat Packing M\"\r\n                    placeholder=\"Masukan Berat Packing M\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"text-right form-group\">\r\n                <label htmlFor=\"\">&nbsp;</label>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary form-control\"\r\n                  onClick={() => this.handlePackingM()}\r\n                >\r\n                  Simpan Packing M\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-12\">\r\n              <hr />\r\n            </div>\r\n            <div className=\"col-lg-12\">\r\n              <GlobalTabel\r\n                keyField=\"kodeJenis\"\r\n                data={this.props.listPackingM || []}\r\n                columns={this.state.columnsPackingM}\r\n                textEmpty=\"Data Packing S Kosong\"\r\n              />\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <label htmlFor=\"\">&nbsp;</label>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary form-control\"\r\n                onClick={this.props.showPackingL}\r\n              >\r\n                Upload Gambar Packing L\r\n              </button>\r\n            </div>\r\n            <div className=\"col-lg-1\"></div>\r\n            <div className=\"col-lg-3\">\r\n              <div style={{ float: \"right\" }}>\r\n                <div className=\"col-lg-12\">\r\n                  <Field\r\n                    name=\"berat_p_l\"\r\n                    component={renderField}\r\n                    type=\"number\"\r\n                    label=\"Berat Packing L\"\r\n                    placeholder=\"Masukan Berat Packing L\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n            <div className=\"col-lg-2\">\r\n              <div className=\"text-right form-group\">\r\n                <label htmlFor=\"\">&nbsp;</label>\r\n                <button\r\n                  className=\"btn btn-primary form-control\"\r\n                  disabled={this.props.onSend}\r\n                >\r\n                  {this.props.onSend ? (\r\n                    <span\r\n                      className=\"spinner-border spinner-border-sm mr-3\"\r\n                      aria-hidden=\"true\"\r\n                    ></span>\r\n                  ) : null}\r\n                  Selesai\r\n                  <i class=\"fa fa-paper-plane ml-3\" aria-hidden=\"true\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadPackingList = reduxForm({\r\n  form: \"HeadPackingList\",\r\n})(HeadPackingList);\r\nconst selector = formValueSelector(\"HeadPackingList\");\r\nexport default connect((state) => {\r\n  const { berat_p_s, berat_p_m, kode_customer } = selector(\r\n    state,\r\n    \"berat_p_s\",\r\n    \"berat_p_m\",\r\n    \"kode_customer\"\r\n  );\r\n  return {\r\n    customer: state.provinsi.customer,\r\n    packingList: state.provinsi.packingList,\r\n    berat_p_s: parseFloat(berat_p_s || 0),\r\n    berat_p_m: parseFloat(berat_p_m || 0),\r\n    listPackingS: state.provinsi.listPackingS,\r\n    listPackingM: state.provinsi.listPackingM,\r\n    kode_customer: kode_customer,\r\n    onSend: state.provinsi.onSend,\r\n    initialValues: {\r\n      tanggal: getToday(),\r\n      berat_p_s: 0,\r\n      berat_p_m: 0,\r\n      berat_p_l: 0,\r\n    },\r\n    cameraURI: state.provinsi.cameraURI,\r\n    listGambarS: state.provinsi.listGambarS,\r\n    listGambarM: state.provinsi.listGambarM,\r\n  };\r\n})(HeadPackingList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reset } from \"redux-form\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport { hideModal, showModal } from \"../actions/ModalAction\";\r\nimport {\r\n  getListBarangPacking,\r\n  getListBarangPackingM,\r\n  setGambarL,\r\n  setGambarM,\r\n  setGambarS,\r\n} from \"../actions/PackingListAction\";\r\nimport { berhasil, gagal, warning } from \"../Alert\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport ModalMasterData from \"../DataMaster/Component/ModalMasterData\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport { formatGram, PlaceHolder } from \"../helper\";\r\nimport FormGambarPackingL from \"./Component/FormGambarPackingL\";\r\nimport FormGambarPackingM from \"./Component/FormGambarPackingM\";\r\nimport FormGambarPackingS from \"./Component/FormGambarPackingS\";\r\nimport FormPackingList from \"./Component/FormPackingList\";\r\nimport HeadPackingList from \"./Component/HeadPackingList\";\r\nimport PrintNotaSuratJalan from \"../Stocking/Component/PrintNotaSuratJalan\";\r\nimport { finishSend, progressSend } from \"../actions/LogicAction\";\r\n\r\nclass PackingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showModal: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarangPacking());\r\n    this.props.dispatch(getUUID());\r\n    localStorage.removeItem(\"nota_packingList\");\r\n  }\r\n  handleSubmit(data) {\r\n    let param = data.kodeBarang;\r\n    let hasil = this.props.kodeBarang.filter(\r\n      (data) => data.kode_jenis === param\r\n    );\r\n    var simpan = {\r\n      netto_disc: parseFloat(data.nettoDiscGlobalExt).toFixed(3) || 0,\r\n      gross: parseFloat(data.gross).toFixed(3) || 0, //berat + bungkus\r\n      netto: parseFloat(data.netto).toFixed(3) || 0, //murni\r\n      qty: data.qty || 1,\r\n      k: parseFloat(data.k) || 0,\r\n      ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp) || 0, //ongkos\r\n      kadar_cetak: (hasil[0].kadar_cetak || 0).toString(),\r\n      disc_persen: data.discGlobalPr || 0,\r\n      kadar_jual: hasil[0].kadar_jual || 0, //harga%\r\n      kadar_modal: hasil[0].kadar_beli || 0, //harga%\r\n      kode_jenis: hasil[0].kode_jenis || 0, //kodebarang\r\n      kode_barcode: \"-\",\r\n      p: parseFloat(data.p) || 0,\r\n      disc: data.discGlobalGr || 0,\r\n      pkg: parseFloat(data.pkg) || 0,\r\n      bruto: parseFloat(data.bruto).toFixed(3) || 0, //berat\r\n      gambar: data.gambar,\r\n      harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual || 0,\r\n    };\r\n    var simpanNota = {\r\n      netto_disc: parseFloat(data.nettoDiscGlobalExt).toFixed(3) || 0,\r\n      gross: parseFloat(data.gross).toFixed(3) || 0, //berat + bungkus\r\n      netto: parseFloat(data.netto).toFixed(3) || 0, //murni\r\n      qty: data.qty || 1,\r\n      k: parseFloat(data.k) || 0,\r\n      ongkos_rp: parseFloat(data.rp === undefined ? 0 : data.rp) || 0, //ongkos\r\n      kadar_cetak: (hasil[0].kadar_cetak || 0).toString(),\r\n      disc_persen: data.discGlobalPr || 0,\r\n      kadar_jual: hasil[0].kadar_jual || 0, //harga%\r\n      kadar_modal: hasil[0].kadar_beli || 0, //harga%\r\n      kode_jenis: hasil[0].kode_jenis || 0, //kodebarang\r\n      kode_barcode: \"-\",\r\n      p: parseFloat(data.p) || 0,\r\n      disc: data.discGlobalGr || 0,\r\n      pkg: parseFloat(data.pkg) || 0,\r\n      bruto: parseFloat(data.bruto).toFixed(3) || 0, //berat\r\n      gambar: data.gambar,\r\n      harga_jual: data.harga_jual === \"undefined\" ? 0 : data.harga_jual || 0,\r\n      nama_jenis: data.namaJenis,\r\n    };\r\n    var array = JSON.parse(localStorage.getItem(\"packingList_temp\")) || [];\r\n    var arrayNota = JSON.parse(localStorage.getItem(\"nota_packingList\")) || [];\r\n    array.push(simpan);\r\n    arrayNota.push(simpanNota);\r\n    berhasil(\"Data Berhasil Ditambahkan\");\r\n    localStorage.setItem(\"packingList_temp\", JSON.stringify(array));\r\n    localStorage.setItem(\"nota_packingList\", JSON.stringify(arrayNota));\r\n    this.props.dispatch(reset(\"FormTransaksiPenjualan\"));\r\n    this.props.dispatch(getListBarangPacking());\r\n  }\r\n\r\n  handlePacking(data) {\r\n    if (data.no_packing === undefined) {\r\n      warning(\"Mohon Isi Nomor Packing\");\r\n      return false;\r\n    } else if (data.tanggal === undefined) {\r\n      warning(\"Mohon Isi Tanggal\");\r\n      return false;\r\n    } else if (data.kode_customer === undefined) {\r\n      warning(\"Mohon Pilih Kode Customer\");\r\n      return false;\r\n    }\r\n    this.props.dispatch(progressSend());\r\n    const detail_barang = JSON.parse(localStorage.getItem(\"packingList_temp\"));\r\n    const total_barang = detail_barang\r\n      .map((x) => parseFloat(x.bruto))\r\n      .reduce((a, b) => a + b, 0);\r\n    const no_po = localStorage.getItem(\"kode_PO_Packing\") || \"-\";\r\n    let simpan = {\r\n      no_packing: this.props.noFaktur,\r\n      no_ext_packing: data.no_packing,\r\n      no_po: no_po,\r\n      tanggal: data.tanggal,\r\n      image: this.props.listGambarL || PlaceHolder,\r\n      berat_packing: data.berat_packing,\r\n      qty_kertas: data.qty_kertas,\r\n      qty_plastik: data.qty_plastik,\r\n      kode_customer: data.kode_customer,\r\n      total_berat_packing: parseFloat(data.berat_packing) + total_barang,\r\n      no_bon: localStorage.getItem(\"packingListSelected\"),\r\n      detail_barang: detail_barang,\r\n    };\r\n    AxiosMasterPost(\"packing-list/simpan\", simpan)\r\n      .then(() => {\r\n        let table = [];\r\n        let tableRows = [];\r\n        let columTable = [];\r\n        let footer = [];\r\n        let bruto_total = 0;\r\n        let ongkos_total = 0;\r\n        let gross_total = 0;\r\n        table = JSON.parse(localStorage.getItem(\"nota_packingList\"));\r\n        table.forEach((ticket, i) => {\r\n          console.log(ticket.kode_barcode_set);\r\n          const ticketData = [\r\n            ++i,\r\n            ticket.kode_jenis,\r\n            { content: formatGram(ticket.bruto), styles: { halign: \"right\" } },\r\n            // {\r\n            //   content: formatRp(ticket.ongkos_rp),\r\n            //   styles: { halign: \"right\" },\r\n            // },\r\n          ];\r\n          tableRows.push(ticketData);\r\n          bruto_total = parseFloat(bruto_total) + parseFloat(ticket.bruto);\r\n          ongkos_total =\r\n            parseInt(ongkos_total) + parseInt(ticket.ongkos_rp || 0);\r\n          gross_total = parseFloat(gross_total) + parseFloat(ticket.gross);\r\n        });\r\n        footer = [\r\n          {\r\n            content: \"Total\",\r\n            colSpan: 2,\r\n            styles: {\r\n              halign: \"right\",\r\n            },\r\n          },\r\n          {\r\n            content: `${formatGram(bruto_total)}`,\r\n            styles: { halign: \"right\" },\r\n          },\r\n          // {\r\n          //   content: `${formatRp(ongkos_total)}`,\r\n          //   styles: { halign: \"right\" },\r\n          // },\r\n        ];\r\n        let total_berat = [\r\n          {\r\n            content: \"Total Berat Packing\",\r\n            colSpan: 2,\r\n            styles: {\r\n              halign: \"right\",\r\n            },\r\n          },\r\n          {\r\n            content: `${formatGram(parseFloat(data.berat_packing))}`,\r\n            styles: { halign: \"right\" },\r\n          },\r\n        ];\r\n        let total_gross = [\r\n          {\r\n            content: \"Total Gross\",\r\n            colSpan: 2,\r\n            styles: {\r\n              halign: \"right\",\r\n            },\r\n          },\r\n          {\r\n            content: `${formatGram(gross_total)}`,\r\n            styles: { halign: \"right\" },\r\n          },\r\n        ];\r\n        let total_bungkus = [\r\n          {\r\n            content: \"Total Bungkus\",\r\n            colSpan: 2,\r\n            styles: {\r\n              halign: \"right\",\r\n            },\r\n          },\r\n          {\r\n            content: `${formatGram(data.berat_bungkus)}`,\r\n            styles: { halign: \"right\" },\r\n          },\r\n        ];\r\n        tableRows.push(footer);\r\n        tableRows.push(total_berat);\r\n        tableRows.push(total_gross);\r\n        tableRows.push(total_bungkus);\r\n        console.log(JSON.stringify(tableRows));\r\n        columTable = [\r\n          [\r\n            \"No\",\r\n            \"Kode Jenis\",\r\n            { content: \"Bruto (Rp)\", styles: { halign: \"right\" } },\r\n            // { content: \"Ongkos (Rp)\", styles: { halign: \"right\" } },\r\n          ],\r\n        ];\r\n        console.log(this.props.levelCustomer);\r\n        if (this.props.levelCustomer === \"LEVEL1\") {\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama1,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"LEVEL\",\r\n            \"ADMIN INTERN\",\r\n            \"Customer\",\r\n            this.props.nama1,\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n        } else if (this.props.levelCustomer === \"LEVEL2\") {\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama1,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama2,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"LEVEL\",\r\n            \"ADMIN INTERN\",\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n        } else if (this.props.levelCustomer === \"LEVEL3\") {\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama1,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama2,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"Customer\",\r\n            this.props.nama3,\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n          PrintNotaSuratJalan(\r\n            \"No Nota\",\r\n            data.no_packing,\r\n            \"Tanggal\",\r\n            data.tanggal,\r\n            \"LEVEL\",\r\n            \"ADMIN INTERN\",\r\n            \"\",\r\n            \"\",\r\n            \"ADMIN\",\r\n            this.state.tanggal,\r\n            \"\",\r\n            columTable,\r\n            \"SURAT JALAN\",\r\n            tableRows,\r\n            [\r\n              ...this.props.listGambarS,\r\n              ...this.props.listGambarM,\r\n              ...this.props.listGambarL,\r\n            ]\r\n          );\r\n        }\r\n        // AKHIR INISIALISASI AUTOTABLE\r\n\r\n        // PrintNota(\r\n        //   \"No Nota\",\r\n        //   data.no_packing,\r\n        //   \"Tanggal\",\r\n        //   data.tanggal,\r\n        //   \"Customer\",\r\n        //   data.kode_customer,\r\n        //   \"\",\r\n        //   \"\",\r\n        //   \"ADMIN\",\r\n        //   this.state.tanggal,\r\n        //   \"\",\r\n        //   columTable,\r\n        //   \"PACKING LIST\",\r\n        //   tableRows\r\n        // );\r\n      })\r\n      .then(() => berhasil(\"Berhasil Simpan Packing\"))\r\n      .then(() => localStorage.removeItem(\"packingList_temp\"))\r\n      .then(() => localStorage.removeItem(\"noFaktur\"))\r\n      .then(() => localStorage.removeItem(\"kode_PO_Packing\"))\r\n      .then(() => localStorage.removeItem(\"nota_packingList\"))\r\n      .then(() => {\r\n        this.props.dispatch(setGambarS([]));\r\n        this.props.dispatch(setGambarM([]));\r\n        this.props.dispatch(setGambarL([]));\r\n      })\r\n      .then(() => this.props.dispatch(getListBarangPackingM()))\r\n      .then(() => this.props.dispatch(getUUID()))\r\n      .then(() => this.props.dispatch(reset(\"HeadPackingList\")))\r\n      .then(() => this.props.dispatch(reset(\"AccordPOPAckingList\")))\r\n      .then(() => this.props.dispatch(finishSend()))\r\n      .then(() => window.location.reload())\r\n      .catch(() => {\r\n        localStorage.removeItem(\"noFaktur\");\r\n        this.props.dispatch(getUUID());\r\n        gagal(`Gagal Simpan Packing`);\r\n        this.props.dispatch(finishSend());\r\n      });\r\n  }\r\n\r\n  showTambahBarang() {\r\n    this.setState({\r\n      showModal: \"tambahBarang\",\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  showGambarS() {\r\n    this.setState({\r\n      showModal: \"gambarS\",\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  showGambarM() {\r\n    this.setState({\r\n      showModal: \"gambarM\",\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  showGambarL() {\r\n    this.setState({\r\n      showModal: \"gambarL\",\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  hideModal(data) {\r\n    this.props.dispatch(hideModal());\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"card\">\r\n            <HeaderCard title=\"Packing List\" />\r\n            <div className=\"card-body\">\r\n              <HeadPackingList\r\n                onSubmit={(data) => this.handlePacking(data)}\r\n                showPackingS={() => this.showGambarS()}\r\n                showTambahBarang={() => this.showTambahBarang()}\r\n                showPackingM={() => this.showGambarM()}\r\n                showPackingL={() => this.showGambarL()}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ModalMasterData\r\n          content={\r\n            this.state.showModal === \"tambahBarang\" ? (\r\n              <FormPackingList onSubmit={(data) => this.handleSubmit(data)} />\r\n            ) : this.state.showModal === \"gambarS\" ? (\r\n              <FormGambarPackingS onSubmit={(data) => this.hideModal(data)} />\r\n            ) : this.state.showModal === \"gambarM\" ? (\r\n              <FormGambarPackingM onSubmit={(data) => this.hideModal(data)} />\r\n            ) : (\r\n              <FormGambarPackingL onSubmit={(data) => this.hideModal(data)} />\r\n            )\r\n          }\r\n          title={\r\n            this.state.showModal === \"tambahBarang\"\r\n              ? \"Tambah Barang\"\r\n              : this.state.showModal === \"gambarS\"\r\n              ? \"Tambah Gambar Packing S\"\r\n              : this.state.showModal === \"gambarM\"\r\n              ? \"Tambah Gambar Packing M\"\r\n              : \"Tambah Gambar Packing L\"\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    noFaktur: state.provinsi.noFaktur,\r\n    cameraURI: state.provinsi.cameraURI,\r\n    kodeBarang: state.provinsi.kodeBarang,\r\n    listGambarL: state.provinsi.listGambarL,\r\n    listGambarS: state.provinsi.listGambarS,\r\n    listGambarM: state.provinsi.listGambarM,\r\n    levelCustomer: state.packing.levelCustomer,\r\n    nama1: state.packing.nama1,\r\n    nama2: state.packing.nama2,\r\n    nama3: state.packing.nama3,\r\n    onSend: state.provinsi.onSend,\r\n  };\r\n})(PackingList);\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return SUPPORTED_FACING_MODES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return FACING_MODES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return SUPPORTED_IMAGE_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return IMAGE_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return FORMAT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return MINIMUM_CONSTRAINTS; });\nvar _FORMAT_TYPES;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}// camera constants\nvar USER='user';var ENVIRONMENT='environment';var SUPPORTED_FACING_MODES=[USER,ENVIRONMENT];var FACING_MODES={'USER':USER,'ENVIRONMENT':ENVIRONMENT};// Image constants\nvar PNG='png';var JPG='jpg';var SUPPORTED_IMAGE_TYPES=[JPG,PNG];var IMAGE_TYPES={'PNG':PNG,'JPG':JPG};var FORMAT_TYPES=(_FORMAT_TYPES={},_defineProperty(_FORMAT_TYPES,JPG,'image/jpeg'),_defineProperty(_FORMAT_TYPES,PNG,'image/png'),_FORMAT_TYPES);var MINIMUM_CONSTRAINTS={audio:false,video:true};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(2);\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FACING_MODES\", function() { return FACING_MODES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IMAGE_TYPES\", function() { return IMAGE_TYPES; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MediaServices__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(5);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var DEFAULT_IMAGE_TYPE=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].IMAGE_TYPES.PNG;var CameraPhoto=function(){function CameraPhoto(videoElement){_classCallCheck(this,CameraPhoto);this.videoElement=videoElement;this.stream=null;this.numberOfMaxResolutionTry=1;this.settings=null;this.inputVideoDeviceInfos=[];// Set the right object depending on the browser.\nthis.windowURL=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].getWindowURL();this.mediaDevices=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].getNavigatorMediaDevices();}_createClass(CameraPhoto,[{key:'_getStreamDevice',value:function _getStreamDevice(idealFacingMode,idealResolution){var _this=this;return new Promise(function(resolve,reject){var constraints=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].getIdealConstraints(idealFacingMode,idealResolution);_this.mediaDevices.getUserMedia(constraints).then(function(stream){_this._gotStream(stream);_this._getInputVideoDeviceInfosPromise().then(function(inputVideoDeviceInfos){_this.inputVideoDeviceInfos=inputVideoDeviceInfos;}).catch(function(){}).then(function(){resolve(stream);});}).catch(function(error){// let {name, constraint, message} = error;\n// window.alert(name + ' ' + constraint + ' ' + message);\nreject(error);});});}},{key:'_getStreamDeviceMaxResolution',value:function _getStreamDeviceMaxResolution(idealFacingMode){var _this2=this;var constraints=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].getMaxResolutionConstraints(idealFacingMode,this.numberOfMaxResolutionTry);// all the trying is done...\nif(constraints==null){var idealResolution={};return this._getStreamDevice(idealFacingMode,idealResolution);}return new Promise(function(resolve,reject){_this2.mediaDevices.getUserMedia(constraints).then(function(stream){_this2._gotStream(stream);_this2._getInputVideoDeviceInfosPromise().then(function(inputVideoDeviceInfos){_this2.inputVideoDeviceInfos=inputVideoDeviceInfos;}).catch(function(){}).then(function(){resolve(stream);});}).catch(function(error){// let {name, constraint, message} = error;\n// console.log(name + ' ' + constraint + ' ' + message);\n// retry...\nsetTimeout(function(){_this2.numberOfMaxResolutionTry+=1;_this2._getStreamDeviceMaxResolution(idealFacingMode).catch(function(){reject(error);});},20);});});}},{key:'_setVideoSrc',value:function _setVideoSrc(stream){if('srcObject'in this.videoElement){this.videoElement.srcObject=stream;}else{// using URL.createObjectURL() as fallback for old browsers\nvar videoSrc=this.windowURL.createObjectURL(stream);this.videoElement.src=videoSrc;}}},{key:'_setSettings',value:function _setSettings(stream){// default setting is null\nthis.settings=null;var tracks=stream&&stream.getTracks?stream.getTracks():[];if(tracks.length>0&&tracks[0].getSettings){this.settings=tracks[0].getSettings();}}},{key:'_getInputVideoDeviceInfosPromise',value:function _getInputVideoDeviceInfosPromise(){var _this3=this;return new Promise(function(resolve,reject){// only make shure the camera is sarted\nvar inputVideoDeviceInfos=[];_this3.mediaDevices.enumerateDevices().then(function(devices){devices.forEach(function(device){if(device.kind==='videoinput'){inputVideoDeviceInfos.push(device);}});resolve(inputVideoDeviceInfos);}).catch(function(err){reject(err);});});}},{key:'_gotStream',value:function _gotStream(stream){this.stream=stream;this._setSettings(stream);this._setVideoSrc(stream);}},{key:'getCameraSettings',value:function getCameraSettings(){return this.settings;}},{key:'getInputVideoDeviceInfos',value:function getInputVideoDeviceInfos(){return this.inputVideoDeviceInfos;}},{key:'startCamera',value:function startCamera(idealFacingMode,idealResolution){var _this4=this;// stop the stream before playing it.\nreturn this.stopCamera().then(function(){}).catch(function(){})// Always called (when the promise is done)\n.then(function(){return _this4._getStreamDevice(idealFacingMode,idealResolution);});}},{key:'startCameraMaxResolution',value:function startCameraMaxResolution(){var _this5=this;var idealFacingMode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};// stop the stream before playing it.\nreturn this.stopCamera().then(function(){}).catch(function(){})// Always called (when the promise is done)\n.then(function(){return _this5._getStreamDeviceMaxResolution(idealFacingMode);});}},{key:'getDataUri',value:function getDataUri(userConfig){var config={sizeFactor:userConfig.sizeFactor===undefined?__WEBPACK_IMPORTED_MODULE_1__constants__[\"c\" /* DEFAULT_SIZE_FACTOR */]:userConfig.sizeFactor,imageType:userConfig.imageType===undefined?DEFAULT_IMAGE_TYPE:userConfig.imageType,imageCompression:userConfig.imageCompression===undefined?__WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* DEFAULT_IMAGE_COMPRESSION */]:userConfig.imageCompression,isImageMirror:userConfig.isImageMirror===undefined?__WEBPACK_IMPORTED_MODULE_1__constants__[\"b\" /* DEFAULT_IMAGE_MIRROR */]:userConfig.isImageMirror};var dataUri=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].getDataUri(this.videoElement,config);return dataUri;}},{key:'stopCamera',value:function stopCamera(){var _this6=this;return new Promise(function(resolve,reject){if(_this6.stream){_this6.stream.getTracks().forEach(function(track){track.stop();});_this6.videoElement.src='';_this6.stream=null;_this6._setSettings(null);resolve();}reject(Error('no stream to stop!'));});}}]);return CameraPhoto;}();var FACING_MODES=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].FACING_MODES;var IMAGE_TYPES=__WEBPACK_IMPORTED_MODULE_0__MediaServices__[\"a\" /* default */].IMAGE_TYPES;/* harmony default export */ __webpack_exports__[\"default\"] = (CameraPhoto);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helper__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var MediaServices=function(){function MediaServices(){_classCallCheck(this,MediaServices);}_createClass(MediaServices,null,[{key:'getDataUri',value:function getDataUri(videoElement,config){var sizeFactor=config.sizeFactor,imageType=config.imageType,imageCompression=config.imageCompression,isImageMirror=config.isImageMirror;var videoWidth=videoElement.videoWidth,videoHeight=videoElement.videoHeight;var _getImageSize=Object(__WEBPACK_IMPORTED_MODULE_0__helper__[\"b\" /* getImageSize */])(videoWidth,videoHeight,sizeFactor),imageWidth=_getImageSize.imageWidth,imageHeight=_getImageSize.imageHeight;// Build the canvas size et draw the image to context from videoElement\nvar canvas=document.createElement('canvas');canvas.width=imageWidth;canvas.height=imageHeight;var context=canvas.getContext('2d');// Flip horizontally (as css transform: rotateY(180deg))\nif(isImageMirror){context.setTransform(-1,0,0,1,canvas.width,0);}context.drawImage(videoElement,0,0,imageWidth,imageHeight);// Get dataUri from canvas\nvar dataUri=Object(__WEBPACK_IMPORTED_MODULE_0__helper__[\"a\" /* getDataUri */])(canvas,imageType,imageCompression);return dataUri;}},{key:'getWindowURL',value:function getWindowURL(){var windowURL=window.URL||window.webkitURL||window.mozURL||window.msURL;return windowURL;}/*\n  Inspiration : https://github.com/jhuckaby/webcamjs/blob/master/webcam.js\n  */},{key:'getNavigatorMediaDevices',value:function getNavigatorMediaDevices(){var NMDevice=null;var isNewAPI=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia);var isOldAPI=!!(navigator.mozGetUserMedia||navigator.webkitGetUserMedia);if(isNewAPI){NMDevice=navigator.mediaDevices;}else if(isOldAPI){var NMDeviceOld=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;// Setup getUserMedia, with polyfill for older browsers\n// Adapted from: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\nvar polyfillGetUserMedia={getUserMedia:function getUserMedia(constraint){return new Promise(function(resolve,reject){NMDeviceOld.call(navigator,constraint,resolve,reject);});}};// Overwrite getUserMedia() with the polyfill\nNMDevice=Object.assign(NMDeviceOld,polyfillGetUserMedia);}// If is no navigator.mediaDevices || navigator.mozGetUserMedia || navigator.webkitGetUserMedia\n// then is not supported so return null\nreturn NMDevice;}// https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API/Constraints\n},{key:'isSupportedFacingMode',value:function isSupportedFacingMode(){// navigator.mediaDevices\nreturn MediaServices.getNavigatorMediaDevices().getSupportedConstraints().facingMode;}},{key:'getIdealConstraints',value:function getIdealConstraints(idealFacingMode,idealResolution){// default idealConstraints\nvar idealConstraints={audio:false,video:{}};if(Object(__WEBPACK_IMPORTED_MODULE_0__helper__[\"c\" /* isMinimumConstraints */])(idealFacingMode,idealResolution)){return __WEBPACK_IMPORTED_MODULE_1__constants__[\"d\" /* MINIMUM_CONSTRAINTS */];}var supports=navigator.mediaDevices.getSupportedConstraints();/* eslint-env browser */// alert(JSON.stringify(supports));\nif(!supports.width||!supports.height||!supports.facingMode){console.error('Constraint width height or facingMode not supported!');return __WEBPACK_IMPORTED_MODULE_1__constants__[\"d\" /* MINIMUM_CONSTRAINTS */];}// If is valid facingMode\nif(idealFacingMode&&__WEBPACK_IMPORTED_MODULE_1__constants__[\"e\" /* SUPPORTED_FACING_MODES */].includes(idealFacingMode)){// idealConstraints.video.facingMode = { ideal: idealFacingMode };\nidealConstraints.video.facingMode=idealFacingMode;}if(idealResolution&&idealResolution.width){idealConstraints.video.width=idealResolution.width;}if(idealResolution&&idealResolution.height){idealConstraints.video.height=idealResolution.height;}return idealConstraints;}},{key:'getMaxResolutionConstraints',value:function getMaxResolutionConstraints(){var idealFacingMode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var numberOfMaxResolutionTry=arguments[1];var constraints=MediaServices.getIdealConstraints(idealFacingMode);var facingMode=constraints.video.facingMode;var VIDEO_ADVANCED_CONSTRANTS=[{'width':{'min':640},'ideal':{'facingMode':facingMode}},{'width':{'min':800},'ideal':{'facingMode':facingMode}},{'width':{'min':900},'ideal':{'facingMode':facingMode}},{'width':{'min':1024},'ideal':{'facingMode':facingMode}},{'width':{'min':1080},'ideal':{'facingMode':facingMode}},{'width':{'min':1280},'ideal':{'facingMode':facingMode}},{'width':{'min':1920},'ideal':{'facingMode':facingMode}},{'width':{'min':2560},'ideal':{'facingMode':facingMode}},{'width':{'min':3840},'ideal':{'facingMode':facingMode}}];if(numberOfMaxResolutionTry>=VIDEO_ADVANCED_CONSTRANTS.length){return null;}// each number of try, we remove the last value of the array (the bigger minim width)\nvar advanced=VIDEO_ADVANCED_CONSTRANTS.slice(0,-numberOfMaxResolutionTry);constraints.video.advanced=advanced;return constraints;}},{key:'FACING_MODES',get:function get(){return __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* FACING_MODES */];}},{key:'IMAGE_TYPES',get:function get(){return __WEBPACK_IMPORTED_MODULE_1__constants__[\"c\" /* IMAGE_TYPES */];}}]);return MediaServices;}();/* harmony default export */ __webpack_exports__[\"a\"] = (MediaServices);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getImageSize;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getDataUri;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isMinimumConstraints;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants__ = __webpack_require__(0);\nvar _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};function _validateImgParam(imageType,imageCompression){// validate the imageCompression\nif(!(imageCompression>=0&&imageCompression<=1)){throw new Error(imageCompression+' is invalid imageCompression, choose between: [0, 1]');}// validate the imageType\nif(!__WEBPACK_IMPORTED_MODULE_0__constants__[\"f\" /* SUPPORTED_IMAGE_TYPES */].includes(imageType)){throw new Error(imageType+' is invalid imageType, choose between: '+__WEBPACK_IMPORTED_MODULE_0__constants__[\"f\" /* SUPPORTED_IMAGE_TYPES */].join(', '));}return true;}function _getValidImgParam(imageType,imageCompression){var imgParam={};try{_validateImgParam(imageType,imageCompression);imgParam.imageType=imageType;imgParam.imageCompression=imageCompression;}catch(e){console.error(e);console.error('default value of '+__WEBPACK_IMPORTED_MODULE_0__constants__[\"c\" /* IMAGE_TYPES */].PNG+' is used');imgParam.imageType=__WEBPACK_IMPORTED_MODULE_0__constants__[\"c\" /* IMAGE_TYPES */].PNG;imgParam.imageCompression=null;}return imgParam;}function getImageSize(videoWidth,videoHeight,sizeFactor){// calc the imageWidth\nvar imageWidth=videoWidth*parseFloat(sizeFactor);// calc the ratio\nvar ratio=videoWidth/imageWidth;// calc the imageHeight\nvar imageHeight=videoHeight/ratio;return{imageWidth:imageWidth,imageHeight:imageHeight};}function getDataUri(canvas,imageType,imageCompression){var imgParam=_getValidImgParam(imageType,imageCompression);if(imgParam.imageType===__WEBPACK_IMPORTED_MODULE_0__constants__[\"c\" /* IMAGE_TYPES */].JPG){if(!imageCompression){return canvas.toDataURL(__WEBPACK_IMPORTED_MODULE_0__constants__[\"b\" /* FORMAT_TYPES */][__WEBPACK_IMPORTED_MODULE_0__constants__[\"c\" /* IMAGE_TYPES */].JPG]);}return canvas.toDataURL(__WEBPACK_IMPORTED_MODULE_0__constants__[\"b\" /* FORMAT_TYPES */][__WEBPACK_IMPORTED_MODULE_0__constants__[\"c\" /* IMAGE_TYPES */].JPG],imageCompression);}return canvas.toDataURL(__WEBPACK_IMPORTED_MODULE_0__constants__[\"b\" /* FORMAT_TYPES */][imageType]);}function _isEmptyObject(obj){if((typeof obj==='undefined'?'undefined':_typeof(obj))==='object'){for(var key in obj){if(obj.hasOwnProperty(key)){return false;}}}return true;}function isMinimumConstraints(idealFacingMode,idealResolution){return!(idealFacingMode||idealResolution&&!_isEmptyObject(idealResolution));}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DEFAULT_SIZE_FACTOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DEFAULT_IMAGE_COMPRESSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DEFAULT_IMAGE_MIRROR; });\nvar DEFAULT_SIZE_FACTOR=1;var DEFAULT_IMAGE_COMPRESSION=null;var DEFAULT_IMAGE_MIRROR=false;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 636d8c14f56be0f1ccfe","// camera constants\nconst USER = 'user';\nconst ENVIRONMENT = 'environment';\n\nexport const SUPPORTED_FACING_MODES = [USER, ENVIRONMENT];\n\nexport const FACING_MODES = {\n  'USER': USER,\n  'ENVIRONMENT': ENVIRONMENT\n};\n\n// Image constants\nconst PNG = 'png';\nconst JPG = 'jpg';\n\nexport const SUPPORTED_IMAGE_TYPES = [JPG, PNG];\n\nexport const IMAGE_TYPES = {\n  'PNG': PNG,\n  'JPG': JPG\n};\n\nexport const FORMAT_TYPES = {\n  [JPG]: 'image/jpeg',\n  [PNG]: 'image/png'\n};\n\nexport const MINIMUM_CONSTRAINTS = {\n  audio: false,\n  video: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/MediaServices/constants.js","import MediaServices from './MediaServices';\n\nimport {\n  DEFAULT_SIZE_FACTOR,\n  DEFAULT_IMAGE_COMPRESSION,\n  DEFAULT_IMAGE_MIRROR } from './constants';\n\nconst DEFAULT_IMAGE_TYPE = MediaServices.IMAGE_TYPES.PNG;\n\nclass CameraPhoto {\n  constructor (videoElement) {\n    this.videoElement = videoElement;\n    this.stream = null;\n    this.numberOfMaxResolutionTry = 1;\n    this.settings = null;\n    this.inputVideoDeviceInfos = [];\n\n    // Set the right object depending on the browser.\n    this.windowURL = MediaServices.getWindowURL();\n    this.mediaDevices = MediaServices.getNavigatorMediaDevices();\n  }\n\n  _getStreamDevice (idealFacingMode, idealResolution) {\n    return new Promise((resolve, reject) => {\n      let constraints =\n          MediaServices.getIdealConstraints(idealFacingMode, idealResolution);\n\n      this.mediaDevices.getUserMedia(constraints)\n        .then((stream) => {\n          this._gotStream(stream);\n          this._getInputVideoDeviceInfosPromise()\n            .then((inputVideoDeviceInfos) => {\n              this.inputVideoDeviceInfos = inputVideoDeviceInfos;\n            })\n            .catch(() => {})\n            .then(() => {\n              resolve(stream);\n            });\n        })\n        .catch((error) => {\n          // let {name, constraint, message} = error;\n          // window.alert(name + ' ' + constraint + ' ' + message);\n          reject(error);\n        });\n    });\n  }\n\n  _getStreamDeviceMaxResolution (idealFacingMode) {\n    let constraints =\n        MediaServices.getMaxResolutionConstraints(idealFacingMode, this.numberOfMaxResolutionTry);\n\n    // all the trying is done...\n    if (constraints == null) {\n      let idealResolution = {};\n      return this._getStreamDevice(idealFacingMode, idealResolution);\n    }\n\n    return new Promise((resolve, reject) => {\n      this.mediaDevices.getUserMedia(constraints)\n        .then((stream) => {\n          this._gotStream(stream);\n          this._getInputVideoDeviceInfosPromise()\n            .then((inputVideoDeviceInfos) => {\n              this.inputVideoDeviceInfos = inputVideoDeviceInfos;\n            })\n            .catch(() => {})\n            .then(() => {\n              resolve(stream);\n            });\n        })\n        .catch((error) => {\n          // let {name, constraint, message} = error;\n          // console.log(name + ' ' + constraint + ' ' + message);\n          // retry...\n          setTimeout(() => {\n            this.numberOfMaxResolutionTry += 1;\n            this._getStreamDeviceMaxResolution(idealFacingMode)\n              .catch(() => {\n                reject(error);\n              });\n          }, 20);\n        });\n    });\n  }\n\n  _setVideoSrc (stream) {\n    if ('srcObject' in this.videoElement) {\n      this.videoElement.srcObject = stream;\n    } else {\n      // using URL.createObjectURL() as fallback for old browsers\n      let videoSrc = this.windowURL.createObjectURL(stream);\n      this.videoElement.src = videoSrc;\n    }\n  }\n\n  _setSettings (stream) {\n    // default setting is null\n    this.settings = null;\n    const tracks = (stream && stream.getTracks)\n      ? stream.getTracks()\n      : [];\n\n    if (tracks.length > 0 && tracks[0].getSettings) {\n      this.settings = tracks[0].getSettings();\n    }\n  }\n\n  _getInputVideoDeviceInfosPromise () {\n    return new Promise((resolve, reject) => {\n      // only make shure the camera is sarted\n\n      let inputVideoDeviceInfos = [];\n      this.mediaDevices.enumerateDevices()\n        .then(function (devices) {\n          devices.forEach(function (device) {\n            if (device.kind === 'videoinput') {\n              inputVideoDeviceInfos.push(device);\n            }\n          });\n          resolve(inputVideoDeviceInfos);\n        })\n        .catch(function (err) {\n          reject(err);\n        });\n    });\n  }\n\n  _gotStream (stream) {\n    this.stream = stream;\n    this._setSettings(stream);\n    this._setVideoSrc(stream);\n  }\n\n  getCameraSettings () {\n    return this.settings;\n  }\n  getInputVideoDeviceInfos () {\n    return this.inputVideoDeviceInfos;\n  }\n\n  startCamera (idealFacingMode, idealResolution) {\n    // stop the stream before playing it.\n    return this.stopCamera()\n      .then(() => {})\n      .catch(() => {})\n      // Always called (when the promise is done)\n      .then(() => {\n        return this._getStreamDevice(idealFacingMode, idealResolution);\n      });\n  }\n\n  startCameraMaxResolution (idealFacingMode = {}) {\n    // stop the stream before playing it.\n    return this.stopCamera()\n      .then(() => {})\n      .catch(() => {})\n      // Always called (when the promise is done)\n      .then(() => {\n        return this._getStreamDeviceMaxResolution(idealFacingMode);\n      });\n  }\n\n  getDataUri (userConfig) {\n    let config = {\n      sizeFactor: userConfig.sizeFactor === undefined ? DEFAULT_SIZE_FACTOR : userConfig.sizeFactor,\n      imageType: userConfig.imageType === undefined ? DEFAULT_IMAGE_TYPE : userConfig.imageType,\n      imageCompression: userConfig.imageCompression === undefined ? DEFAULT_IMAGE_COMPRESSION : userConfig.imageCompression,\n      isImageMirror: userConfig.isImageMirror === undefined ? DEFAULT_IMAGE_MIRROR : userConfig.isImageMirror\n    };\n\n    let dataUri = MediaServices.getDataUri(this.videoElement, config);\n    return dataUri;\n  }\n\n  stopCamera () {\n    return new Promise((resolve, reject) => {\n      if (this.stream) {\n        this.stream.getTracks().forEach(function (track) {\n          track.stop();\n        });\n        this.videoElement.src = '';\n        this.stream = null;\n        this._setSettings(null);\n        resolve();\n      }\n      reject(Error('no stream to stop!'));\n    });\n  }\n}\n\nexport const FACING_MODES = MediaServices.FACING_MODES;\nexport const IMAGE_TYPES = MediaServices.IMAGE_TYPES;\n\nexport default CameraPhoto;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","import {getImageSize, getDataUri, isMinimumConstraints} from './helper';\n\nimport {\n  SUPPORTED_FACING_MODES,\n  FACING_MODES,\n  IMAGE_TYPES,\n  MINIMUM_CONSTRAINTS\n} from './constants';\n\nclass MediaServices {\n  static getDataUri (videoElement, config) {\n    let { sizeFactor, imageType, imageCompression, isImageMirror } = config;\n\n    let {videoWidth, videoHeight} = videoElement;\n    let {imageWidth, imageHeight} = getImageSize(videoWidth, videoHeight, sizeFactor);\n\n    // Build the canvas size et draw the image to context from videoElement\n    let canvas = document.createElement('canvas');\n    canvas.width = imageWidth;\n    canvas.height = imageHeight;\n    let context = canvas.getContext('2d');\n\n    // Flip horizontally (as css transform: rotateY(180deg))\n    if (isImageMirror) {\n      context.setTransform(-1, 0, 0, 1, canvas.width, 0);\n    }\n\n    context.drawImage(videoElement, 0, 0, imageWidth, imageHeight);\n\n    // Get dataUri from canvas\n    let dataUri = getDataUri(canvas, imageType, imageCompression);\n    return dataUri;\n  }\n\n  static getWindowURL () {\n    let windowURL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n    return windowURL;\n  }\n\n  /*\n  Inspiration : https://github.com/jhuckaby/webcamjs/blob/master/webcam.js\n  */\n  static getNavigatorMediaDevices () {\n    let NMDevice = null;\n    let isNewAPI = !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\n    let isOldAPI = !!(navigator.mozGetUserMedia || navigator.webkitGetUserMedia);\n\n    if (isNewAPI) {\n      NMDevice = navigator.mediaDevices;\n    } else if (isOldAPI) {\n      let NMDeviceOld = navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\n      // Setup getUserMedia, with polyfill for older browsers\n      // Adapted from: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n\n      let polyfillGetUserMedia = {\n        getUserMedia: function (constraint) {\n          return new Promise(function (resolve, reject) {\n            NMDeviceOld.call(navigator, constraint, resolve, reject);\n          });\n        }\n      };\n\n      // Overwrite getUserMedia() with the polyfill\n      NMDevice = Object.assign(NMDeviceOld,\n        polyfillGetUserMedia\n      );\n    }\n\n    // If is no navigator.mediaDevices || navigator.mozGetUserMedia || navigator.webkitGetUserMedia\n    // then is not supported so return null\n    return NMDevice;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API/Constraints\n  static isSupportedFacingMode () {\n    // navigator.mediaDevices\n    return MediaServices.getNavigatorMediaDevices().getSupportedConstraints().facingMode;\n  }\n\n  static getIdealConstraints (idealFacingMode, idealResolution) {\n    // default idealConstraints\n    let idealConstraints = {\n      audio: false,\n      video: {}\n    };\n\n    if (isMinimumConstraints(idealFacingMode, idealResolution)) {\n      return MINIMUM_CONSTRAINTS;\n    }\n\n    const supports = navigator.mediaDevices.getSupportedConstraints();\n    /* eslint-env browser */\n    // alert(JSON.stringify(supports));\n    if (!supports.width || !supports.height || !supports.facingMode) {\n      console.error('Constraint width height or facingMode not supported!');\n      return MINIMUM_CONSTRAINTS;\n    }\n\n    // If is valid facingMode\n    if (idealFacingMode && SUPPORTED_FACING_MODES.includes(idealFacingMode)) {\n      // idealConstraints.video.facingMode = { ideal: idealFacingMode };\n      idealConstraints.video.facingMode = idealFacingMode;\n    }\n\n    if (idealResolution && idealResolution.width) {\n      idealConstraints.video.width = idealResolution.width;\n    }\n\n    if (idealResolution && idealResolution.height) {\n      idealConstraints.video.height = idealResolution.height;\n    }\n\n    return idealConstraints;\n  }\n\n  static getMaxResolutionConstraints (idealFacingMode = {}, numberOfMaxResolutionTry) {\n    let constraints = MediaServices.getIdealConstraints(idealFacingMode);\n    const facingMode = constraints.video.facingMode;\n\n    const VIDEO_ADVANCED_CONSTRANTS = [\n      {'width': {'min': 640}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 800}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 900}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 1024}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 1080}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 1280}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 1920}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 2560}, 'ideal': {'facingMode': facingMode}},\n      {'width': {'min': 3840}, 'ideal': {'facingMode': facingMode}}\n    ];\n\n    if (numberOfMaxResolutionTry >= VIDEO_ADVANCED_CONSTRANTS.length) {\n      return null;\n    }\n\n    // each number of try, we remove the last value of the array (the bigger minim width)\n    let advanced = VIDEO_ADVANCED_CONSTRANTS.slice(0, -numberOfMaxResolutionTry);\n    constraints.video.advanced = advanced;\n\n    return constraints;\n  }\n\n  static get FACING_MODES () {\n    return FACING_MODES;\n  }\n\n  static get IMAGE_TYPES () {\n    return IMAGE_TYPES;\n  }\n}\n\nexport default MediaServices;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/MediaServices/index.js","import {\n  SUPPORTED_IMAGE_TYPES,\n  FORMAT_TYPES,\n  IMAGE_TYPES\n} from './constants';\n\nfunction _validateImgParam (imageType, imageCompression) {\n  // validate the imageCompression\n  if (!(imageCompression >= 0 && imageCompression <= 1)) {\n    throw new Error(imageCompression + ' is invalid imageCompression, choose between: [0, 1]');\n  }\n\n  // validate the imageType\n  if (!SUPPORTED_IMAGE_TYPES.includes(imageType)) {\n    throw new Error(imageType + ' is invalid imageType, choose between: ' + SUPPORTED_IMAGE_TYPES.join(', '));\n  }\n  return true;\n}\n\nfunction _getValidImgParam (imageType, imageCompression) {\n  let imgParam = {};\n  try {\n    _validateImgParam(imageType, imageCompression);\n    imgParam.imageType = imageType;\n    imgParam.imageCompression = imageCompression;\n  } catch (e) {\n    console.error(e);\n    console.error('default value of ' + IMAGE_TYPES.PNG + ' is used');\n\n    imgParam.imageType = IMAGE_TYPES.PNG;\n    imgParam.imageCompression = null;\n  }\n\n  return imgParam;\n}\n\nexport function getImageSize (videoWidth, videoHeight, sizeFactor) {\n  // calc the imageWidth\n  let imageWidth = videoWidth * parseFloat(sizeFactor);\n  // calc the ratio\n  let ratio = videoWidth / imageWidth;\n  // calc the imageHeight\n  let imageHeight = videoHeight / ratio;\n\n  return {\n    imageWidth,\n    imageHeight\n  };\n}\n\nexport function getDataUri (canvas, imageType, imageCompression) {\n  const imgParam = _getValidImgParam(imageType, imageCompression);\n\n  if (imgParam.imageType === IMAGE_TYPES.JPG) {\n    if (!imageCompression) {\n      return canvas.toDataURL(FORMAT_TYPES[IMAGE_TYPES.JPG]);\n    }\n    return canvas.toDataURL(FORMAT_TYPES[IMAGE_TYPES.JPG], imageCompression);\n  }\n\n  return canvas.toDataURL(FORMAT_TYPES[imageType]);\n}\n\nfunction _isEmptyObject (obj) {\n  if (typeof obj === 'object') {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nexport function isMinimumConstraints (idealFacingMode, idealResolution) {\n  return !(idealFacingMode || (idealResolution && !_isEmptyObject(idealResolution)));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/MediaServices/helper.js","export const DEFAULT_SIZE_FACTOR = 1;\nexport const DEFAULT_IMAGE_COMPRESSION = null;\nexport const DEFAULT_IMAGE_MIRROR = false;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/constants.js","const validasiTransaksiPenjualan = (value) => {\r\n  const errors = {};\r\n  if (!value.kodeBarang) {\r\n    errors.kodeBarang = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  if (!value.pkg) {\r\n    errors.pkg = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  if (!value.p) {\r\n    errors.p = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  if (!value.k) {\r\n    errors.k = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  if (!value.bruto) {\r\n    errors.bruto = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  if (!value.discGlobalPr) {\r\n    errors.discGlobalPr = \"Tidak Boleh kosong, silahkan isi\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validasiTransaksiPenjualan;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport validasiTransaksiPenjualan from \"../../Validations/validasiTransaksiPenjualan\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\nimport { setCameraURI } from \"../../actions/cameraAction\";\r\nimport { renderField } from \"../../renderField\";\r\nimport {  resizeFile } from \"../../helper\";\r\nimport { setGambarL } from \"../../actions/PackingListAction\";\r\nimport CameraPhoto, { FACING_MODES } from \"jslib-html5-camera-photo\";\r\n\r\n\r\nclass FormGambarPackingL extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.cameraPhoto = null;\r\n    this.videoRef = React.createRef();\r\n    this.state = {\r\n      kodeBarang: [],\r\n      files: [],\r\n      dataUri: []\r\n    };\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\r\n    setTimeout(() => {\r\n      this.cameraPhoto.startCamera(FACING_MODES.ENVIRONMENT, {\r\n        width: 720,\r\n        height: 720,\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  takePhoto() {\r\n    const config = {\r\n      sizeFactor: 1,\r\n      imageCompression: 0.1,\r\n      isImageMirror: false,\r\n    };\r\n    let foto = this.props.listGambarL;\r\n    foto.push({\"lokasi_gambar\" : this.cameraPhoto.getDataUri(config)})\r\n    console.log(JSON.stringify(foto));\r\n    this.setState({ dataUri: foto });\r\n    this.props.dispatch(setGambarL(foto))\r\n  }\r\n\r\n  stopCamera() {\r\n    this.cameraPhoto\r\n      .stopCamera()\r\n      .then(() => {\r\n        console.log(\"Camera stoped!\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"No camera to stop!:\", error);\r\n      });\r\n  }\r\n\r\n  handleUpload = async (e) => {\r\n\r\n    const file = e.target.files;\r\n    this.setState({\r\n      files: [...this.state.files, ...e.target.files]\r\n    })\r\n    let listImage = this.props.listGambarL;\r\n    for (let i = 0; i < file.length; i++) {\r\n      let reader = new FileReader();\r\n      reader.onload = this.handleReaderLoaded;\r\n      let compressed = await resizeFile(file[i]);\r\n      reader.readAsDataURL(file[i]);\r\n      if (reader !== undefined && file !== undefined) {\r\n        reader.onloadend = () => {\r\n          listImage.push({ \"lokasi_gambar\": compressed })\r\n          this.props.dispatch(setCameraURI(listImage));\r\n          this.props.dispatch(setGambarL(listImage));\r\n          this.setState({\r\n            count: i\r\n          })\r\n        };\r\n      }\r\n    }\r\n    console.log(this.state.files);\r\n    this.props.change(\"gambar\", listImage)\r\n  };\r\n\r\n  handleReaderLoaded = (readerEvt) => {\r\n    let binaryString = readerEvt.target.result;\r\n    this.setState({\r\n      imageBase64: btoa(binaryString),\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"col-lg-12 row\">\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            <div className=\"col-lg-6\">\r\n              <video\r\n                ref={this.videoRef}\r\n                autoPlay=\"true\"\r\n                width=\"100%\"\r\n                height=\"95%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center mb-2\">\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-primary btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() => this.takePhoto()}\r\n                >\r\n                  Ambil Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3\">\r\n              <div className=\"text-center\">\r\n                <button\r\n                  className=\"btn btn-danger btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    {this.setState({\r\n                      dataUri: [],\r\n                    })\r\n                    this.props.dispatch(setGambarL([]))\r\n                    this.props.dispatch(setCameraURI([]))}\r\n                  }\r\n                >\r\n                  Reset Gambar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 row justify-content-center\">\r\n            {\r\n              this.props.listGambarL?.map((data) => (\r\n                <div className=\"col-lg-3 mb-1 mt-1 ml-1 mr-1\">\r\n                  <img\r\n                    alt=\"imgCamera\"\r\n                    src={data?.lokasi_gambar}\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <h3>Silahkan Pilih Gambar</h3>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"col-md-3 col-lg-3 d-none\">\r\n              <Field\r\n                name=\"gambar\"\r\n                label=\"Gambar\"\r\n                type=\"number\"\r\n                component={renderField}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <div class=\"input-group mt-2\">\r\n              <div class=\"input-group-prepend\">\r\n                <button\r\n                  class=\"btn btn-danger\"\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      files: []\r\n                    });\r\n                    this.props.dispatch(setGambarL([]))\r\n                    this.props.dispatch(setCameraURI([]))\r\n                  }}\r\n                >\r\n                  Hapus\r\n                </button>\r\n              </div>\r\n              <div class=\"custom-file\">\r\n                <input\r\n                  className=\"custom-file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  name=\"avatar\"\r\n                  id=\"file\"\r\n                  accept=\".jpef, .png, .jpg\"\r\n                  onChange={(data) => this.handleUpload(data)}\r\n                  src={this.state.image}\r\n                />\r\n                <label class=\"custom-file-label\" for=\"inputGroupFile03\">\r\n                  Choose file\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-md-12\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Simpan\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormGambarPackingL = reduxForm({\r\n  form: \"FormGambarPackingL\",\r\n  enableReinitialize: true,\r\n  validate: validasiTransaksiPenjualan,\r\n})(FormGambarPackingL);\r\nexport default connect((state) => {\r\n  return {\r\n    cameraURI: state.provinsi.cameraURI,\r\n    listGambarL: state.provinsi.listGambarL || []\r\n  };\r\n})(FormGambarPackingL);\r\n"],"sourceRoot":""}