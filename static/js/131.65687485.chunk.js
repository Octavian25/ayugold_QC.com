(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[131],{1214:function(e,t,a){"use strict";a.r(t);var n=a(24),o=a(25),r=a(27),s=a(26),l=a(0),c=a.n(l),i=a(17),m=a(23),d=a(52),p=a(5),h=a(48),g=a(6),b=a(327),u=a(328),v=a(36),E=a(106),O=a(43),S=a(34),f=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={type_laporan:"SIMPLE"},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(E.d)()),this.props.dispatch(Object(v.h)())}},{key:"render",value:function(){switch(this.props.from){case"PROSES":return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(b.a,{label:"Tanggal",name:"tanggal",type:"date",component:S.a})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(b.a,{className:"form-control",name:"nama_toko",label:"Nama Toko",component:S.b,options:this.props.listCustomer.map((function(e){return{value:e.kode_customer,name:e.nama_toko}}))})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(b.a,{className:"form-control",name:"status",label:"Status Reparasi",component:S.b,options:[{value:"PROSES",name:"PROSES"},{value:"SELESAI",name:"SELESAI"},{value:"SERAH",name:"SERAH"}]})))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):c.a.createElement("i",{className:"fa fa-print mr-2"}),"Print"))))}}}]),a}(l.Component);f=Object(u.a)({form:"FormReparasi",enableReinitialize:!0})(f);var y=Object(i.b)((function(e){return{listBank:e.provinsi.rekening,onSend:e.provinsi.onSend,listCustomer:e.provinsi.customer,initialValues:{tanggal:Object(O.b)()}}}))(f),N=a(80),k=(a(165),function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=new N.default("portrait"),o=[],r=45;n.setFontSize(15),n.text("LAPORAN REPARASI "+a,14,33),n.addImage(g.t,"PNG",14,10,35,12),n.setFontSize(10),t.forEach((function(e,t){var a=[[{content:"Nomor Bon : "+e.no_bon,colSpan:5}],[{content:"Tanggal Transaksi : "+e.tanggal,colSpan:5}],[{content:"KODE KATEGORI"},{content:"QTY",styles:{halign:"right"}},{content:"BRUTO",styles:{halign:"right"}},{content:"ONGKOS REPARASI",styles:{halign:"right"}},{content:"TOTAL ONGKOS REPARASI",styles:{halign:"right"}}]],s=0,l=0,c=0;e.detail_barang.forEach((function(e){var t=[e.kode_kategori,{content:e.qty,styles:{halign:"right"}},{content:Object(g.m)(e.bruto),styles:{halign:"right"}},{content:Object(g.p)(e.ongkos_rp),styles:{halign:"right"}},{content:Object(g.p)(parseFloat(e.ongkos_rp)*parseInt(e.qty)),styles:{halign:"right"}}];o.push(t),s=parseInt(s)+parseInt(e.qty),l=parseFloat(l)+parseFloat(e.bruto),c=parseInt(c)+parseFloat(e.ongkos_rp)*parseInt(e.qty)}));var i=["Grand Total",{content:s,styles:{halign:"right"}},{content:Object(g.m)(l),styles:{halign:"right"}},{content:"",styles:{halign:"right"}},{content:Object(g.p)(c),styles:{halign:"right"}}];n.autoTable({head:a,body:o,foot:i,startY:r,theme:"plain",rowPageBreak:"avoid",margin:{top:20},bodyStyles:{lineColor:"#000",fontSize:8},headStyles:{lineColor:"#000",fontSize:8,fillColor:[212,212,211]}}),r=n.autoTableEndPosY()+10,o=[]})),o=[],n.text("Cetak By\t: ".concat(Object(g.s)()),14,r+10),n.text("Cetak\tDate : ".concat(e),14,r+16);var s=n.internal.getNumberOfPages(),l=n.internal.pageSize.width,c=n.internal.pageSize.height;n.setFontSize(10);for(var i=1;i<s+1;i++){var m=l/2,d=c-10;n.setPage(i),n.text("".concat(i," of ").concat(s),m,d,{align:"center"})}n.autoPrint(),n.setProperties({title:"LAPORAN REPARASI "+a});var p=n.output("datauristring"),h=window.open();h.document.open(),h.document.write("<html><head><title>LAPORAN REPARASI</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+p+"></embed></body></html>")}),j=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={},o}return Object(o.a)(a,[{key:"handleProses",value:function(e){var t=this;this.props.dispatch(Object(m.t)());var a=e.status,n=e.nama_toko,o=e.tanggal;Object(p.b)("report/reparasi/".concat(o,"&").concat(n,"&").concat(a)).then((function(e){t.props.dispatch(Object(m.k)()),Object(g.k)(e.data)&&k(localStorage.getItem("username"),Object(h.b)(),localStorage.getItem("username"),e.data,a)})).catch((function(e){return Object(d.c)("Gagal Mengambil data, Mohon periksa koneksi anda").then((function(){return t.props.dispatch(Object(m.k)())}))}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#proses-tab","data-toggle":"tab","aria-expanded":"false",className:"nav-link active"},c.a.createElement("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Laporan Reparasi")))),c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane show active",id:"proses-tab"},c.a.createElement(y,{from:"PROSES",onSubmit:function(t){return e.handleProses(t)}})))))))))}}]),a}(l.Component);t.default=Object(i.b)()(j)}}]);
//# sourceMappingURL=131.65687485.chunk.js.map