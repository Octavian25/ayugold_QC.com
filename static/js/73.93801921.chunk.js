(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[73],{1222:function(e,a,t){"use strict";t.r(a);var n=t(15),i=t(16),r=t(18),c=t(17),o=t(0),s=t.n(o),l=t(13),m=t(341),d=t(342),u=t(164),p=t(21),h=t(66),b=function(e){Object(r.a)(t,e);var a=Object(c.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={response:"",no_rekening:"",nama_bank:"",atas_nama:"",mata_uang:"RUPIAH"},i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.d)())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"noRekening",type:"tel",component:p.a,label:"Nomor Rekening",onChange:function(){return e.props.change("mataUang","DEFAULT")}})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"kodeBank",component:p.b,options:this.props.listBank.map((function(e){return{value:e.kode_bank+"-"+e.nama_bank,name:e.kode_bank}})),onChange:function(a){return e.props.change("namaBank",a.split("-")[1])},label:"Kode Bank"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"namaBank",type:"telp",normalize:function(e){return e&&e.toUpperCase()},component:p.a,label:"Nama Bank"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"atasNama",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:p.a,label:"Atas Nama"})),s.a.createElement("div",{className:"col-md-12 col-lg-12 mt-5"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}]),t}(o.Component);b=Object(d.a)({form:"DataRekening",validate:u.a,enableReinitialize:!0})(b);var k=Object(l.b)((function(e){return{listBank:e.provinsi.bank}}))(b),g=t(145),f=t(139),v=t.n(f),E=t(113),N=t(12),j=t.n(N),O=function(e){Object(r.a)(t,e);var a=Object(c.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={response:""},i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.d)())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"noRekening",type:"tel",component:p.a,label:"Nomor Rekening",readOnly:!0})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"kodeBank",component:p.b,options:this.props.listBank.map((function(e){return{value:e.kode_bank+"-"+e.nama_bank,name:e.kode_bank}})),onChange:function(a){return e.props.change("namaBank",a.split("-")[1])},label:"Kode Bank"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"namaBank",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:p.a,label:"Nama Bank"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"atasNama",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:p.a,label:"Atas Nama"})),s.a.createElement("div",{className:"col-md-12 col-lg-12 mt-5"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}]),t}(o.Component);O=Object(d.a)({form:"FormRekeningEdit",validate:u.a,enableReinitialize:!0})(O);var D=Object(l.b)((function(e){return{listBank:e.provinsi.bank,initialValues:{noRekening:e.provinsi.editDataRekening.noRekening,atasNama:e.provinsi.editDataRekening.atasNama,namaBank:e.provinsi.editDataRekening.namaBank,kodeBank:e.provinsi.editDataRekening.kodeBank+"-"+e.provinsi.editDataRekening.namaBank,mataUang:e.provinsi.editDataRekening.mataUang}}}),null)(O),R=t(11),B=t(37),y=t.n(B),S=t(25),_=t(5),C=t(23),A=t(101),x=t(48),U=t(141),w=t(20);var M=[{dataField:"nomorRekening",order:"asc"}],T=function(e){Object(r.a)(t,e);var a=Object(c.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).updateStatus=function(e){console.log(e),i.setState({response:e}),i.props.dispatch(Object(E.d)())},i.state={Rekening:[],response:"",columns:[{dataField:"no_rekening",text:"Nomor Rekening"},{dataField:"nama_bank",text:"Nama Bank"},{dataField:"atas_nama",text:"Atas Nama"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{className:"btn btn-danger mr-2","data-tut":"reactour_3",onClick:function(){return e=i.props.dispatch,t=a.no_rekening,void j.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){if(a.isConfirmed){var n={data:{noRekening:t}};Object(_.a)("rekening/delete/"+t).then((function(){return e(Object(C.g)())})).then((function(a){return Object(S.b)("Data Berhasil Dihapus!").then((function(){return Object(S.a)("Data Berhasil Dihapus Dari Rekening",n)})).then((function(){return e(Object(E.d)())}))})).catch((function(e){return Object(S.c)("Data Gagal Dihapus!")}))}}));var e,t}},s.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"),s.a.createElement("button",{className:"btn btn-warning","data-tut":"reactour_4",onClick:function(){return i.props.dispatch(Object(E.c)(a.no_rekening,a.atas_nama,a.kode_bank,a.nama_bank,i.edithModal()))}},s.a.createElement("i",{className:"fa fa-edit mr-2"}),"EDIT"))}}]},i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(E.d)())}},{key:"handleSubmit",value:function(e){var a=this,t={atas_nama:e.atasNama,kode_bank:e.kodeBank.split("-")[0],no_rekening:e.noRekening};this.props.dispatch(Object(w.t)()),Object(_.c)("rekening/add",t).then((function(){return a.props.dispatch(Object(w.k)())})).then((function(){return a.props.dispatch(Object(C.g)())})).then((function(e){return Object(S.b)("Data Berhasil Disimpan!").then((function(){return Object(S.a)("Data Berhasil Disimpan Di Rekening",t)})).then((function(){return a.props.dispatch(Object(E.d)())})).then((function(){return a.props.dispatch(Object(R.b)("DataRekening"))}))})).catch((function(t){return a.handleReactive(t,e.noRekening,{atas_nama:e.atasNama,nama_bank:e.namaBank})}))}},{key:"handleReactive",value:function(e,a,t){var n=this;this.props.dispatch(Object(C.g)()),e.response.data.includes("deleted")?Object(S.d)(e,a,"rekening/reactive/",t,"rekening/edit/").then((function(){return n.props.dispatch(Object(E.d)())})):Object(S.c)("Data Gagal Ditambahkan")}},{key:"handleEdit",value:function(e){var a=this,t={atas_nama:e.atasNama,kode_bank:e.kodeBank.split("-")[0]};this.props.dispatch(Object(w.t)()),Object(_.d)("rekening/edit/"+e.noRekening,t).then((function(){return a.props.dispatch(Object(w.k)())})).then((function(){return a.props.dispatch(Object(C.g)())})).then((function(e){return Object(S.b)("Data Berhasil Diubah!").then((function(){return Object(S.a)("Data Berhasil Diubah Di Rekneing",t)})).then((function(){return a.props.dispatch(Object(E.d)())}))})).catch((function(e){return Object(S.c)("Data Gagal Diubah!").then((function(){return Object(S.a)("Data Gagal Diubah di rekening",t,e)}))}))}},{key:"tambahModal",value:function(){this.props.dispatch(Object(C.j)()),this.setState({isEdit:!1})}},{key:"edithModal",value:function(){this.props.dispatch(Object(C.j)()),this.setState({isEdit:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid",style:{color:"black"}},s.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")),s.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),s.a.createElement(U.a,{tourConfig:["Untuk Menambahkan Data Rekening Bank, Tekan Tombol ini Dan Isi kolom yang disediakan","Ini adalah data Rekening Bank yang sudah tersimpan","Ini adalah tombol untuk menghapus data pada baris yang dipilih","Ini adalah tombol untuk mengubah data pada baris yang dipilih"]}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"card"},s.a.createElement(x.default,{title:"Data Rekening"}),s.a.createElement("div",{className:"card-body"},s.a.createElement(A.default,{content:this.state.isEdit?s.a.createElement(D,{updateStatus:this.updateStatus,onSubmit:function(a){return e.handleEdit(a)},onSend:this.props.onSend}):s.a.createElement(k,{updateStatus:this.updateStatus,onSubmit:function(a){return e.handleSubmit(a)},onSend:this.props.onSend}),title:this.state.isEdit?"Edit Data Rekening":"Tambah Data Rekening"}),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info",onClick:function(){return e.tambahModal()},"data-tut":"reactour_1"},"Tambah Data Rekening"))),s.a.createElement("div",{className:"col-lg-12","data-tut":"reactour_2"},this.props.daftarList?s.a.createElement(g.a,{data:this.props.daftarList,columns:this.state.columns,defaultSorted:M,namaKey:"noRekening"}):s.a.createElement("div",null,this.props.error?s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:v.a,style:{width:"30%"},alt:"ERROR GET DATA"}),s.a.createElement("br",null),s.a.createElement("h4",null,"Request API Gagal, Silahkan Refresh")):s.a.createElement(y.a,{width:"100%",height:180}))))))))}}]),t}(o.Component);a.default=Object(l.b)((function(e){return{daftarList:e.provinsi.rekening,alert:e.provinsi.alert,error:e.provinsi.error,onSend:e.provinsi.onSend}}),null)(T)}}]);
//# sourceMappingURL=73.93801921.chunk.js.map