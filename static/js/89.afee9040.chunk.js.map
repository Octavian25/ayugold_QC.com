{"version":3,"sources":["FICO/Component/TransferBalance.jsx","FICO/Component/FormTransferBalance.jsx","FICO/TransferBalance.jsx"],"names":["currencyMask","createNumberMask","prefix","suffix","locale","TransferBalance","props","updateGr","change","piutang_gr_akhir","state","this","dispatch","getcustomerList","titip_gr_akhir","piutang_rp_akhir","onSubmit","handleSubmit","className","Field","name","component","renderFieldSelect","options","customer","map","obj","value","kode_customer","nama_customer","type","label","placeholder","disabled","renderField","readOnly","onChange","updateRp","updateTitipGr","updateTitipRp","onSend","aria-hidden","class","Component","reduxForm","form","enableReinitialize","selector","formValueSelector","connect","piutang_gr","piutang_rp","titip_gr","titip_rp","piutang_gr_ambil","piutang_rp_ambil","titip_gr_ambil","titip_rp_ambil","provinsi","titip_rp_akhir","parseFloat","initialValues","listPiutangCustomer","FormTransferBalance","inputChange","input","e","setState","target","columns","dataField","text","align","headerAlign","searchText","listCustomer","getUUID","cashNetto","transferNetto","data","split","getPiutangCustomer","tanggal","progressSend","AxiosMasterGet","then","res","finishSend","catch","err","gagal","undefined","kode_customer_tujuan","warning","simpan","no_transfer","noFaktur","getToday","kode_customer_from","kode_customer_to","total_jml_gr","total_jml_rp","total_titip_gr","total_titip_rp","AxiosMasterPost","berhasil","localStorage","removeItem","hideModal","window","location","reload","nama_toko","onSubmitToko","onClick","showModal","ModalMasterData","content","title","harga","cash","transfer","toFixed","console","log","to","HeaderCard","handlSubmit"],"mappings":"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","file":"static/js/89.afee9040.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { getcustomerList } from \"../../actions/customerAction\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\nclass TransferBalance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getcustomerList());\r\n  }\r\n\r\n  updateTitipGr() {\r\n    this.props.change(\"titip_gr_akhir\", this.props.titip_gr_akhir);\r\n  }\r\n  updateTitipRp() {\r\n    this.props.change(\"titip_rp_akhir\", this.props.titip_gr_akhir);\r\n  }\r\n  updateRp() {\r\n    this.props.change(\"piutang_rp_akhir\", this.props.piutang_rp_akhir);\r\n  }\r\n  updateGr = () => {\r\n    this.props.change(\"piutang_gr_akhir\", this.props.piutang_gr_akhir);\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6\">\r\n            <Field\r\n              name=\"kode_customer\"\r\n              component={renderFieldSelect}\r\n              options={this.props.customer.map((obj) => {\r\n                var payload = {\r\n                  value: obj.kode_customer,\r\n                  name: obj.nama_customer,\r\n                };\r\n                return payload;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Nama Toko\"\r\n              placeholder=\"Masukan Nama Toko\"\r\n              disabled\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-6\">\r\n            <Field\r\n              name=\"kode_customer_tujuan\"\r\n              component={renderFieldSelect}\r\n              options={this.props.customer.map((obj) => {\r\n                var payload = {\r\n                  value: obj.kode_customer,\r\n                  name: obj.nama_customer,\r\n                };\r\n                return payload;\r\n              })}\r\n              type=\"text\"\r\n              label=\"Nama Toko Tujuan \"\r\n              placeholder=\"Masukan Nama Toko Tujuan\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_gr\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Piutang GR\"\r\n              placeholder=\"Masukan Piutang GR\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_rp\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Piutang RP\"\r\n              placeholder=\"Masukan Piutang RP\"\r\n              readOnly\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_gr\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Titip GR\"\r\n              placeholder=\"Masukan Titip GR\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_rp\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Titip RP\"\r\n              placeholder=\"Masukan Titip RP\"\r\n              readOnly\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_gr_ambil\"\r\n              component={renderField}\r\n              type=\"number\"\r\n              label=\"Ambil Piutang GR\"\r\n              placeholder=\"Masukan Piutang GR\"\r\n              onChange={this.updateGr()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_rp_ambil\"\r\n              component={renderField}\r\n              type=\"number\"\r\n              label=\"Ambil Piutang RP\"\r\n              placeholder=\"Masukan Piutang RP\"\r\n              onChange={this.updateRp()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_gr_ambil\"\r\n              component={renderField}\r\n              type=\"number\"\r\n              label=\"Ambil Titip GR\"\r\n              placeholder=\"Masukan Titip GR\"\r\n              onChange={this.updateTitipGr()}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_rp_ambil\"\r\n              component={renderField}\r\n              type=\"number\"\r\n              label=\"Ambil Titip RP\"\r\n              placeholder=\"Masukan Titip RP\"\r\n              onChange={this.updateTitipRp()}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-11\">\r\n                <hr />\r\n              </div>\r\n              <div className=\"col-lg-1\">\r\n                <i className=\"fa fa-minus\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_gr_akhir\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Piutang GR\"\r\n              placeholder=\"Masukan Piutang GR\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"piutang_rp_akhir\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Piutang RP\"\r\n              placeholder=\"Masukan Piutang RP\"\r\n              readOnly\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_gr_akhir\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Titip GR\"\r\n              placeholder=\"Masukan Titip GR\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-3\">\r\n            <Field\r\n              name=\"titip_rp_akhir\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              label=\"Titip RP\"\r\n              placeholder=\"Masukan Titip RP\"\r\n              readOnly\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-12 col-md-12 mt-2\">\r\n          <div className=\"text-right\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              type=\"submit\"\r\n              disabled={this.props.onSend}\r\n            >\r\n              {this.props.onSend ? (\r\n                <span\r\n                  className=\"spinner-border spinner-border-sm mr-3\"\r\n                  aria-hidden=\"true\"\r\n                ></span>\r\n              ) : null}\r\n              Selesai\r\n                <i class=\"fa fa-paper-plane ml-3\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nTransferBalance = reduxForm({\r\n  form: \"TransferBalance\",\r\n  enableReinitialize: true,\r\n})(TransferBalance);\r\nconst selector = formValueSelector(\"TransferBalance\");\r\nexport default connect((state) => {\r\n  const {\r\n    piutang_gr,\r\n    piutang_rp,\r\n    titip_gr,\r\n    titip_rp,\r\n    piutang_gr_ambil,\r\n    piutang_rp_ambil,\r\n    titip_gr_ambil,\r\n    titip_rp_ambil,\r\n  } = selector(\r\n    state,\r\n    \"piutang_gr\",\r\n    \"piutang_rp\",\r\n    \"titip_gr\",\r\n    \"titip_rp\",\r\n    \"piutang_gr_ambil\",\r\n    \"piutang_rp_ambil\",\r\n    \"titip_gr_ambil\",\r\n    \"titip_rp_ambil\"\r\n  );\r\n  return {\r\n    customer: state.provinsi.customer,\r\n    titip_rp_akhir: parseFloat(titip_rp) - parseFloat(titip_rp_ambil || 0),\r\n    titip_gr_akhir: parseFloat(titip_gr) - parseFloat(titip_gr_ambil || 0),\r\n    piutang_rp_akhir:\r\n      parseFloat(piutang_rp) - parseFloat(piutang_rp_ambil || 0),\r\n    piutang_gr_akhir:\r\n      parseFloat(piutang_gr) - parseFloat(piutang_gr_ambil || 0),\r\n    initialValues: {\r\n      piutang_gr: state.provinsi.listPiutangCustomer.piutang_gr,\r\n      piutang_rp: state.provinsi.listPiutangCustomer.piutang_rp,\r\n      titip_gr: state.provinsi.listPiutangCustomer.titip_gr,\r\n      titip_rp: state.provinsi.listPiutangCustomer.titip_rp,\r\n      kode_customer: state.provinsi.listPiutangCustomer.kode_customer,\r\n      piutang_gr_ambil: 0,\r\n      piutang_rp_ambil: 0,\r\n      titip_gr_ambil: 0,\r\n      titip_rp_ambil: 0,\r\n    },\r\n  };\r\n})(TransferBalance);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, formValueSelector } from \"redux-form\";\r\nimport { getcustomerList } from \"../../actions/customerAction\";\r\nimport { getPiutangCustomer } from \"../../actions/TrasferCustomerAction\";\r\nimport { AxiosMasterGet, AxiosMasterPost } from \"../../Axios\";\r\nimport { renderField, renderFieldSelect } from \"../../renderField\";\r\nimport { finishSend, progressSend } from \"../../actions/LogicAction\";\r\nimport { berhasil, gagal, warning } from \"../../Alert\";\r\nimport TransferBalance from \"./TransferBalance\";\r\nimport ModalMasterData from \"../../DataMaster/Component/ModalMasterData\";\r\nimport { hideModal, showModal } from \"../../actions/ModalAction\";\r\nimport { getUUID } from \"../../actions/fakturAction\";\r\nimport { getToday } from \"../../helper\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\nclass FormTransferBalance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"kode_customer\",\r\n          text: \"Kode Customer\",\r\n        },\r\n        {\r\n          dataField: \"piutang_gr\",\r\n          text: \"Piutang GR\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"piutang_rp\",\r\n          text: \"Piutang RP\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"titip_gr\",\r\n          text: \"Titip GR\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n        {\r\n          dataField: \"titip_rp\",\r\n          text: \"Titip RP\",\r\n          align: \"right\",\r\n          headerAlign: \"right\",\r\n        },\r\n      ],\r\n      searchText: \"\",\r\n      listCustomer: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getcustomerList());\r\n    this.props.dispatch(getUUID());\r\n  }\r\n  onChange() {\r\n    this.props.change(\"cashNetto\", this.props.cashNetto);\r\n    this.props.change(\"transferNetto\", this.props.transferNetto);\r\n  }\r\n\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  onSubmitToko(data) {\r\n    var split = data.split(\"|\");\r\n    this.props.change(\"kodeToko\", split[0]);\r\n    this.props.change(\"kodeCustomer\", split[1]);\r\n    this.props.dispatch(getPiutangCustomer(split[0], this.props.tanggal));\r\n    this.props.dispatch(progressSend());\r\n    AxiosMasterGet(\r\n      `trx-transfer-balance/get-piutang-titipan/${split[0]}&${this.props.tanggal}`\r\n    )\r\n      .then((res) => {\r\n        this.props.dispatch(finishSend());\r\n        this.props.change(\"piutang_gr\", res.data.piutang_gr);\r\n        this.props.change(\"piutang_rp\", res.data.piutang_rp);\r\n        this.props.change(\"titip_gr\", res.data.titip_gr);\r\n        this.props.change(\"titip_rp\", res.data.titip_rp);\r\n      })\r\n      .catch((err) =>\r\n        gagal(`Gagal Ambil Data , Detial : ${err}`).then(() =>\r\n          this.props.dispatch(finishSend())\r\n        )\r\n      );\r\n  }\r\n\r\n  handleSubmit(data) {\r\n    if (data.kode_customer_tujuan === undefined) {\r\n      warning(\"Mohon Isi Customer Tujuan\");\r\n      return false;\r\n    }\r\n    let simpan = {\r\n      no_transfer: this.props.noFaktur,\r\n      tanggal: this.props.tanggal || getToday(),\r\n      kode_customer_from: data.kode_customer,\r\n      kode_customer_to: data.kode_customer_tujuan,\r\n      total_jml_gr: data.piutang_gr_ambil,\r\n      total_jml_rp: data.piutang_rp_ambil,\r\n      total_titip_gr: data.titip_gr_ambil,\r\n      total_titip_rp: data.titip_rp_ambil,\r\n    };\r\n    AxiosMasterPost(\"trx-transfer-balance/simpan\", simpan)\r\n      .then(() => berhasil(`Transfer Berhasil`))\r\n      .then(() => localStorage.removeItem(\"noFaktur\"))\r\n      .then(() => this.props.dispatch(hideModal()))\r\n      .then(() => this.props.dispatch(getUUID()))\r\n      .then(() => window.location.reload())\r\n      .catch((err) => gagal(`Gagal Transfer, Detail : ${err}`));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4 col-lg-4\">\r\n          <Field\r\n            name=\"tanggal\"\r\n            label=\"Tanggal\"\r\n            type=\"date\"\r\n            component={renderField}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-4 col-lg-4 d-none\">\r\n          <Field\r\n            name=\"kodeToko\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Nama Toko\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-lg-4\">\r\n          <Field\r\n            name=\"kode_customer\"\r\n            component={renderFieldSelect}\r\n            options={this.props.customer.map((obj) => {\r\n              var payload = {\r\n                value: obj.kode_customer + \"|\" + obj.nama_customer,\r\n                name: obj.nama_toko,\r\n              };\r\n              return payload;\r\n            })}\r\n            onChange={(data) => this.onSubmitToko(data)}\r\n            type=\"text\"\r\n            label=\"Nama Toko\"\r\n            placeholder=\"Masukan Nama Toko\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-4 col-lg-4\">\r\n          <Field\r\n            name=\"kodeCustomer\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Nama Customer\"\r\n            readOnly={true}\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <Field\r\n            name=\"piutang_gr\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Piutang GR\"\r\n            placeholder=\"Masukan Piutang GR\"\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <Field\r\n            name=\"piutang_rp\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Piutang RP\"\r\n            placeholder=\"Masukan Piutang RP\"\r\n            readOnly\r\n            {...currencyMask}\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <Field\r\n            name=\"titip_gr\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Titip GR\"\r\n            placeholder=\"Masukan Titip GR\"\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <Field\r\n            name=\"titip_rp\"\r\n            component={renderField}\r\n            type=\"text\"\r\n            label=\"Titip RP\"\r\n            placeholder=\"Masukan Titip RP\"\r\n            readOnly\r\n            {...currencyMask}\r\n          />\r\n        </div>\r\n        <div className=\"col-lg-12 col-md-12 mt-2\">\r\n          <div className=\"text-right\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              type=\"button\"\r\n              disabled={this.props.onSend}\r\n              onClick={() => this.props.dispatch(showModal())}\r\n            >\r\n              {this.props.onSend ? (\r\n                <span\r\n                  className=\"spinner-border spinner-border-sm mr-3\"\r\n                  aria-hidden=\"true\"\r\n                ></span>\r\n              ) : null}\r\n              Transfer Balance\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <ModalMasterData\r\n          content={\r\n            <TransferBalance onSubmit={(data) => this.handleSubmit(data)} />\r\n          }\r\n          title=\"Transfer Balance\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormTransferBalance = reduxForm({\r\n  form: \"FormTransferBalance\",\r\n  enableReinitialize: true,\r\n})(FormTransferBalance);\r\nconst selector = formValueSelector(\"FormTransferBalance\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { harga, cash, transfer, tanggal } = selector(\r\n    state,\r\n    \"harga\",\r\n    \"cash\",\r\n    \"transfer\",\r\n    \"tanggal\"\r\n  );\r\n  return {\r\n    cashNetto: (parseFloat(cash) / parseFloat(harga)).toFixed(3),\r\n    transferNetto: (parseFloat(transfer) / parseFloat(harga)).toFixed(3),\r\n    customer: state.provinsi.customer,\r\n    piutang_gr: state.provinsi.listPiutangCustomer.piutang_gr,\r\n    piutang_rp: state.provinsi.listPiutangCustomer.piutang_rp,\r\n    titip_gr: state.provinsi.listPiutangCustomer.titip_gr,\r\n    titip_rp: state.provinsi.listPiutangCustomer.titip_rp,\r\n    tanggal: tanggal,\r\n    onSend: state.provinsi.onSend,\r\n    noFaktur: state.provinsi.noFaktur,\r\n    initialValues: {\r\n      tanggal: getToday(),\r\n    },\r\n  };\r\n})(FormTransferBalance);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport FormTransferBalance from \"./Component/FormTransferBalance\";\r\n\r\nclass TransferBalance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  handlSubmit(data) {\r\n    console.log(data);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col-lg-12 col-d-12\">\r\n          <ol className=\"breadcrumb mb-2\">\r\n            <Link to=\"/KlasifikasiCustomer\">\r\n              <button type=\"button\" className=\"btn btn-secondary\">\r\n                <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i>{\" \"}\r\n                Back\r\n              </button>\r\n            </Link>\r\n          </ol>\r\n          <div className=\"card\">\r\n            <HeaderCard title=\"Transfer Balance Customer\" />\r\n            <div className=\"card-body\">\r\n              <FormTransferBalance\r\n                onSubmit={(data) => this.handlSubmit(data)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TransferBalance;\r\n"],"sourceRoot":""}