(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[58],{1201:function(e,t,a){"use strict";a.r(t);var n=a(68),r=a(24),o=a(25),i=a(27),c=a(26),s=a(0),l=a.n(s),u=a(17),m=a(12),p=a(65),d=a(32),g=a(60),h=a(52),b=a(5),f=a(219),v=a(129),k=a(6),E=a(166),O=a.n(E),j=a(220),_=a(327),y=a(328),N=function(e){var t={};return e.kodeBarang||(t.kodeBarang="Tidak Boleh kosong, silahkan isi"),e.pkg||(t.pkg="Tidak Boleh kosong, silahkan isi"),e.p||(t.p="Tidak Boleh kosong, silahkan isi"),e.k||(t.k="Tidak Boleh kosong, silahkan isi"),e.bruto||(t.bruto="Tidak Boleh kosong, silahkan isi"),e.discGlobalPr||(t.discGlobalPr="Tidak Boleh kosong, silahkan isi"),t},S=a(92),w=a(224),P=a(34),M=a(634),x=a.n(M),G=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleUpload=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,r,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files,o.setState({files:[].concat(Object(n.a)(o.state.files),Object(n.a)(t.target.files))}),r=o.props.listGambarL,i=O.a.mark((function e(t){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).onload=o.handleReaderLoaded,e.next=4,Object(k.v)(a[t]);case 4:i=e.sent,n.readAsDataURL(a[t]),void 0!==n&&void 0!==a&&(n.onloadend=function(){r.push({lokasi_gambar:i}),o.props.dispatch(Object(w.b)(r)),o.props.dispatch(Object(g.l)(r)),o.setState({count:t})});case 7:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<a.length)){e.next=10;break}return e.delegateYield(i(c),"t0",7);case 7:c++,e.next=5;break;case 10:console.log(o.state.files),o.props.change("gambar",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleReaderLoaded=function(e){var t=e.target.result;o.setState({imageBase64:btoa(t)})},o.cameraPhoto=null,o.videoRef=l.a.createRef(),o.state={kodeBarang:[],files:[],dataUri:[]},o}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(S.e)()),this.cameraPhoto=new x.a(this.videoRef.current),setTimeout((function(){e.cameraPhoto.startCamera(M.FACING_MODES.ENVIRONMENT,{width:720,height:720})}),1e3)}},{key:"takePhoto",value:function(){var e=this.props.listGambarL;e.push({lokasi_gambar:this.cameraPhoto.getDataUri({sizeFactor:1,imageCompression:.1,isImageMirror:!1})}),console.log(JSON.stringify(e)),this.setState({dataUri:e}),this.props.dispatch(Object(g.l)(e))}},{key:"stopCamera",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"render",value:function(){var e,t=this;return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"col-lg-12 row"},l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("video",{ref:this.videoRef,autoPlay:"true",width:"100%",height:"95%"}))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center mb-2"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){return t.takePhoto()}},"Ambil Gambar"))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:function(){t.setState({dataUri:[]}),t.props.dispatch(Object(g.l)([])),t.props.dispatch(Object(w.b)([]))}},"Reset Gambar")))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},null===(e=this.props.listGambarL)||void 0===e?void 0:e.map((function(e){return l.a.createElement("div",{className:"col-lg-3 mb-1 mt-1 ml-1 mr-1"},l.a.createElement("img",{alt:"imgCamera",src:null===e||void 0===e?void 0:e.lokasi_gambar,width:"100%",height:"100%"}))}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Silahkan Pilih Gambar")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},l.a.createElement(_.a,{name:"gambar",label:"Gambar",type:"number",component:P.a,readOnly:!0}))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{class:"input-group mt-2"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("button",{class:"btn btn-danger",type:"button",onClick:function(){t.setState({files:[]}),t.props.dispatch(Object(g.l)([])),t.props.dispatch(Object(w.b)([]))}},"Hapus")),l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{className:"custom-file-input",type:"file",multiple:!0,name:"avatar",id:"file",accept:".jpef, .png, .jpg",onChange:function(e){return t.handleUpload(e)},src:this.state.image}),l.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile03"},"Choose file")))),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan")))))}}]),a}(s.Component);G=Object(y.a)({form:"FormGambarPackingL",enableReinitialize:!0,validate:N})(G);var F=Object(u.b)((function(e){return{cameraURI:e.provinsi.cameraURI,listGambarL:e.provinsi.listGambarL||[]}}))(G),C=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleUpload=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,r,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files,o.setState({files:[].concat(Object(n.a)(o.state.files),Object(n.a)(t.target.files))}),r=o.props.listGambarM,i=O.a.mark((function e(t){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).onload=o.handleReaderLoaded,e.next=4,Object(k.v)(a[t]);case 4:i=e.sent,n.readAsDataURL(a[t]),void 0!==n&&void 0!==a&&(n.onloadend=function(){r.push({lokasi_gambar:i}),o.props.dispatch(Object(w.b)(r)),o.props.dispatch(Object(g.m)(r)),o.setState({count:t})});case 7:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<a.length)){e.next=10;break}return e.delegateYield(i(c),"t0",7);case 7:c++,e.next=5;break;case 10:console.log(o.state.files),o.props.change("gambar",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleReaderLoaded=function(e){var t=e.target.result;o.setState({imageBase64:btoa(t)})},o.cameraPhoto=null,o.videoRef=l.a.createRef(),o.state={kodeBarang:[],files:[],dataUri:[]},o}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(S.e)()),this.cameraPhoto=new x.a(this.videoRef.current),setTimeout((function(){e.cameraPhoto.startCamera(M.FACING_MODES.ENVIRONMENT,{width:720,height:720})}),1e3)}},{key:"takePhoto",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t,a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sizeFactor:1,imageCompression:1,isImageMirror:!1},a=Object(k.l)(this.cameraPhoto.getDataUri(t)),e.next=4,Object(k.v)(a);case 4:n=e.sent,console.log(n),(r=this.props.listGambarM).push({lokasi_gambar:n}),console.log(JSON.stringify(r)),this.setState({dataUri:r}),this.props.dispatch(Object(g.m)(r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"render",value:function(){var e,t=this;return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"col-lg-12 row"},l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("video",{ref:this.videoRef,autoPlay:"true",width:"100%",height:"95%"}))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center mb-2"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){return t.takePhoto()}},"Ambil Gambar"))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:function(){t.setState({dataUri:[]}),t.props.dispatch(Object(g.m)([])),t.props.dispatch(Object(w.b)([]))}},"Reset Gambar")))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},null===(e=this.props.listGambarM)||void 0===e?void 0:e.map((function(e){return l.a.createElement("div",{className:"col-lg-3 mb-1 mt-1 ml-1 mr-1"},l.a.createElement("img",{alt:"imgCamera",src:null===e||void 0===e?void 0:e.lokasi_gambar,width:"100%",height:"100%"}))}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Silahkan Pilih Gambar")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},l.a.createElement(_.a,{name:"gambar",label:"Gambar",type:"number",component:P.a,readOnly:!0}))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{class:"input-group mt-2"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("button",{class:"btn btn-danger",type:"button",onClick:function(){t.setState({files:[]}),t.props.dispatch(Object(g.m)([])),t.props.dispatch(Object(w.b)([]))}},"Hapus")),l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{className:"custom-file-input",type:"file",multiple:!0,name:"avatar",id:"file",accept:".jpef, .png, .jpg",onChange:function(e){return t.handleUpload(e)},src:this.state.image}),l.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile03"},"Choose file")))),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan")))))}}]),a}(s.Component);C=Object(y.a)({form:"FormGambarPackingM",enableReinitialize:!0,validate:N})(C);var T=Object(u.b)((function(e){return{cameraURI:e.provinsi.cameraURI,listGambarM:e.provinsi.listGambarM||[]}}))(C),A=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleUpload=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,r,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files,o.setState({files:[].concat(Object(n.a)(o.state.files),Object(n.a)(t.target.files))}),r=o.props.listGambarS,i=O.a.mark((function e(t){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).onload=o.handleReaderLoaded,e.next=4,Object(k.v)(a[t]);case 4:i=e.sent,n.readAsDataURL(a[t]),void 0!==n&&void 0!==a&&(n.onloadend=function(){r.push({lokasi_gambar:i}),o.props.dispatch(Object(w.b)(r)),o.props.dispatch(Object(g.n)(r)),o.setState({count:t})});case 7:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<a.length)){e.next=10;break}return e.delegateYield(i(c),"t0",7);case 7:c++,e.next=5;break;case 10:console.log(JSON.stringify(r)),o.props.change("gambar",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleReaderLoaded=function(e){var t=e.target.result;o.setState({imageBase64:btoa(t)})},o.cameraPhoto=null,o.videoRef=l.a.createRef(),o.state={kodeBarang:[],files:[],dataUri:[]},o}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(S.e)()),this.cameraPhoto=new x.a(this.videoRef.current),setTimeout((function(){e.cameraPhoto.startCamera(M.FACING_MODES.ENVIRONMENT,{width:720,height:720})}),1e3)}},{key:"takePhoto",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t,a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sizeFactor:1,imageCompression:.1,isImageMirror:!1},a=this.props.listGambarS,n=Object(k.l)(this.cameraPhoto.getDataUri(t)),e.next=5,Object(k.v)(n);case 5:r=e.sent,a.push({lokasi_gambar:r}),console.log(JSON.stringify(a)),this.setState({dataUri:a}),this.props.dispatch(Object(g.n)(a));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){this.cameraPhoto.stopCamera().then((function(){console.log("Camera stoped!")})).catch((function(e){console.log("No camera to stop!:",e)}))}},{key:"render",value:function(){var e,t=this;return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"col-lg-12 row"},l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("video",{ref:this.videoRef,autoPlay:"true",width:"100%",height:"95%"}))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center mb-2"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){return t.takePhoto()}},"Ambil Gambar"))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger btn-block",type:"button",onClick:function(){t.setState({dataUri:[]}),t.props.dispatch(Object(g.n)([])),t.props.dispatch(Object(w.b)([]))}},"Reset Gambar")))),l.a.createElement("div",{className:"col-lg-12 row justify-content-center"},null===(e=this.props.listGambarS)||void 0===e?void 0:e.map((function(e){return l.a.createElement("div",{className:"col-lg-3 mb-1 mt-1 ml-1 mr-1"},l.a.createElement("img",{alt:"imgCamera",src:null===e||void 0===e?void 0:e.lokasi_gambar,width:"100%",height:"100%"}))}))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Silahkan Pilih Gambar")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},l.a.createElement(_.a,{name:"gambar",label:"Gambar",type:"number",component:P.a,readOnly:!0}))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("div",{class:"input-group mt-2"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("button",{class:"btn btn-danger",type:"button",onClick:function(){t.setState({files:[]}),t.props.dispatch(Object(g.n)([])),t.props.dispatch(Object(w.b)([]))}},"Hapus")),l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{className:"custom-file-input",type:"file",multiple:!0,name:"avatar",id:"file",accept:".jpef, .png, .jpg",onChange:function(e){return t.handleUpload(e)},src:this.state.image}),l.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile03"},"Choose file")))),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan")))))}}]),a}(s.Component);A=Object(y.a)({form:"FormGambarPackingS",enableReinitialize:!0,validate:N})(A);var I=Object(u.b)((function(e){return{cameraURI:e.provinsi.cameraURI,listGambarS:e.provinsi.listGambarS||[]}}))(A),L=a(331),R=a(605),D=a(47),B=a.n(D),U=a(13),J=a.n(U),K=a(133),V=a(132),z=a(23),H=Object(R.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),q=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleBarcode=function(){return function(e){var t=e.target.value;if(14===t.length)return Object(b.b)("barang-set/get-by-kode-barcode-set-active/"+t).then((function(e){e.data.detail_barang.forEach((function(t){n.handleBarcodeSet(t,e.data.kode_barcode_set)}))})),!0;var a=t.split("X");n.props.change("kodeBarang",a[0]),n.setState({kodeJenis:a[0],kadarCetak:a[1],kadarJual:a[2]})}},n.state={kodeBarang:[],non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(S.e)())}},{key:"onclick1",value:function(){this.props.change("netto",this.props.netto),this.props.change("noFaktur",this.props.noFaktur),this.props.change("gross",this.props.gross),this.props.change("discGlobalGr",this.props.discGlobalGr),this.props.change("nettoDiscGlobalExt",(this.props.netto-this.props.discGlobalGr).toFixed(3))}},{key:"pilihBarang",value:function(e){var t=this,a=e,n=this.props.KodeBarangList.filter((function(e){return e.kode_jenis===a})),r=localStorage.getItem("customer_1")||"-";Object(b.b)("/kelompok-harga/get/by-jenis-and-customer/".concat(r,"&").concat(e)).then((function(e){var a,r,o,i,c,s,l,u;if(void 0===(null===(a=e.data)||void 0===a?void 0:a.kode_tukar_normal)||"undefined"===(null===(r=e.data)||void 0===r?void 0:r.kode_tukar_normal))return Object(h.e)("Kode Tukar Belum Ditentukan ,Mohon tentukan Kode Tukar di menu kelompok harga"),t.props.change("kodeBarang"),!1;"AKSESORIS"===(null===(o=e.data)||void 0===o?void 0:o.kode_kelompok)?t.setState({non_aksesoris:"col-lg-12 row d-none",aksesoris:"col-lg-12 row"}):t.setState({non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"}),t.setState({kodeJenis:n[0].kode_jenis,namaJenis:n[0].nama_jenis,kadarCetak:null===(i=e.data)||void 0===i?void 0:i.kode_tukar_normal,kadarJual:null===(c=e.data)||void 0===c?void 0:c.kode_tukar_normal,kodeKategori:null===(s=e.data)||void 0===s?void 0:s.kode_kategori,namaKategori:null===(l=e.data)||void 0===l?void 0:l.nama_kategori,harga_jual:null===(u=e.data)||void 0===u?void 0:u.harga_aksesoris}),t.setKadar(),Object(k.w)("P")}))}},{key:"setKadar",value:function(){this.props.change("keterangan",this.state.namaJenis),this.props.change("namaJenis",this.state.namaJenis),this.props.change("kadar",this.state.kadarCetak),this.props.change("harga_jual",this.state.harga_jual),this.props.change("kadarTransaksi",this.state.kadarJual)}},{key:"setBruto",value:function(){this.props.change("bruto",localStorage.getItem("Timbangan"))}},{key:"handleBarcodeSet",value:function(e,t){var a=this;console.log("INI DI BARCODE SET");var n=e.kode_jenis,r=this.props.KodeBarangList.filter((function(e){return e.kode_jenis===n}));Object(b.b)("jenis/get/by-kode-jenis/".concat(e.kode_jenis)).then((function(n){var o={netto_disc:parseFloat(e.netto_disc||0).toFixed(3),gross:parseFloat(e.gross||0).toFixed(3),netto:parseFloat(e.netto||0).toFixed(3),qty:1,k:parseFloat(e.k||0),ongkos_rp:parseFloat(e.ongkos_rp||0),kadar_cetak:(r[0].kadar_cetak||0).toString(),disc_persen:e.disc_persen||0,kadar_jual:parseFloat(e.kadar_jual||0),kadar_level2:n.data.level2,kadar_level3:n.data.level3,kadar_modal:r[0].kadar_beli,kode_jenis:r[0].kode_jenis,kode_barcode:"-",kode_barcode_set:t,p:parseFloat(e.p||0),disc:e.disc||0,pkg:parseFloat(e.pkg||0),bruto:parseFloat(e.bruto||0).toFixed(3)},i=Object(k.e)({data:e,hasil:r,res:n,kode_barcode_set:t}),c=Object(k.f)({data:e,res:n,hasil:r,kode_barcode_set:t}),s=JSON.parse(localStorage.getItem("transaksiPenjualan"))||[],l=JSON.parse(localStorage.getItem("transaksiPenjualan_level2"))||[],u=JSON.parse(localStorage.getItem("transaksiPenjualan_level3"))||[];s.push(o),l.push(i),u.push(c);var p=s.map((function(e){return parseFloat(e.netto_disc)})).reduce((function(e,t){return e+t}),0);localStorage.setItem("GrandTotalNetto",p),localStorage.setItem("transaksiPenjualan",JSON.stringify(s)),localStorage.setItem("transaksiPenjualan_level2",JSON.stringify(l)),localStorage.setItem("transaksiPenjualan_level3",JSON.stringify(u)),J.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),a.props.dispatch(Object(K.e)()),a.props.dispatch(Object(V.e)()),a.props.dispatch(Object(m.b)("FormPackingList")),a.props.dispatch(Object(d.g)()),a.props.dispatch(Object(z.o)("transaksiPenjualan")),a.setState({discGlobalGr:parseFloat(0)/100*parseFloat(localStorage.getItem("GrandTotalNetto")),discGlobalPr:0,GrandTotalNetto:(parseFloat(localStorage.getItem("GrandTotalNetto"))-0).toFixed(3)})})).catch((function(e){return Object(h.c)("Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu")}))}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},l.a.createElement(_.a,{name:"noFaktur",label:this.props.noFaktur,type:"text",readOnly:!0,component:P.a,defaultValue:this.props.noFaktur,normalize:function(e){return e&&e.toUpperCase()}})),l.a.createElement("div",{className:"col-md-4 col-lg-4"},""!==String(this.props.KodeBarangList)?l.a.createElement(_.a,{name:"kodeBarang",label:"Kode Model",component:P.b,className:"form-control",onChange:function(t){return e.pilihBarang(t)},onBlur:this.setKadar(),options:this.props.KodeBarangList.filter((function(e){return"PERHIASAN"===e.kode_kelompok||"AKSESORIS"===e.kode_kelompok})).map((function(e){return{value:e.kode_jenis,name:e.nama_jenis}}))}):l.a.createElement(B.a,{width:"100%",height:50})),l.a.createElement("div",{className:"col-md-4 col-lg-4"},l.a.createElement(_.a,{name:"kode_barocde",label:"Kode Barcode",type:"text",component:P.a,placeholder:"Biarkan Kosong jika Tidak Digunakan",normalize:function(e){return e&&e.toUpperCase()},onChange:this.handleBarcode()})),l.a.createElement("div",{className:"col-lg-3"}),l.a.createElement("div",{className:this.state.non_aksesoris},l.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},l.a.createElement(_.a,{name:"kadar",label:"Kode Tukar",type:"number",component:P.a})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"p",label:"P",type:"number",component:P.a})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"k",label:"K",type:"number",component:P.a})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"pkg",label:"Pkg (Gr)",type:"number",component:P.a,onBlur:function(){return e.onclick1()}})),l.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},l.a.createElement(_.a,{name:"namaJenis",label:"Pkg (Gr)",type:"number",component:P.a,onBlur:function(){return e.onclick1()}})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"bruto",label:"Berat (Gr)",type:"number",component:P.a,onChange:this.onclick1()})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"kadarTransaksi",label:"Kode Tukar",type:"number",component:P.a,onBlur:function(){return e.onclick1()}})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"netto",label:"Netto (Gr)",type:"number",component:P.a,readOnly:!0})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"gross",label:"Gross (Gr)",type:"number",component:P.a,readOnly:!0})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"discGlobalPr",label:"Diskon (%)",type:"number",component:P.a,onBlur:function(){return e.onclick1()}})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"discGlobalGr",label:"Diskon (Gr)",type:"number",component:P.a,readOnly:!0})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"nettoDiscGlobalExt",label:"Netto - Diskon (Gr)",type:"number",component:P.a,readOnly:!0})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),l.a.createElement(_.a,Object.assign({name:"rp",component:"input",type:"tel",className:"form-control"},H)))),l.a.createElement("div",{className:this.state.aksesoris},l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement(_.a,{name:"qty",label:"Qty",type:"number",component:P.a})),l.a.createElement("div",{className:"col-md-3 col-lg-3"},l.a.createElement("label",{htmlFor:""},"Harga Jual"),l.a.createElement(_.a,Object.assign({name:"harga_jual",label:"Harga Jual",component:"input",type:"tel",className:"form-control"},H)))),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan")))))}}]),a}(s.Component);q=Object(y.a)({form:"FormPackingList",enableReinitialize:!0})(q);var Y=Object(L.a)("FormPackingList"),W=Object(u.b)((function(e){var t=Y(e,"bruto","kadarTransaksi","pkg","discGlobalPr"),a=t.bruto,n=t.kadarTransaksi,r=t.pkg,o=t.discGlobalPr;return{netto:(parseFloat(a||0)*(parseFloat(n||0)/100)).toFixed(3),gross:parseFloat(a||0)+parseFloat(r||0),discGlobalGr:(parseFloat(a||0)*(parseFloat(o||0)/100)).toFixed(3),KodeBarangList:e.provinsi.kodeBarang,initialValues:{discGlobalPr:0,p:0,k:0,pkg:0,bruto:0}}}))(q),Q=a(59),Z=a(36),$=a(66),X=a(73),ee=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={columns:[{dataField:"no_bon",text:"Nomor Bon"},{dataField:"tanggal",text:"Tanggal"},{dataField:"kode_lokasi",text:"Lokasi"},{dataField:"total_netto",text:"Total\nNetto(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"disc",text:"Disc(%)",align:"right",headerAlign:"right"},{dataField:"total_netto_disc",text:"Total\nNetto Disc(Gr)",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{type:"button","data-tip":!0,"data-for":"hapus",className:"btn btn-success mr-2",onClick:function(){return n.pilihPO(t.detail_barang,t.no_bon,t)}},l.a.createElement(Q.a,{id:"hapus",type:"dark",effect:"solid"},l.a.createElement("span",null,"Pilih")),l.a.createElement("i",{className:"fa fa-plus"})),l.a.createElement("br",null))}}]},n}return Object(o.a)(a,[{key:"pilihPO",value:function(e,t,a){localStorage.setItem("packingListSelected",t);var n=JSON.parse(localStorage.getItem("packingList_temp"))||[],r=JSON.parse(localStorage.getItem("nota_packingList"))||[];if(n.length>0)return Object(h.e)("Barang Packing List Sudah terdapat barang, silahkan selesaikan atau refresh halaman"),!1;e.forEach((function(e){delete e.kode_kategori,delete e.nama_jenis,delete e._id,e.kadar_cetak=e.kadar_cetak.toString(),n.push(e)})),e.forEach((function(e){r.push(e)})),Object(h.b)("Data Berhasil Ditambahkan"),localStorage.setItem("packingList_temp",JSON.stringify(n)),localStorage.setItem("nota_packingList",JSON.stringify(r)),this.props.dispatch(Object(g.k)(a.kode_customer,a.kode_customer_level2,a.kode_customer_level3,a.nama_customer,a.nama_customer_level2,a.nama_customer_level3,a.level_customer_trx)),this.props.dispatch(Object(m.b)("FormTransaksiPenjualan")),this.props.dispatch(Object(g.h)())}},{key:"getPO",value:function(){if(void 0===this.props.kode_customer)return Object(h.e)("Silahkan Pilih Kode Customer Terlebih dahulu"),!1;this.props.dispatch(Object(X.h)(this.props.kode_customer))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-lg-12 mt-2"},l.a.createElement("div",{id:"accordion",className:"custom-accordion mb-4"},l.a.createElement("div",{className:"card mb-0 bg-primary"},l.a.createElement("div",{className:"card-header",id:"headingOne"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h5",{className:"m-0"},l.a.createElement("a",{className:"custom-accordion-title d-block pt-2 pb-2 text-white","data-toggle":"collapse",href:"#collapsePO","aria-expanded":"true","aria-controls":"collapsePO"},"Data Transaksi"))))),l.a.createElement("div",{id:"collapsePO",className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},l.a.createElement("div",{className:"card-body bg-white"},l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-primary form-control",type:"button",onClick:function(){return e.getPO()}},"Cari Transaksi"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("p",null,"*Mohon isi Kode Customer Terlebih dahulu sebelum mencari Transaksi")),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"kodeJenis",data:this.props.listPOPacking||[],columns:this.state.columns,textEmpty:"Silahkan Tambah Data Dengan Klik Tombol Biru Diatas"})))))))))}}]),a}(s.Component);ee=Object(y.a)({form:"AccordPOPAckingList",enableReinitialize:!0})(ee);var te=Object(L.a)("AccordPOPAckingList"),ae=Object(u.b)((function(e){var t=te(e,"kode_po","kadarTransaksi","pkg","discGlobalPr").kode_po;return{listPOPacking:e.provinsi.listPOPacking,kode_po:t}}))(ee),ne=a(227),re=a.n(ne),oe=a(48),ie=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleUpload=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,r,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files,o.setState({files:[].concat(Object(n.a)(o.state.files),Object(n.a)(t.target.files))}),r=[],i=O.a.mark((function e(t){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).onload=o.handleReaderLoaded,e.next=4,Object(k.v)(a[t]);case 4:i=e.sent,n.readAsDataURL(a[t]),void 0!==n&&void 0!==a&&(n.onloadend=function(){r.push({lokasi_gambar:i}),o.props.dispatch(Object(w.b)(r)),o.setState({count:t})}),o.props.dispatch(Object(g.l)(r));case 8:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<a.length)){e.next=10;break}return e.delegateYield(i(c),"t0",7);case 7:c++,e.next=5;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleReaderLoaded=function(e){var t=e.target.result;o.setState({imageBase64:btoa(t)})},o.state={tablePO:!0,image:"",kodeCustomer:"",add:!0,columns:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"qty",text:"Qty",align:"right",headerAlign:"right",headerStyle:function(){return{width:"5%"}}},{dataField:"kadar_cetak",text:"Cap Kode\n",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e)}},{dataField:"pkg",text:"Pkg\n(Gr)",align:"right",headerAlign:"right",headerStyle:function(){return{width:"7%"}},formatter:function(e){return Object(k.m)(e)}},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e)}},{dataField:"kadar_jual",text:"Kode\nTukar",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e)}},{dataField:"netto",text:"Murni\n(Gr)",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"disc_persen",text:"%",align:"right",headerAlign:"right",footerClasses:"sum-netto-terima-supplier"},{dataField:"disc",text:"Disc\n(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e)},footerClasses:"sum-netto-terima-supplier"},{dataField:"netto_disc",text:"Netto\nDisc(Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"harga_jual",text:"Harga Jual",align:"right",headerAlign:"right",formatter:function(e){return Object(k.p)(e)}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{type:"button","data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return o.deleteRow(a,"packingList_temp")}},l.a.createElement(Q.a,{id:"hapus",type:"dark",effect:"solid"},l.a.createElement("span",null,"Hapus")),l.a.createElement("i",{className:"fa fa-trash mr-1"})),l.a.createElement("br",null))}}],columnsPackingS:[{dataField:"total_item",text:"Total Qty"},{dataField:"berat_p_s",text:"Berat Packing S",formatter:function(e){return Object(k.m)(e)}},{dataField:"pkg_s",text:"Total Packing Barang",formatter:function(e){return Object(k.m)(e)}},{dataField:"bruto_s",text:"TOtal Bruto",formatter:function(e){return Object(k.m)(e)}},{dataField:"netto_s",text:"Total Netto",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{type:"button","data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return o.deleteRow(a,"PackingS")}},l.a.createElement(Q.a,{id:"hapus",type:"dark",effect:"solid"},l.a.createElement("span",null,"Hapus")),l.a.createElement("i",{className:"fa fa-trash mr-1"})),l.a.createElement("br",null))}}],columnsPackingM:[{dataField:"total_item",text:"Total Qty"},{dataField:"berat_p_m",text:"Berat Packing M",formatter:function(e){return Object(k.m)(e)}},{dataField:"pkg_m",text:"Total Packing Barang",formatter:function(e){return Object(k.m)(e)}},{dataField:"bruto_m",text:"Total Bruto",formatter:function(e){return Object(k.m)(e)}},{dataField:"netto_m",text:"Total Netto",formatter:function(e){return Object(k.m)(e,3)}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{type:"button","data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return o.deleteRow(a,"PackingM")}},l.a.createElement(Q.a,{id:"hapus",type:"dark",effect:"solid"},l.a.createElement("span",null,"Hapus")),l.a.createElement("i",{className:"fa fa-trash mr-1"})),l.a.createElement("br",null))}}],files:[]},o}return Object(o.a)(a,[{key:"deleteRow",value:function(e,t){var a=this;J.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){if(n.isConfirmed){var r=JSON.parse(localStorage.getItem(t))||[];r.splice(e,1),localStorage.setItem(t,JSON.stringify(r)),Object(h.b)("Berhasil Hapus Data"),a.props.dispatch(Object(Z.h)()),a.props.dispatch(Object(g.j)()),a.props.dispatch(Object(g.i)()),a.props.dispatch(Object(g.h)())}}))}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(Z.h)()),this.props.dispatch(Object(g.j)()),this.props.dispatch(Object(g.i)())}},{key:"handlePackingM",value:function(){var e=JSON.parse(localStorage.getItem("PackingS"))||[];if(0===e.length)return Object(h.e)("Data Packing S Kosong"),!1;var t=JSON.parse(localStorage.getItem("PackingM"))||[],a=e.map((function(e){return parseFloat(e.pkg_s)})).reduce((function(e,t){return e+t}),0).toFixed(3),n=e.map((function(e){return parseFloat(e.bruto_s)})).reduce((function(e,t){return e+t}),0).toFixed(3),r=e.map((function(e){return parseFloat(e.netto_s)})).reduce((function(e,t){return e+t}),0).toFixed(3),o=e.map((function(e){return parseFloat(e.berat_p_s)})).reduce((function(e,t){return e+t}),0),i=e.map((function(e){return parseFloat(e.total_item)})).reduce((function(e,t){return e+t}),0),c={no_packing_m:re()(),total_item:i,berat_p_m:this.props.berat_p_m,total_berat_p_s:o,pkg_m:a,bruto_m:n,netto_m:r,packing_s:e,gambar:this.props.listGambarM||[]};t.push(c),localStorage.setItem("PackingM",JSON.stringify(t)),Object(h.b)("Berhasil Menambahkan ke Packing M"),localStorage.removeItem("PackingS"),this.props.dispatch(Object(g.j)()),this.props.dispatch(Object(g.i)())}},{key:"handlePackingS",value:function(){var e=JSON.parse(localStorage.getItem("packingList_temp"))||[];if(0===e.length)return Object(h.e)("Barang Kosong"),!1;var t=JSON.parse(localStorage.getItem("PackingS"))||[],a=e.map((function(e){return parseFloat(e.pkg)})).reduce((function(e,t){return e+t}),0).toFixed(3),n=e.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0).toFixed(3),r=e.map((function(e){return parseFloat(e.netto)})).reduce((function(e,t){return e+t}),0).toFixed(3),o={no_packing_s:re()(),total_item:e.length,berat_p_s:this.props.berat_p_s,pkg_s:a,bruto_s:n,netto_s:r,detail_barang:e,gambar:this.props.listGambarS||[]};t.push(o),localStorage.setItem("PackingS",JSON.stringify(t)),Object(h.b)("Berhasil Menambahkan ke Packing S"),localStorage.removeItem("packingList_temp"),this.props.dispatch(Object(g.h)()),this.props.dispatch(Object(g.j)())}},{key:"refresh",value:function(){this.setState({add:!this.state.add})}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(_.a,{name:"tanggal",component:P.a,type:"date",label:"Tanggal",placeholder:"Masukan Tanggal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(_.a,{name:"no_packing",component:P.a,type:"text",label:"Nomor Packing",placeholder:"Masukan Nomor Packing"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(_.a,{name:"kode_customer",component:P.b,options:this.props.customer.map((function(e){return{value:e.kode_customer,name:"".concat(e.nama_customer," - ").concat(e.nama_toko)}})),onChange:function(t){e.setState({kodeCustomer:t}),localStorage.setItem("customer_1",t)},type:"text",label:"Kode Customer",placeholder:"Masukan Kode Customer"})),l.a.createElement(ae,{kode_customer:this.props.kode_customer}),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"kodeJenis",data:this.props.packingList||[],columns:this.state.columns,textEmpty:"Data Untuk Dipacking Kosong, Silahkan Tambahkan dengan menekan tombol biru diatas"})),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{type:"button",className:"btn btn-primary form-control",onClick:this.props.showPackingL},"Upload Gambar Packing")),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{style:{float:"right"}},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(_.a,{name:"qty_kertas",component:P.a,type:"number",label:"Qty Kertas",placeholder:"1"})))),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{style:{float:"right"}},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(_.a,{name:"qty_plastik",component:P.a,type:"number",label:"Qty Plastik",placeholder:"1"})))),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{style:{float:"right"}},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement(_.a,{name:"berat_packing",component:P.a,type:"number",label:"Berat Packing",placeholder:"1"})))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right form-group"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-primary form-control",disabled:this.props.onSend},this.props.onSend?l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan Packing"))))))}}]),a}(s.Component);ie=Object(y.a)({form:"HeadPackingList"})(ie);var ce=Object(L.a)("HeadPackingList"),se=Object(u.b)((function(e){var t=ce(e,"berat_p_s","berat_p_m","kode_customer"),a=t.berat_p_s,n=t.berat_p_m,r=t.kode_customer;return{customer:e.provinsi.customer,packingList:e.provinsi.packingList,berat_p_s:parseFloat(a||0),berat_p_m:parseFloat(n||0),listPackingS:e.provinsi.listPackingS,listPackingM:e.provinsi.listPackingM,kode_customer:r,onSend:e.provinsi.onSend,initialValues:{tanggal:Object(oe.b)(),berat_p_s:0,berat_p_m:0,berat_p_l:0},cameraURI:e.provinsi.cameraURI,listGambarS:e.provinsi.listGambarS,listGambarM:e.provinsi.listGambarM}}))(ie),le=a(199),ue=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={showModal:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(g.h)()),this.props.dispatch(Object(p.b)()),localStorage.removeItem("nota_packingList")}},{key:"handleSubmit",value:function(e){var t=e.kodeBarang,a=this.props.kodeBarang.filter((function(e){return e.kode_jenis===t})),n={netto_disc:parseFloat(e.nettoDiscGlobalExt).toFixed(3)||0,gross:parseFloat(e.gross).toFixed(3)||0,netto:parseFloat(e.netto).toFixed(3)||0,qty:e.qty||1,k:parseFloat(e.k)||0,ongkos_rp:parseFloat(void 0===e.rp?0:e.rp)||0,kadar_cetak:(a[0].kadar_cetak||0).toString(),disc_persen:e.discGlobalPr||0,kadar_jual:a[0].kadar_jual||0,kadar_modal:a[0].kadar_beli||0,kode_jenis:a[0].kode_jenis||0,kode_barcode:"-",p:parseFloat(e.p)||0,disc:e.discGlobalGr||0,pkg:parseFloat(e.pkg)||0,bruto:parseFloat(e.bruto).toFixed(3)||0,gambar:e.gambar,harga_jual:"undefined"===e.harga_jual?0:e.harga_jual||0},r={netto_disc:parseFloat(e.nettoDiscGlobalExt).toFixed(3)||0,gross:parseFloat(e.gross).toFixed(3)||0,netto:parseFloat(e.netto).toFixed(3)||0,qty:e.qty||1,k:parseFloat(e.k)||0,ongkos_rp:parseFloat(void 0===e.rp?0:e.rp)||0,kadar_cetak:(a[0].kadar_cetak||0).toString(),disc_persen:e.discGlobalPr||0,kadar_jual:a[0].kadar_jual||0,kadar_modal:a[0].kadar_beli||0,kode_jenis:a[0].kode_jenis||0,kode_barcode:"-",p:parseFloat(e.p)||0,disc:e.discGlobalGr||0,pkg:parseFloat(e.pkg)||0,bruto:parseFloat(e.bruto).toFixed(3)||0,gambar:e.gambar,harga_jual:"undefined"===e.harga_jual?0:e.harga_jual||0,nama_jenis:e.namaJenis},o=JSON.parse(localStorage.getItem("packingList_temp"))||[],i=JSON.parse(localStorage.getItem("nota_packingList"))||[];o.push(n),i.push(r),Object(h.b)("Data Berhasil Ditambahkan"),localStorage.setItem("packingList_temp",JSON.stringify(o)),localStorage.setItem("nota_packingList",JSON.stringify(i)),this.props.dispatch(Object(m.b)("FormTransaksiPenjualan")),this.props.dispatch(Object(g.h)())}},{key:"handlePacking",value:function(e){var t=this;if(void 0===e.no_packing)return Object(h.e)("Mohon Isi Nomor Packing"),!1;if(void 0===e.tanggal)return Object(h.e)("Mohon Isi Tanggal"),!1;if(void 0===e.kode_customer)return Object(h.e)("Mohon Pilih Kode Customer"),!1;this.props.dispatch(Object(z.t)());var a=JSON.parse(localStorage.getItem("packingList_temp")),r=a.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0),o=localStorage.getItem("kode_PO_Packing")||"-",i={no_packing:this.props.noFaktur,no_ext_packing:e.no_packing,no_po:o,tanggal:e.tanggal,image:this.props.listGambarL||k.c,berat_packing:e.berat_packing,qty_kertas:e.qty_kertas,qty_plastik:e.qty_plastik,kode_customer:e.kode_customer,total_berat_packing:parseFloat(e.berat_packing)+r,no_bon:localStorage.getItem("packingListSelected"),detail_barang:a};Object(b.c)("packing-list/simpan",i).then((function(){var a,r,o=[],i=0,c=0,s=0;JSON.parse(localStorage.getItem("nota_packingList")).forEach((function(e,t){console.log(e.kode_barcode_set);var a=[++t,e.kode_jenis,{content:Object(k.m)(e.bruto),styles:{halign:"right"}}];o.push(a),i=parseFloat(i)+parseFloat(e.bruto),c=parseInt(c)+parseInt(e.ongkos_rp||0),s=parseFloat(s)+parseFloat(e.gross)})),r=[{content:"Total",colSpan:2,styles:{halign:"right"}},{content:"".concat(Object(k.m)(i)),styles:{halign:"right"}}];var l=[{content:"Total Berat Packing",colSpan:2,styles:{halign:"right"}},{content:"".concat(Object(k.m)(parseFloat(e.berat_packing))),styles:{halign:"right"}}],u=[{content:"Total Gross",colSpan:2,styles:{halign:"right"}},{content:"".concat(Object(k.m)(s)),styles:{halign:"right"}}];o.push(r),o.push(l),o.push(u),console.log(JSON.stringify(o)),a=[["No","Kode Jenis",{content:"Bruto (Rp)",styles:{halign:"right"}}]],console.log(t.props.levelCustomer),"LEVEL1"===t.props.levelCustomer?(Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama1,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"LEVEL","ADMIN INTERN","","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL)))):"LEVEL2"===t.props.levelCustomer?(Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama1,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama2,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"LEVEL","ADMIN INTERN","","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL)))):"LEVEL3"===t.props.levelCustomer&&(Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama1,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama2,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"Customer",t.props.nama3,"","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))),Object(le.a)("No Nota",e.no_packing,"Tanggal",e.tanggal,"LEVEL","ADMIN INTERN","","","ADMIN",t.state.tanggal,"",a,"SURAT JALAN",o,[].concat(Object(n.a)(t.props.listGambarS),Object(n.a)(t.props.listGambarM),Object(n.a)(t.props.listGambarL))))})).then((function(){return Object(h.b)("Berhasil Simpan Packing")})).then((function(){return localStorage.removeItem("packingList_temp")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return localStorage.removeItem("kode_PO_Packing")})).then((function(){return localStorage.removeItem("nota_packingList")})).then((function(){t.props.dispatch(Object(g.n)([])),t.props.dispatch(Object(g.m)([])),t.props.dispatch(Object(g.l)([]))})).then((function(){return t.props.dispatch(Object(g.i)())})).then((function(){return t.props.dispatch(Object(p.b)())})).then((function(){return t.props.dispatch(Object(m.b)("HeadPackingList"))})).then((function(){return t.props.dispatch(Object(m.b)("AccordPOPAckingList"))})).then((function(){return t.props.dispatch(Object(z.k)())})).then((function(){return window.location.reload()})).catch((function(){localStorage.removeItem("noFaktur"),t.props.dispatch(Object(p.b)()),Object(h.c)("Gagal Simpan Packing"),t.props.dispatch(Object(z.k)())}))}},{key:"showTambahBarang",value:function(){this.setState({showModal:"tambahBarang"}),this.props.dispatch(Object(d.j)())}},{key:"showGambarS",value:function(){this.setState({showModal:"gambarS"}),this.props.dispatch(Object(d.j)())}},{key:"showGambarM",value:function(){this.setState({showModal:"gambarM"}),this.props.dispatch(Object(d.j)())}},{key:"showGambarL",value:function(){this.setState({showModal:"gambarL"}),this.props.dispatch(Object(d.j)())}},{key:"hideModal",value:function(e){this.props.dispatch(Object(d.g)())}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"card"},l.a.createElement(v.default,{title:"Packing List"}),l.a.createElement("div",{className:"card-body"},l.a.createElement(se,{onSubmit:function(t){return e.handlePacking(t)},showPackingS:function(){return e.showGambarS()},showTambahBarang:function(){return e.showTambahBarang()},showPackingM:function(){return e.showGambarM()},showPackingL:function(){return e.showGambarL()}})))),l.a.createElement(f.default,{content:"tambahBarang"===this.state.showModal?l.a.createElement(W,{onSubmit:function(t){return e.handleSubmit(t)}}):"gambarS"===this.state.showModal?l.a.createElement(I,{onSubmit:function(t){return e.hideModal(t)}}):"gambarM"===this.state.showModal?l.a.createElement(T,{onSubmit:function(t){return e.hideModal(t)}}):l.a.createElement(F,{onSubmit:function(t){return e.hideModal(t)}}),title:"tambahBarang"===this.state.showModal?"Tambah Barang":"gambarS"===this.state.showModal?"Tambah Gambar Packing S":"gambarM"===this.state.showModal?"Tambah Gambar Packing M":"Tambah Gambar Packing L"}))}}]),a}(s.Component);t.default=Object(u.b)((function(e){return{noFaktur:e.provinsi.noFaktur,cameraURI:e.provinsi.cameraURI,kodeBarang:e.provinsi.kodeBarang,listGambarL:e.provinsi.listGambarL,listGambarS:e.provinsi.listGambarS,listGambarM:e.provinsi.listGambarM,levelCustomer:e.packing.levelCustomer,nama1:e.packing.nama1,nama2:e.packing.nama2,nama3:e.packing.nama3,onSend:e.provinsi.onSend}}))(ue)},605:function(e,t,a){"undefined"!=typeof self&&self,e.exports=function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},r=function(e,t){return t[e]},o=function(e,t,a,n,o,i){var c="",s=e||"";if(0===s.length&&o&&!n)return"";for(var l=0,u=0;u<t.length;u+=1){var m=s.charAt(l),p=t.charAt(u),d=r(p,i);if(d)if(m)if(d.regExp.test(m))c=c.concat(m),l+=1;else{if(!n)return c;c=c.concat(a),s=""}else{if(!n)return c;c=c.concat(a)}else c=c.concat(p)}return c};t.applyMask=o,t.applyTransform=function(e,t,a,n){for(var o=e||"",i=t||"",c="",s=0;s<o.length;s+=1){var l=o.charAt(s);if(l!==i.charAt(s)){var u=a.charAt(s),m=r(u,n);c=m&&m.transform?c.concat(m.transform(l)):c.concat(l)}else c=c.concat(l)}return c},t.countOcurrences=function(e,t){return(e.match(t)||[]).length},t.escapeRegExp=n,t.firstUnfilledPosition=function(e,t,a,n){if(""===e)return 0;for(var o=0;o<e.length;o+=1){var i=e.charAt(o),c=t.charAt(o);if(i===a&&i!==c)return o}if(e.length===t.length)for(var s=t.length-1;s>=0;s-=1){var l=t.charAt(s);if(r(l,n))return s+1}return e.length},t.getMaskDefinition=r,t.inputReformat=function(e,t,a,i,c,s){for(var l=e||"",u=0;u<t.length;u+=1){var m=t.charAt(u);if(!r(m,s)){var p=n(m);l=l.replace(new RegExp(p),"")}}var d=n(a);return l=l.replace(d,""),o(l,t,a,i,c,s)},t.isPatternComplete=function(e,t,a){if(!e||0===e.length)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){var o=e.charAt(n),i=t.charAt(n),c=r(i,a);if(c){if(!c.regExp.test(o))return!1}else if(o!==i)return!1}return!0},t.maskStrip=function(e,t,a,n){for(var o="",i=e||"",c=0;c<i.length;c+=1){var s=i.charAt(c),l=t.charAt(c),u=r(l,n);u&&(u.regExp.test(s)?o=o.concat(s):s===a&&(i=""))}return o},t.numberToLocaleString=function(e,t,a){return e.toLocaleString(t,{minimumFractionDigits:a,maximumFractionDigits:a})},t.charMatchTest=function(e,t){for(var a=Object.keys(t),n=0;n<a.length;n+=1){var r=a[n];if(t[r].regExp.test(e))return r}},t.validCaretPositions=function(e,t){var a=[];if(!e||"string"!=typeof e||0===e.length)return a;r(e.charAt(0),t)&&a.push(0);for(var n=1;n<e.length;n+=1){var o=e.charAt(n-1),i=e.charAt(n);(r(o,t)||r(i,t))&&a.push(n)}return r(e.charAt(e.length-1),t)&&a.push(e.length),a}},function(e,t,a){e.exports=a(2)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTextMask=t.createNumberMask=void 0;var r=n(a(3)),o=n(a(4));t.createNumberMask=r.default,t.createTextMask=o.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);t.default=function(e){var t=e||{},a=t.prefix,r=void 0===a?"":a,o=t.suffix,i=void 0===o?"":o,c=t.decimalPlaces,s=void 0===c?0:c,l=t.multiplier,u=void 0===l?1:l,m=t.stringValue,p=void 0!==m&&m,d=t.allowEmpty,g=void 0!==d&&d,h=t.allowNegative,b=void 0!==h&&h,f=t.showPlusSign,v=void 0!==f&&f,k=t.spaceAfterSign,E=void 0!==k&&k,O=t.locale,j=t.onChange;if(s>10)throw new Error("The maximum value for createNumberMask's option `decimalPlaces` is 10.");if("number"!=typeof u)throw new Error("The createNumberMask's option `multilpier` should be of type number.");if(0===u)throw new Error("The createNumberMask's option `multilpier` cannot be zero.");var _=function(e){var t=e.target;t&&(e.persist&&e.persist(),setTimeout((function(){var a=t.value.length-i.length;e.target.setSelectionRange(a,a)})))};return{format:function(e){return function(e){var t=e;if(null===t||void 0===t||""===t){if(g)return"";t=0}else"number"!=typeof t&&(t=Number(t));var a=v?"+":"";return t<0&&(t*=-1,b&&(a="-")),a&&E&&(a+=" "),t*=1/u,t=(0,n.numberToLocaleString)(t,O,s),""+a+r+t+i}(e)},normalize:function(e,t){return function(e,t){var a=(0,n.escapeRegExp)(r),o=(0,n.escapeRegExp)(i),c=new RegExp("^[-|+]? ?"+a),l=new RegExp(o+"$"),m=1;if(b){var d=/-/g,h=(0,n.countOcurrences)(e,d)-(0,n.countOcurrences)(r,d)-(0,n.countOcurrences)(i,d);m=Math.pow(-1,h)%2}var f=e;if(r&&(f=f.replace(c,"")),i&&(f=f.replace(l,"")),f=f.replace(/\D/g,""),g){var v=""===f,k=""===f.replace(/0+/g,""),E=f.length<=s;if(v||void 0!==t&&E&&k)return"0"===f?p?"0":0:null}var O=Number(f)/Math.pow(10,s)*m;O=Number((O*u).toPrecision(10)),p&&(O=O.toString());var _=O!==t;return j&&_&&j(O),O}(e,t)},onChange:function(e){return _(e)},onFocus:function(e){return _(e)},autoComplete:"off"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a(5));t.default=function(e){var t=e.pattern,a=e.placeholder,o=void 0===a?"_":a,i=e.maskDefinitions,c=void 0===i?r.default:i,s=e.guide,l=void 0===s||s,u=e.stripMask,m=void 0===u||u,p=e.allowEmpty,d=void 0!==p&&p,g=e.onChange,h=e.onCompletePattern;if(!t)throw new Error("The key `pattern` is required for createTextMask. You probably forgot to add it to your options.");if(!o||1!==o.length)throw new Error("The key `placeholder` should have a single character as a value.");var b=(0,n.validCaretPositions)(t,c);if(0===b.length)throw new Error("The pattern `"+t+"` passed for createTextMask is not valid.");var f=(0,n.charMatchTest)(o,c);if(f)throw new Error("The placeholder `"+o+"` matches the mask definition`"+f+"`. The mask created using `createTextMask`is therefore invalid.");var v=(0,n.maskStrip)(t,t,o,c),k=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?m||a?(0,n.applyMask)(e,t,o,l,d,c):e:(0,n.applyMask)("",t,o,l,d,c)},E=function(e,a){var r=(0,n.inputReformat)(e,t,o,l,d,c),i=(0,n.maskStrip)(r,t,o,c),s=(0,n.applyTransform)(i,m?a:(0,n.maskStrip)(a,t,o,c),v,c),u=k(s,!0),p=m?s:u,b=p!==a&&(""!==p||void 0!==a);return g&&b&&g(p),h&&(0,n.isPatternComplete)(u,t,c)&&b&&setTimeout((function(){return h(p)}),10),p},O=function(e){var a=(0,n.firstUnfilledPosition)(e.value,t,o,c);e.setSelectionRange(a,a)},j=function(e,t,a){for(var n=void 0,r=0;r<=b.length;r+=1)if(b[r]>t){n=r;break}var o=void 0;if(void 0===(o="left"===a?b[n-1]:b[n])){var i="left"===a?0:b.length-1;o=b[i]}e.setSelectionRange(o,o)},_=function(e){if(e.target){e.persist&&e.persist();var a=e.target.selectionStart,n=e.target.value;setTimeout((function(){var r=e.target,o=e.type,i=e.key,c=e.target,s=c.value,l=c.selectionStart,u=c.selectionEnd;switch(o){case"change":if(s.length===n.length+1&&s.charAt(a)===t.charAt(a)){j(r,a,"left");break}O(r);break;case"focus":O(r);break;case"click":l===u&&(b.indexOf(l)>=0?e.preventDefault():O(r));break;case"keydown":"ArrowLeft"===i?j(r,l,"left"):"ArrowRight"===i&&j(r,a,"right")}}))}};return{format:function(e){return k(e)},normalize:function(e,t){return E(e,t)},onKeyDown:function(e){return _(e)},onChange:function(e){return _(e)},onFocus:function(e){return _(e)},onClick:function(e){return _(e)},autoComplete:"off"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={A:{regExp:/[A-Za-z]/,transform:function(e){return e.toUpperCase()}},a:{regExp:/[A-Za-z]/,transform:function(e){return e.toLowerCase()}},U:{regExp:/[A-Z]/},l:{regExp:/[a-z]/},9:{regExp:/[0-9]/}}}])},634:function(e,t,a){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u}));var r,o=["user","environment"],i={USER:"user",ENVIRONMENT:"environment"},c=["jpg","png"],s={PNG:"png",JPG:"jpg"},l=(n(r={},"jpg","image/jpeg"),n(r,"png","image/png"),r),u={audio:!1,video:!0}},function(e,t,a){e.exports=a(2)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"FACING_MODES",(function(){return s})),a.d(t,"IMAGE_TYPES",(function(){return l}));var n=a(3),r=a(5),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n.a.IMAGE_TYPES.PNG,c=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.videoElement=t,this.stream=null,this.numberOfMaxResolutionTry=1,this.settings=null,this.inputVideoDeviceInfos=[],this.windowURL=n.a.getWindowURL(),this.mediaDevices=n.a.getNavigatorMediaDevices()}return o(e,[{key:"_getStreamDevice",value:function(e,t){var a=this;return new Promise((function(r,o){var i=n.a.getIdealConstraints(e,t);a.mediaDevices.getUserMedia(i).then((function(e){a._gotStream(e),a._getInputVideoDeviceInfosPromise().then((function(e){a.inputVideoDeviceInfos=e})).catch((function(){})).then((function(){r(e)}))})).catch((function(e){o(e)}))}))}},{key:"_getStreamDeviceMaxResolution",value:function(e){var t=this,a=n.a.getMaxResolutionConstraints(e,this.numberOfMaxResolutionTry);return null==a?this._getStreamDevice(e,{}):new Promise((function(n,r){t.mediaDevices.getUserMedia(a).then((function(e){t._gotStream(e),t._getInputVideoDeviceInfosPromise().then((function(e){t.inputVideoDeviceInfos=e})).catch((function(){})).then((function(){n(e)}))})).catch((function(a){setTimeout((function(){t.numberOfMaxResolutionTry+=1,t._getStreamDeviceMaxResolution(e).catch((function(){r(a)}))}),20)}))}))}},{key:"_setVideoSrc",value:function(e){if("srcObject"in this.videoElement)this.videoElement.srcObject=e;else{var t=this.windowURL.createObjectURL(e);this.videoElement.src=t}}},{key:"_setSettings",value:function(e){this.settings=null;var t=e&&e.getTracks?e.getTracks():[];t.length>0&&t[0].getSettings&&(this.settings=t[0].getSettings())}},{key:"_getInputVideoDeviceInfosPromise",value:function(){var e=this;return new Promise((function(t,a){var n=[];e.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){"videoinput"===e.kind&&n.push(e)})),t(n)})).catch((function(e){a(e)}))}))}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"getInputVideoDeviceInfos",value:function(){return this.inputVideoDeviceInfos}},{key:"startCamera",value:function(e,t){var a=this;return this.stopCamera().then((function(){})).catch((function(){})).then((function(){return a._getStreamDevice(e,t)}))}},{key:"startCameraMaxResolution",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.stopCamera().then((function(){})).catch((function(){})).then((function(){return e._getStreamDeviceMaxResolution(t)}))}},{key:"getDataUri",value:function(e){var t={sizeFactor:void 0===e.sizeFactor?r.c:e.sizeFactor,imageType:void 0===e.imageType?i:e.imageType,imageCompression:void 0===e.imageCompression?r.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?r.b:e.isImageMirror};return n.a.getDataUri(this.videoElement,t)}},{key:"stopCamera",value:function(){var e=this;return new Promise((function(t,a){e.stream&&(e.stream.getTracks().forEach((function(e){e.stop()})),e.videoElement.src="",e.stream=null,e._setSettings(null),t()),a(Error("no stream to stop!"))}))}}]),e}(),s=n.a.FACING_MODES,l=n.a.IMAGE_TYPES;t.default=c},function(e,t,a){"use strict";var n=a(4),r=a(0),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getDataUri",value:function(e,t){var a=t.sizeFactor,r=t.imageType,o=t.imageCompression,i=t.isImageMirror,c=e.videoWidth,s=e.videoHeight,l=Object(n.b)(c,s,a),u=l.imageWidth,m=l.imageHeight,p=document.createElement("canvas");p.width=u,p.height=m;var d=p.getContext("2d");return i&&d.setTransform(-1,0,0,1,p.width,0),d.drawImage(e,0,0,u,m),Object(n.a)(p,r,o)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),a=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);if(t)e=navigator.mediaDevices;else if(a){var n=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,r={getUserMedia:function(e){return new Promise((function(t,a){n.call(navigator,e,t,a)}))}};e=Object.assign(n,r)}return e}},{key:"isSupportedFacingMode",value:function(){return e.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(e,t){var a={audio:!1,video:{}};if(Object(n.c)(e,t))return r.d;var o=navigator.mediaDevices.getSupportedConstraints();return o.width&&o.height&&o.facingMode?(e&&r.e.includes(e)&&(a.video.facingMode=e),t&&t.width&&(a.video.width=t.width),t&&t.height&&(a.video.height=t.height),a):(console.error("Constraint width height or facingMode not supported!"),r.d)}},{key:"getMaxResolutionConstraints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],n=e.getIdealConstraints(t),r=n.video.facingMode,o=[{width:{min:640},ideal:{facingMode:r}},{width:{min:800},ideal:{facingMode:r}},{width:{min:900},ideal:{facingMode:r}},{width:{min:1024},ideal:{facingMode:r}},{width:{min:1080},ideal:{facingMode:r}},{width:{min:1280},ideal:{facingMode:r}},{width:{min:1920},ideal:{facingMode:r}},{width:{min:2560},ideal:{facingMode:r}},{width:{min:3840},ideal:{facingMode:r}}];if(a>=o.length)return null;var i=o.slice(0,-a);return n.video.advanced=i,n}},{key:"FACING_MODES",get:function(){return r.a}},{key:"IMAGE_TYPES",get:function(){return r.c}}]),e}();t.a=i},function(e,t,a){"use strict";function n(e,t){var a={};try{(function(e,t){if(!(t>=0&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!r.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+r.f.join(", "))})(e,t),a.imageType=e,a.imageCompression=t}catch(e){console.error(e),console.error("default value of "+r.c.PNG+" is used"),a.imageType=r.c.PNG,a.imageCompression=null}return a}t.b=function(e,t,a){var n=e*parseFloat(a);return{imageWidth:n,imageHeight:t/(e/n)}},t.a=function(e,t,a){return n(t,a).imageType===r.c.JPG?a?e.toDataURL(r.b[r.c.JPG],a):e.toDataURL(r.b[r.c.JPG]):e.toDataURL(r.b[t])},t.c=function(e,t){return!(e||t&&!function(e){if("object"===("undefined"===typeof e?"undefined":o(e)))for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))};var r=a(0),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=1,r=null,o=!1}])}}]);
//# sourceMappingURL=58.08984428.chunk.js.map