(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[45],{1221:function(e,a,t){"use strict";t.r(a);var s=t(15),n=t(16),r=t(18),l=t(17),c=t(0),i=t.n(c),o=t(851),d=t.n(o),m=t(99),p=t.n(m),u=t(60),h=t.n(u),b=t(100),E=t.n(b),g=t(13),v=t(341),f=t(342),w=t(21),k=function(e){var a={};return e.password?e.password.length<6&&(a.password="Password kurang dari 6"):a.password="Tidak Boleh kosong",e.rePassword?e.rePassword.length<6?a.rePassword="Password kurang dari 6":e.rePassword!==e.password&&(a.rePassword="Password tidak sama"):a.rePassword="Tidak Boleh kosong",e.namaLengkap||(a.namaLengkap="Tidak Boleh kosong"),e.level||(a.level="Tidak Boleh kosong"),a},N=function(e){var a=e.input,t=e.label,s=e.type,n=e.readOnly,r=e.meta,l=r.touched,c=r.error,o=r.warning;return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"",className:"text-black"},t),i.a.createElement("input",Object.assign({},a,{type:s,className:"form-control",readOnly:n})),l&&(c&&i.a.createElement("p",{className:"invalid-feedback"},c)||o&&i.a.createElement("p",null,o)))},O=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={response:"",status:"AKTIF",listProvinsi:[]},n}return Object(n.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.props.handleSubmit},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:this.props.changePassword?"col-lg-4 d-none":"col-lg-4"},i.a.createElement(v.a,{name:"namaLengkap",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:N,label:"Nama Lengkap"})),i.a.createElement("div",{className:this.props.edit?"col-lg-4 d-none":"col-lg-4 "},i.a.createElement(v.a,{name:"userID",type:"text",component:N,label:"User ID"})),i.a.createElement("div",{className:this.props.changePassword?"col-lg-4 d-none":"col-lg-4"},i.a.createElement(v.a,{component:w.b,label:"Level",name:"level",value:this.props.status,normalize:function(e){return e&&e.toUpperCase()},className:"form-control",options:[{value:"ADM",name:"ADMIN"},{value:"OWN",name:"OWNER"},{value:"MRK",name:"MARKETING"},{value:"SPV",name:"SUPERVISOR"}]})),this.props.changePassword?i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(v.a,{name:"passwordLama",type:"password",component:N,label:"Password Lama"})):null,this.props.edit?this.props.changePassword?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(v.a,{name:"password",type:"password",component:N,label:"Password Baru"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(v.a,{name:"rePassword",type:"password",component:N,label:"Retype Password Baru"}))):null:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(v.a,{name:"password",type:"password",component:N,label:"Password"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(v.a,{name:"rePassword",type:"password",component:N,label:"Retype Password"}))),i.a.createElement("div",{className:"col-lg-12 col-md-12"},i.a.createElement("div",{className:"text-right"},i.a.createElement("button",{type:"submit",id:"simpan",className:"btn btn-primary",disabled:this.props.submitting},"Selesai",i.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))}}]),t}(c.Component);O=Object(f.a)({form:"AddUser",enableReinitialize:!0,validate:k})(O);var j=Object(g.b)((function(e){return{initialValues:{namaLengkap:e.provinsi.editUser.namaUser,userID:e.provinsi.editUser.idUser,password:e.provinsi.editUser.password,rePassword:e.provinsi.editUser.password,level:e.provinsi.editUser.level}}}),null)(O),y=t(221),P=t(7),S=t(25),U=t(54),x=t(101),D=t(23),A=t(5),L=u.Search.SearchBar,C=u.CSVExport.ExportCSVButton,I=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={columns:[{dataField:"user_id",text:"ID User"},{dataField:"user_name",text:"Nama Pegawai",headerStyle:function(){return{width:"20%"}}},{dataField:"level",text:"Level"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a){return i.a.createElement("div",{className:"text-center"},i.a.createElement("button",{className:"btn btn-warning mr-2","data-target":"#modalTambahUser","data-toggle":"modal",onClick:function(){return n.props.dispatch(Object(y.d)(a.user_id,a.user_name,a.level,a.password,n.editModal()))}},i.a.createElement("i",{className:"fa fa-edit mr-1"}),"Edit"),i.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return Object(A.a)("users/delete/id/"+a.user_id).then((function(){return Object(S.b)("Akun Berhasil Dihapus")})).then((function(){return n.props.dispatch(Object(y.c)())})).catch((function(){return Object(S.c)("sepertinya ada kesalahan, silahkan check koneksi anda")}))}},i.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"))},headerStyle:function(){return{width:"20%"}}}]},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(y.c)())}},{key:"handleSubmit",value:function(e){var a=this,t={user_name:e.namaLengkap,password:e.password,retype_password:e.password,user_id:e.userID,level:e.level};Object(A.c)("users/add/user",t).then((function(){return a.props.dispatch(Object(D.g)())})).then((function(){return Object(S.b)("User berhasil disimpan",a.props.dispatch(Object(U.b)(),a.props.dispatch(Object(y.c)())))})).catch((function(){return Object(S.c)("Sepertinya ada gangguan, mohon periksa koneksi anda")}))}},{key:"handleSubmitEdit",value:function(e){var a=this,t={user_name:e.namaLengkap,level:e.level};Object(A.d)("/users/update/id/"+e.userID,t).then((function(){return a.props.dispatch(Object(D.g)())})).then((function(){return Object(S.b)("User berhasil dirubah",a.props.dispatch(Object(U.b)(),a.props.dispatch(Object(y.c)())))})).catch((function(){return Object(S.c)("Sepertinya ada gangguan, mohon periksa koneksi anda")}))}},{key:"editModal",value:function(){this.props.dispatch(Object(D.j)()),this.props.dispatch(Object(y.d)()),this.setState({isEdit:!0,changePassword:!1})}},{key:"tambahModal",value:function(){this.props.dispatch(Object(D.j)()),this.setState({isEdit:!1})}},{key:"changePassword",value:function(){this.props.dispatch(Object(D.j)()),this.props.dispatch(Object(y.d)()),this.setState({isEdit:!0,changePassword:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container-fluid"},i.a.createElement("ol",{className:"breadcrumb mb-2"},i.a.createElement(P.b,{to:"/manageUser"},i.a.createElement("button",{type:"button",className:"btn btn-secondary"},i.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:d.a,alt:"Add User Logo",width:200}),i.a.createElement("p",null,"Silahkan Simpan ID dan password baik baik, jangan password",i.a.createElement("br",null),"dengan kata umum, seperti: Tanggal lahir, atau nama"))),i.a.createElement(x.default,{content:this.state.isEdit?this.state.changePassword?i.a.createElement(j,{onSubmit:function(a){return e.handleSubmitEdit(a)},edit:!0,changePassword:!0}):i.a.createElement(j,{onSubmit:function(a){return e.handleSubmitEdit(a)},edit:!0}):i.a.createElement(j,{onSubmit:function(a){return e.handleSubmit(a)}}),title:this.state.isEdit?"Edit Data User":"Tambah Data User"}),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("div",{className:"text-right"},i.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.tambahModal()}},"Tambah User"))),i.a.createElement("div",{className:"col-lg-12"},this.props.listDataUser?i.a.createElement(h.a,{keyField:"id",data:this.props.listDataUser,columns:this.state.columns,search:!0},(function(e){return i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"text-right mt-5 mb-3"},i.a.createElement(L,Object.assign({},e.searchProps,{className:"form-control",placeholder:"Tuliskan Kode / Nama",style:{margin:0,top:"50%"}}))),i.a.createElement(p.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:E()()})),i.a.createElement(C,Object.assign({},e.csvProps,{className:"btn btn-primary"}),"Export CSV"))})):null)))))}}]),t}(c.Component);a.default=Object(g.b)((function(e){return{listDataUser:e.provinsi.listDataUser}}),null)(I)},851:function(e,a,t){e.exports=t.p+"static/media/AddUser2.bff7185f.svg"}}]);
//# sourceMappingURL=45.d961c5f1.chunk.js.map