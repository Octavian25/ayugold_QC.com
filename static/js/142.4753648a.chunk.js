(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[142],{1252:function(t,e,a){"use strict";a.r(e);var n=a(15),l=a(16),o=a(18),i=a(17),r=a(0),s=a.n(r),c=a(12),u=a(55),d=a(49),h=a(117),m=a(50),p=a(5),b=a(23),g=a(20),_=a(60),k=a(343),v=a(344),f=a(347),S=a(19),y=a(186),E=function(t){var e=t.input,a=t.label,n=t.type,l=t.limit,o=t.readOnly,i=t.meta,r=i.touched,c=i.error,u=i.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},a),s.a.createElement("input",Object.assign({},e,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:l,readOnly:o})),r&&(c&&s.a.createElement("p",{className:"invalid-feedback"},c)||u&&s.a.createElement("p",null,u)))},O=function(t){Object(o.a)(a,t);var e=Object(i.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).onChange=function(t){return function(e){l.setState(Object(_.a)({},t,e.target.value))}},l.state={listLokasi:[]},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.e)(localStorage.getItem("noFaktur"))),this.props.dispatch(Object(y.d)())}},{key:"setSelisih",value:function(){this.props.change("total_netto_selisih",this.props.total_netto_selisih),this.props.change("total_bruto_selisih",this.props.total_bruto_selisih)}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(k.a,{name:"kode_kelompok",component:S.b,options:[{value:"PERHIASAN",name:"PERHIASAN"},{value:"CIOK",name:"CIOK"},{value:"RONGSOK",name:"RONGSOK"}],type:"text",label:"Kode Kelompok",placeholder:"Masukan ",disabled:!0})),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(k.a,{name:"tanggal",component:E,type:"date",label:"Tanggal",placeholder:"Masukan Tanggal",readOnly:!0})),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(k.a,{name:"lokasi",component:S.b,options:this.props.lokasi.map((function(t){return{value:t.kode_lokasi,name:t.nama_lokasi}})),type:"text",label:"Lokasi",placeholder:"Masukan Lokasi",disabled:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"total_gross",component:E,type:"text",label:"Total Gross",placeholder:"Masukan Total Gross",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"total_pkg",component:E,type:"text",label:"Total Pkg",placeholder:"Masukan Total Pkg",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"total_bruto",component:E,type:"text",label:"Total Bruto",placeholder:"Masukan Total Bruto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(k.a,{name:"total_netto",component:E,type:"text",label:"Total Netto",placeholder:"Masukan Total Netto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("hr",null))),s.a.createElement("div",{className:"col-lg-12 mt-2"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:void 0===this.props.total_netto||this.props.onSend},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{class:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))}}]),a}(r.Component);O=Object(v.a)({form:"FormSelisihTimbangStock",enableReinitialize:!0})(O);var N=Object(f.a)("FormSelisihTimbangStock"),j=Object(c.b)((function(t){var e=N(t,"total_netto","total_bruto"),a=e.total_netto,n=e.total_bruto;return{selisih_totalan:t.provinsi.selisih_totalan,lokasi:t.provinsi.lokasi,onSend:t.provinsi.onSend,initialValues:{kode_kelompok:t.provinsi.selisih_totalan.kode_kelompok,tanggal:t.provinsi.selisih_totalan.tanggal,lokasi:t.provinsi.selisih_totalan.kode_lokasi,total_gross:t.provinsi.selisih_totalan.total_gross,total_bruto:t.provinsi.selisih_totalan.total_bruto,total_pkg:t.provinsi.selisih_totalan.total_pkg,total_netto:t.provinsi.selisih_totalan.total_netto,total_netto_selisih:parseFloat(t.provinsi.selisih_totalan.total_netto||0)-parseFloat(a||0),total_bruto_selisih:parseFloat(t.provinsi.selisih_totalan.total_bruto||0)-parseFloat(n||0)}}}))(O),F=function(t){Object(o.a)(a,t);var e=Object(i.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={columns:[{dataField:"kode_jenis",text:"Kode Model",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kode_kategori",text:"Kode Jenis",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kadar_modal",text:"Kode Awal",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto",text:"Bruto",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto_system",text:"Bruto System",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto_selisih",text:"Bruto Selisih",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto",text:"Netto",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto_system",text:"Netto System",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto_selisih",text:"Netto Selisih",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}}],data:[{noFaktur:"-",kodeKategori:"-",kadarCetak:0,kadarTransaksi:0,kodeJenis:"-",noUrut:"-",brutoSelisih:0,nettoTimbang:0,nettoData:0,brutoTimbang:0,nettoSelisih:0,brutoData:0}],listLokasi:[]},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.e)(localStorage.getItem("noFaktur"))),this.props.dispatch(Object(u.b)())}},{key:"handleSubmit",value:function(t){var e=this,a={total_bruto:t.total_bruto,total_bruto_system:t.total_bruto,total_bruto_selisih:t.total_bruto_selisih,total_netto:t.total_netto,total_netto_system:t.total_netto,total_netto_selisih:t.total_netto_selisih,detail_barang:this.props.selisih_totalan};this.props.dispatch(Object(g.t)()),Object(p.d)("totalan-barang/selisih-totalan/end-totalan/".concat(this.props.noFaktur),a).then((function(){return e.props.dispatch(Object(g.k)())})).then((function(){return Object(b.b)("Selisih Berhasil Di Simpan")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return localStorage.removeItem("totalanTimbangan")})).then((function(){return e.props.dispatch(Object(u.b)())})).then((function(){return window.location.reload()})).catch((function(t){return Object(b.c)("Gagal Simpan Selisih, Detail : ".concat(t.response.data)).then((function(){return e.props.dispatch(Object(g.k)())}))}))}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"card"},s.a.createElement(d.default,{title:"Selisih Timbangan"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(j,{noFaktur:this.props.noFaktur,onSubmit:function(e){return t.handleSubmit(e)}})),s.a.createElement("br",null),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(m.a,{keyField:"kodeKelompok",data:this.props.selisih_totalan,columns:this.state.columns,search:!0})))))}}]),a}(r.Component);e.default=Object(c.b)((function(t){return{noFaktur:t.provinsi.noFaktur,selisih_totalan:t.provinsi.selisih_totalan.detail_barang}}),null)(F)}}]);
//# sourceMappingURL=142.4753648a.chunk.js.map