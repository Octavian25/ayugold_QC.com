(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[107],{1195:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),o=t(27),l=t(26),i=t(0),c=t.n(i),s=t(17),u=t(327),m=t(328),d=t(331),p=t(605),f=t(34),g=t(47),h=t.n(g),v=t(92),k=t(6),b=t(5),E=t(52),y=Object(p.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),_=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={kodeBarang:[],non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(v.e)())}},{key:"onclick1",value:function(){this.props.change("netto",this.props.netto),this.props.change("noFaktur",this.props.noFaktur),this.props.change("gross",this.props.gross),this.props.change("discGlobalGr",this.props.discGlobalGr),this.props.change("nettoDiscGlobalExt",(this.props.netto-this.props.discGlobalGr).toFixed(3))}},{key:"pilihBarang",value:function(e){var a=this,t=e,n=this.props.KodeBarangList.filter((function(e){return e.kode_jenis===t})),r=localStorage.getItem("customer_1")||"-";Object(b.b)("/kelompok-harga/get/by-jenis-and-customer/".concat(r,"&").concat(e,"&").concat("SALES"===this.props.lokasi?this.props.sales:this.props.lokasi)).then((function(e){var t,r,o,l,i,c,s,u,m;return(null===(t=e.data)||void 0===t?void 0:t.total_netto)<1?(Object(E.e)("Stock Barang Kurang Dari 1"),a.props.change("kodeBarang"),!1):void 0===(null===(r=e.data)||void 0===r?void 0:r.kode_tukar_normal)||"undefined"===(null===(o=e.data)||void 0===o?void 0:o.kode_tukar_normal)?(Object(E.e)("Kode Tukar Belum Ditentukan ,Mohon tentukan Kode Tukar di menu kelompok harga"),a.props.change("kodeBarang"),!1):("AKSESORIS"===(null===(l=e.data)||void 0===l?void 0:l.kode_kelompok)?a.setState({non_aksesoris:"col-lg-12 row d-none",aksesoris:"col-lg-12 row"}):a.setState({non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"}),a.setState({kodeJenis:n[0].kode_jenis,namaJenis:n[0].nama_jenis,kadarCetak:null===(i=e.data)||void 0===i?void 0:i.kode_tukar_normal,kadarJual:null===(c=e.data)||void 0===c?void 0:c.kode_tukar_normal,kodeKategori:null===(s=e.data)||void 0===s?void 0:s.kode_kategori,namaKategori:null===(u=e.data)||void 0===u?void 0:u.nama_kategori,harga_jual:(null===(m=e.data)||void 0===m?void 0:m.harga_aksesoris)||0}),a.setKadar(),void Object(k.w)("P"))}))}},{key:"setKadar",value:function(){this.props.change("keterangan",this.state.namaJenis),this.props.change("kadar",this.state.kadarCetak),this.props.change("kadarTransaksi",this.state.kadarJual),this.props.change("kodeKategori",this.state.kodeKategori),this.props.change("namaKategori",this.state.namaKategori),this.props.change("harga_jual",this.state.harga_jual)}},{key:"setBruto",value:function(){this.props.change("bruto",localStorage.getItem("Timbangan"))}},{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(u.a,{name:"noFaktur",label:this.props.noFaktur,type:"text",readOnly:!0,component:f.a,defaultValue:this.props.noFaktur,normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},""!==String(this.props.KodeBarangList)?c.a.createElement(u.a,{name:"kodeBarang",label:"Kode Model",component:f.b,disabled:!0,className:"form-control",onChange:function(a){return e.pilihBarang(a)},options:this.props.KodeBarangList.filter((function(e){return"PERHIASAN"===e.kode_kelompok||"AKSESORIS"===e.kode_kelompok})).map((function(e){return{value:e.kode_jenis,name:e.nama_jenis}}))}):c.a.createElement(h.a,{width:"100%",height:50})),c.a.createElement("div",{className:"col-md-4 col-lg-4 d-none"},c.a.createElement(u.a,{name:"kode_barocde",label:"Kode Barcode",type:"text",component:f.a,placeholder:"Biarkan Kosong jika Tidak Digunakan",normalize:function(e){return e&&e.toUpperCase()}})),c.a.createElement("div",{className:(this.state.aksesoris,"col-md-3 col-lg-3 d-none")},c.a.createElement(u.a,{name:"kadar",label:"Kode Tukar",type:"number",component:f.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(u.a,{name:"kodeKategori",label:"Kode Tukar",type:"number",component:f.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(u.a,{name:"kode_kategori",label:"Kode Kategori",type:"text",component:f.a})),c.a.createElement("div",{className:this.state.non_aksesoris},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(u.a,{name:"keterangan",label:"Keterangan",type:"text",component:f.a,normalize:function(e){return null===e||void 0===e?void 0:e.toUpperCase()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(u.a,{name:"namaKategori",label:"Kode Tukar",type:"number",component:f.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"p",label:"P",type:"number",component:f.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"k",label:"K",type:"number",component:f.a})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"pkg",label:"Pkg (Gr)",type:"number",component:f.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"bruto",label:"Berat (Gr)",type:"number",component:f.a,onChange:this.onclick1()})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"kadarTransaksi",label:"Kode Tukar",type:"number",component:f.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"netto",label:"Netto (Gr)",type:"number",component:f.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"gross",label:"Gross (Gr)",type:"number",component:f.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"discGlobalPr",label:"Diskon (%)",type:"number",component:f.a,onBlur:function(){return e.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"discGlobalGr",label:"Diskon (Gr)",type:"number",component:f.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(u.a,{name:"nettoDiscGlobalExt",label:"Netto - Diskon (Gr)",type:"number",component:f.a,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),c.a.createElement(u.a,Object.assign({name:"rp",component:"input",type:"tel",className:"form-control"},y)))),c.a.createElement("div",{className:this.state.aksesoris},c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(u.a,{name:"qty",label:"Qty",type:"number",component:f.a})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(u.a,Object.assign({name:"harga_jual",label:"Harga Jual",type:"telp",component:f.a},y)))),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{type:"submit",disabled:this.props.onSend,className:"btn btn-primary"},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan",c.a.createElement("i",{className:"fa fa-paper-plane ml-3"}))))))}}]),t}(i.Component);_=Object(m.a)({form:"FormTransaksiPenjualanEdit",enableReinitialize:!0})(_);var x=Object(d.a)("FormTransaksiPenjualanEdit");a.default=Object(s.b)((function(e){var a=x(e,"bruto","kadarTransaksi","pkg","discGlobalPr"),t=a.bruto,n=a.kadarTransaksi,r=a.pkg,o=a.discGlobalPr;return{netto:(parseFloat(t||0)*(parseFloat(n||0)/100)).toFixed(3),gross:parseFloat(t||0)+parseFloat(r||0),discGlobalGr:(parseFloat(t||0)*(parseFloat(o||0)/100)).toFixed(3),KodeBarangList:e.provinsi.kodeBarang,onSend:e.provinsi.onSend}}))(_)},605:function(e,a,t){"undefined"!=typeof self&&self,e.exports=function(e){function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var t={};return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="/dist/",a(a.s=1)}([function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},r=function(e,a){return a[e]},o=function(e,a,t,n,o,l){var i="",c=e||"";if(0===c.length&&o&&!n)return"";for(var s=0,u=0;u<a.length;u+=1){var m=c.charAt(s),d=a.charAt(u),p=r(d,l);if(p)if(m)if(p.regExp.test(m))i=i.concat(m),s+=1;else{if(!n)return i;i=i.concat(t),c=""}else{if(!n)return i;i=i.concat(t)}else i=i.concat(d)}return i};a.applyMask=o,a.applyTransform=function(e,a,t,n){for(var o=e||"",l=a||"",i="",c=0;c<o.length;c+=1){var s=o.charAt(c);if(s!==l.charAt(c)){var u=t.charAt(c),m=r(u,n);i=m&&m.transform?i.concat(m.transform(s)):i.concat(s)}else i=i.concat(s)}return i},a.countOcurrences=function(e,a){return(e.match(a)||[]).length},a.escapeRegExp=n,a.firstUnfilledPosition=function(e,a,t,n){if(""===e)return 0;for(var o=0;o<e.length;o+=1){var l=e.charAt(o),i=a.charAt(o);if(l===t&&l!==i)return o}if(e.length===a.length)for(var c=a.length-1;c>=0;c-=1){var s=a.charAt(c);if(r(s,n))return c+1}return e.length},a.getMaskDefinition=r,a.inputReformat=function(e,a,t,l,i,c){for(var s=e||"",u=0;u<a.length;u+=1){var m=a.charAt(u);if(!r(m,c)){var d=n(m);s=s.replace(new RegExp(d),"")}}var p=n(t);return s=s.replace(p,""),o(s,a,t,l,i,c)},a.isPatternComplete=function(e,a,t){if(!e||0===e.length)return!1;if(e.length!==a.length)return!1;for(var n=0;n<e.length;n+=1){var o=e.charAt(n),l=a.charAt(n),i=r(l,t);if(i){if(!i.regExp.test(o))return!1}else if(o!==l)return!1}return!0},a.maskStrip=function(e,a,t,n){for(var o="",l=e||"",i=0;i<l.length;i+=1){var c=l.charAt(i),s=a.charAt(i),u=r(s,n);u&&(u.regExp.test(c)?o=o.concat(c):c===t&&(l=""))}return o},a.numberToLocaleString=function(e,a,t){return e.toLocaleString(a,{minimumFractionDigits:t,maximumFractionDigits:t})},a.charMatchTest=function(e,a){for(var t=Object.keys(a),n=0;n<t.length;n+=1){var r=t[n];if(a[r].regExp.test(e))return r}},a.validCaretPositions=function(e,a){var t=[];if(!e||"string"!=typeof e||0===e.length)return t;r(e.charAt(0),a)&&t.push(0);for(var n=1;n<e.length;n+=1){var o=e.charAt(n-1),l=e.charAt(n);(r(o,a)||r(l,a))&&t.push(n)}return r(e.charAt(e.length-1),a)&&t.push(e.length),t}},function(e,a,t){e.exports=t(2)},function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.createTextMask=a.createNumberMask=void 0;var r=n(t(3)),o=n(t(4));a.createNumberMask=r.default,a.createTextMask=o.default},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(0);a.default=function(e){var a=e||{},t=a.prefix,r=void 0===t?"":t,o=a.suffix,l=void 0===o?"":o,i=a.decimalPlaces,c=void 0===i?0:i,s=a.multiplier,u=void 0===s?1:s,m=a.stringValue,d=void 0!==m&&m,p=a.allowEmpty,f=void 0!==p&&p,g=a.allowNegative,h=void 0!==g&&g,v=a.showPlusSign,k=void 0!==v&&v,b=a.spaceAfterSign,E=void 0!==b&&b,y=a.locale,_=a.onChange;if(c>10)throw new Error("The maximum value for createNumberMask's option `decimalPlaces` is 10.");if("number"!=typeof u)throw new Error("The createNumberMask's option `multilpier` should be of type number.");if(0===u)throw new Error("The createNumberMask's option `multilpier` cannot be zero.");var x=function(e){var a=e.target;a&&(e.persist&&e.persist(),setTimeout((function(){var t=a.value.length-l.length;e.target.setSelectionRange(t,t)})))};return{format:function(e){return function(e){var a=e;if(null===a||void 0===a||""===a){if(f)return"";a=0}else"number"!=typeof a&&(a=Number(a));var t=k?"+":"";return a<0&&(a*=-1,h&&(t="-")),t&&E&&(t+=" "),a*=1/u,a=(0,n.numberToLocaleString)(a,y,c),""+t+r+a+l}(e)},normalize:function(e,a){return function(e,a){var t=(0,n.escapeRegExp)(r),o=(0,n.escapeRegExp)(l),i=new RegExp("^[-|+]? ?"+t),s=new RegExp(o+"$"),m=1;if(h){var p=/-/g,g=(0,n.countOcurrences)(e,p)-(0,n.countOcurrences)(r,p)-(0,n.countOcurrences)(l,p);m=Math.pow(-1,g)%2}var v=e;if(r&&(v=v.replace(i,"")),l&&(v=v.replace(s,"")),v=v.replace(/\D/g,""),f){var k=""===v,b=""===v.replace(/0+/g,""),E=v.length<=c;if(k||void 0!==a&&E&&b)return"0"===v?d?"0":0:null}var y=Number(v)/Math.pow(10,c)*m;y=Number((y*u).toPrecision(10)),d&&(y=y.toString());var x=y!==a;return _&&x&&_(y),y}(e,a)},onChange:function(e){return x(e)},onFocus:function(e){return x(e)},autoComplete:"off"}}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),r=function(e){return e&&e.__esModule?e:{default:e}}(t(5));a.default=function(e){var a=e.pattern,t=e.placeholder,o=void 0===t?"_":t,l=e.maskDefinitions,i=void 0===l?r.default:l,c=e.guide,s=void 0===c||c,u=e.stripMask,m=void 0===u||u,d=e.allowEmpty,p=void 0!==d&&d,f=e.onChange,g=e.onCompletePattern;if(!a)throw new Error("The key `pattern` is required for createTextMask. You probably forgot to add it to your options.");if(!o||1!==o.length)throw new Error("The key `placeholder` should have a single character as a value.");var h=(0,n.validCaretPositions)(a,i);if(0===h.length)throw new Error("The pattern `"+a+"` passed for createTextMask is not valid.");var v=(0,n.charMatchTest)(o,i);if(v)throw new Error("The placeholder `"+o+"` matches the mask definition`"+v+"`. The mask created using `createTextMask`is therefore invalid.");var k=(0,n.maskStrip)(a,a,o,i),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?m||t?(0,n.applyMask)(e,a,o,s,p,i):e:(0,n.applyMask)("",a,o,s,p,i)},E=function(e,t){var r=(0,n.inputReformat)(e,a,o,s,p,i),l=(0,n.maskStrip)(r,a,o,i),c=(0,n.applyTransform)(l,m?t:(0,n.maskStrip)(t,a,o,i),k,i),u=b(c,!0),d=m?c:u,h=d!==t&&(""!==d||void 0!==t);return f&&h&&f(d),g&&(0,n.isPatternComplete)(u,a,i)&&h&&setTimeout((function(){return g(d)}),10),d},y=function(e){var t=(0,n.firstUnfilledPosition)(e.value,a,o,i);e.setSelectionRange(t,t)},_=function(e,a,t){for(var n=void 0,r=0;r<=h.length;r+=1)if(h[r]>a){n=r;break}var o=void 0;if(void 0===(o="left"===t?h[n-1]:h[n])){var l="left"===t?0:h.length-1;o=h[l]}e.setSelectionRange(o,o)},x=function(e){if(e.target){e.persist&&e.persist();var t=e.target.selectionStart,n=e.target.value;setTimeout((function(){var r=e.target,o=e.type,l=e.key,i=e.target,c=i.value,s=i.selectionStart,u=i.selectionEnd;switch(o){case"change":if(c.length===n.length+1&&c.charAt(t)===a.charAt(t)){_(r,t,"left");break}y(r);break;case"focus":y(r);break;case"click":s===u&&(h.indexOf(s)>=0?e.preventDefault():y(r));break;case"keydown":"ArrowLeft"===l?_(r,s,"left"):"ArrowRight"===l&&_(r,t,"right")}}))}};return{format:function(e){return b(e)},normalize:function(e,a){return E(e,a)},onKeyDown:function(e){return x(e)},onChange:function(e){return x(e)},onFocus:function(e){return x(e)},onClick:function(e){return x(e)},autoComplete:"off"}}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={A:{regExp:/[A-Za-z]/,transform:function(e){return e.toUpperCase()}},a:{regExp:/[A-Za-z]/,transform:function(e){return e.toLowerCase()}},U:{regExp:/[A-Z]/},l:{regExp:/[a-z]/},9:{regExp:/[0-9]/}}}])}}]);
//# sourceMappingURL=107.2b9e273c.chunk.js.map