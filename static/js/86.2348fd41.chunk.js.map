{"version":3,"sources":["FICO/PembayaranSupplier.jsx"],"names":["PembayaranSupplierSimpan","lazy","PembayaranSupplier","props","inputChange","input","e","setState","target","value","date","Date","formatedDate","getFullYear","getMonth","getDate","state","listSupplier","tanggal","bonBayar","detail","tipeTransaksi","ready","noBon","getBon","this","dispatch","setTampungCiok","settampungRongsok","getUUID","multipleDeleteLocal","data","undefined","warning","supplier","localStorage","getItem","RosokKosong","kode_jenis","bruto","kadar_transaksi","netto","cashKosong","cash_rp","harga_emas","cash_netto","transferKosong","transfer_rp","transfer_netto","tanggal_transfer","acc_from","acc_to","bayarCiok","JSON","parse","bayarRosok","bayarTrf","bayarTitipRp","titip_rp","titip_netto","bayarTrfRp","bayarTunai","bayarTunaiRp","isi","kode_supplier","split","no_bon","no_bayar","noFaktur","type_bon","jumlah_hutang","totalHutangRP","totalHutangGr","replace","total_putus_titip","map","list","reduce","a","b","total_denda","Number","denda","total_hutang","detail_ciok","bayar_ciok","detail_rongsok","bayar_rongsok","detail_cash","bayar_cash","detail_titip","bayar_titip","detail_trf","bayar_trf","detail_giro","giro_rp","giro_netto","tanggal_giro","no_giro","bank_giro","bank_to","bayar_giro","setItem","stringify","progressSend","tableRows","content","formatRp","styles","halign","forEach","ticket","i","ticketData","formatGram","push","footer","colSpan","formatOptional","totalBayarCash","totalBayar","parseFloat","console","log","columTable","AxiosMasterPost","then","res","Swal","fire","position","icon","text","showConfirmButton","timer","finishSend","history","PrintNota","getUserID","getToday","window","back","catch","err","response","className","style","color","id","alert","role","type","data-dismiss","aria-label","aria-hidden","to","title","href","data-toggle","aria-expanded","onClick","fallback","width","height","tampungCiok","tampungRongsok","totalCiok","totalRongsok","totalBrutoCiok","totalBrutoRongsok","onSubmit","handleSubmit","jenisTransaksi","onSend","Component","connect","pembayaranSupplierList","provinsi","pembayaranSupplier","error","username"],"mappings":"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","file":"static/js/86.2348fd41.chunk.js","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  setTampungCiok,\r\n  settampungRongsok,\r\n} from \"../actions/pembayaranSupplierAction\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport PrintNota from \"../Stocking/Component/PrintNota\";\r\nimport { warning } from \"../Alert\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { finishSend, progressSend } from \"../actions/LogicAction\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport {\r\n  formatGram,\r\n  formatRp,\r\n  formatOptional,\r\n  getBon,\r\n  getUserID,\r\n  multipleDeleteLocal,\r\n} from \"../helper\";\r\nimport { getToday } from \"../GlobalComponent/function\";\r\n\r\nconst PembayaranSupplierSimpan = lazy(() =>\r\n  import(\"./PembayaranSupplierSimpan\")\r\n);\r\nconst maptoState = (state) => {\r\n  return {\r\n    pembayaranSupplierList: state.provinsi.pembayaranSupplier,\r\n    tampungCiok: state.provinsi.tampungCiok,\r\n    tampungRongsok: state.provinsi.tampungRongsok,\r\n    totalCiok: state.provinsi.totalCiok,\r\n    totalRongsok: state.provinsi.totalRongsok,\r\n    totalBrutoCiok: state.provinsi.totalBrutoCiok,\r\n    totalBrutoRongsok: state.provinsi.totalBrutoRongsok,\r\n    alert: state.provinsi.alert,\r\n    error: state.provinsi.error,\r\n    noFaktur: state.provinsi.noFaktur,\r\n    username: state.provinsi.username,\r\n    onSend: state.provinsi.onSend,\r\n  };\r\n};\r\nclass PembayaranSupplier extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var date = new Date();\r\n    var formatedDate = `${date.getFullYear()}-${\r\n      date.getMonth() + 1\r\n    }-${date.getDate()}`;\r\n    this.state = {\r\n      listSupplier: [],\r\n      tanggal: formatedDate,\r\n      bonBayar: \"\",\r\n      detail: \"\",\r\n      tipeTransaksi: \"BARANG\",\r\n      ready: false,\r\n      noBon: \"AS/TTP-\" + getBon()\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(setTampungCiok());\r\n    this.props.dispatch(settampungRongsok());\r\n    this.props.dispatch(getUUID());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    multipleDeleteLocal([\r\n      \"PrintPembayaranSupplier\",\r\n      \"totalTunaiRp\",\r\n      \"alatBayarTunai\",\r\n      \"totalTrfRp\",\r\n      \"alatBayarTrf\",\r\n      \"ciokTemp\",\r\n      \"alatBayarCiok\",\r\n      \"totalCiok\",\r\n      \"totalBrutoCiok\",\r\n      \"rongsokTemp\",\r\n      \"alatBayarRosok\",\r\n      \"totalRongsok\",\r\n      \"totalBrutoRongsok\",\r\n      \"listHutang\",\r\n      \"discount\",\r\n      \"bonus\",\r\n      \"denda\",\r\n      \"cashTempRp\",\r\n      \"alatBayarTunaiRp\",\r\n      \"transferTempRp\",\r\n      \"alatBayarTrfRp\",\r\n      \"noFaktur\",\r\n    ]);\r\n    this.setState({\r\n      ready: true,\r\n    });\r\n  }\r\n\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit(data) {\r\n   if (data.tanggal === undefined) {\r\n      warning(\"Mohon isi Tanggal\");\r\n      return false;\r\n    } else if (data.supplier === undefined) {\r\n      warning(\"Mohon isi Supplier\");\r\n      return false;\r\n    } else if (\r\n      localStorage.getItem(\"alatBayarCiok\") === null &&\r\n      localStorage.getItem(\"alatBayarRosok\") === null &&\r\n      localStorage.getItem(\"alatBayarTrf\") === null &&\r\n      localStorage.getItem(\"alatBayarTunai\") === null &&\r\n      localStorage.getItem(\"alatBayarTunaiRp\") === null &&\r\n      localStorage.getItem(\"alatBayarTrfRp\") === null\r\n    ) {\r\n      warning(\"Mohon Masukan Alat Pembayaran Paling Tidak 1 Jenis\");\r\n      return false;\r\n    }\r\n    var RosokKosong = {\r\n      kode_jenis: \"-\",\r\n      bruto: 0,\r\n      kadar_transaksi: 0,\r\n      netto: 0,\r\n    };\r\n    var cashKosong = {\r\n      cash_rp: 0,\r\n      harga_emas: 0,\r\n      cash_netto: 0,\r\n    };\r\n    var titipKosong = {\r\n      titip_rp: 0,\r\n      harga_emas: 0,\r\n      titip_netto: 0,\r\n    };\r\n    var transferKosong = {\r\n      transfer_rp: 0,\r\n      harga_emas: 0,\r\n      transfer_netto: 0,\r\n      tanggal_transfer: \"2021-01-01\",\r\n      acc_from: \"-\",\r\n      acc_to: \"-\",\r\n    };\r\n    var bayarCiok = JSON.parse(localStorage.getItem(\"alatBayarCiok\")) || [\r\n      RosokKosong,\r\n    ];\r\n    var bayarRosok = JSON.parse(localStorage.getItem(\"alatBayarRosok\")) || [\r\n      RosokKosong,\r\n    ];\r\n    var bayarTrf = JSON.parse(localStorage.getItem(\"alatBayarTrf\")) || [\r\n      transferKosong,\r\n    ];\r\n    var bayarTitipRp = JSON.parse(localStorage.getItem(\"alatBayarTitipRp\")) || [\r\n      titipKosong,\r\n    ];\r\n    var bayarTrfRp = JSON.parse(localStorage.getItem(\"alatBayarTrfRp\")) || [\r\n      transferKosong,\r\n    ];\r\n    var bayarTunai = JSON.parse(localStorage.getItem(\"alatBayarTunai\")) || [\r\n      cashKosong,\r\n    ];\r\n    var bayarTunaiRp = JSON.parse(localStorage.getItem(\"alatBayarTunaiRp\")) || [\r\n      cashKosong,\r\n    ];\r\n    var split = data.supplier ? data.supplier : \"DEFAULT | DEFUALT\";\r\n    var supplier = split.split(\"|\");\r\n    var isi = {\r\n      kode_supplier: supplier[0],\r\n      no_bon: this.state.noBon,\r\n      no_bayar: this.props.noFaktur,\r\n      tanggal: data.tanggal,\r\n      type_bon: this.state.tipeTransaksi === \"RUPIAH\" ? \"BON RP\" : \"BON GR\",\r\n      jumlah_hutang:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? data.totalHutangRP\r\n          : data.totalHutangGr.replace(\",\", \"\"),\r\n      total_putus_titip: this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? bayarTitipRp\r\n              .map((list) => list.titip_netto)\r\n              .reduce((a, b) => a + b, 0)\r\n          : localStorage.getItem(\"totalTitipRp\") || 0,\r\n      total_denda: Number(data.denda) || 0,\r\n      total_hutang:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? data.totalHutangRP\r\n          : data.totalHutangGr.replace(\",\", \"\"),\r\n      detail_ciok: bayarCiok,\r\n      bayar_ciok: localStorage.getItem(\"totalCiok\") || 0,\r\n      detail_rongsok: bayarRosok,\r\n      bayar_rongsok: localStorage.getItem(\"totalRongsok\") || 0,\r\n      detail_cash:\r\n        this.state.tipeTransaksi === \"RUPIAH\" ? bayarTunaiRp : bayarTunai,\r\n      bayar_cash:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? bayarTunaiRp\r\n              .map((list) => list.cash_netto)\r\n              .reduce((a, b) => a + b, 0)\r\n          : localStorage.getItem(\"totalTunaiRp\") || 0,\r\n      detail_titip:bayarTitipRp,\r\n      bayar_titip:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? bayarTitipRp\r\n              .map((list) => list.titip_netto)\r\n              .reduce((a, b) => a + b, 0)\r\n          : localStorage.getItem(\"totalTitipRp\") || 0,\r\n      detail_trf: this.state.tipeTransaksi === \"RUPIAH\" ? bayarTrfRp : bayarTrf,\r\n      bayar_trf:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? bayarTrfRp\r\n              .map((list) => list.transfer_netto)\r\n              .reduce((a, b) => a + b, 0)\r\n          : localStorage.getItem(\"totalTrfRp\") || 0,\r\n      detail_giro: [\r\n        {\r\n          giro_rp: 0,\r\n          harga_emas: 0,\r\n          giro_netto: 0,\r\n          tanggal_giro: \"-\",\r\n          no_giro: \"-\",\r\n          bank_giro: \"-\",\r\n          acc_to: \"-\",\r\n          bank_to: \"-\",\r\n        },\r\n      ],\r\n      bayar_giro: 0,\r\n    };\r\n    localStorage.setItem(\"notaPembayaranSupplier\", JSON.stringify(isi));\r\n    this.props.dispatch(progressSend());\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [\r\n      [\r\n        \"Tunai\",\r\n        \"-\",\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTunai[0]?.cash_rp !== 0\r\n                ? bayarTunai[0]?.cash_rp\r\n                : bayarTunaiRp[0]?.cash_rp\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTunai[0]?.harga_emas !== 0\r\n                ? bayarTunai[0]?.harga_emas\r\n                : bayarTunaiRp[0]?.harga_emas\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        \"\",\r\n        \"\",\r\n        \"\",\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTunai[0]?.cash_netto !== 0\r\n                ? bayarTunai[0]?.cash_netto\r\n                : bayarTunaiRp[0]?.cash_netto\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n      ],\r\n      [\r\n        \"Transfer\",\r\n        \"-\",\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTrf[0]?.transfer_rp !== 0\r\n                ? bayarTrf[0].transfer_rp\r\n                : bayarTrfRp[0].transfer_rp\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTrf[0]?.harga_emas !== 0\r\n                ? bayarTrf[0].harga_emas\r\n                : bayarTrfRp[0].harga_emas\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        \"\",\r\n        \"\",\r\n        \"\",\r\n        {\r\n          content:\r\n            formatRp(\r\n              bayarTrf[0]?.transfer_netto !== 0\r\n                ? bayarTrf[0].transfer_netto\r\n                : bayarTrfRp[0].transfer_netto\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n      ],\r\n      [\r\n        \"Titip\",\r\n        \"-\",\r\n        {\r\n          content: 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        {\r\n          content:\r\n            formatRp(bayarTitipRp[0].harga_emas\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n        \"\",\r\n        \"\",\r\n        \"\",\r\n        {\r\n          content:\r\n            formatRp(bayarTitipRp[0].titip_netto\r\n            ) || 0,\r\n          styles: { halign: \"right\" },\r\n        },\r\n      ],\r\n    ];\r\n    var ciok = JSON.parse(localStorage.getItem(\"ciokTemp\")) || [];\r\n    ciok.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        \"Ciok\",\r\n        ticket.kode_jenis,\r\n        { content: formatGram(ticket.bruto), styles: { halign: \"right\" } },\r\n        \"\",\r\n        { content: ticket.kadar_transaksi, styles: { halign: \"right\" } },\r\n        \"\",\r\n        \"\",\r\n        { content: formatGram(ticket.netto, 3), styles: { halign: \"right\" } },\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    var rongsok = JSON.parse(localStorage.getItem(\"rongsokTemp\")) || [];\r\n    rongsok.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        \"Rongsok\",\r\n        ticket.kode_jenis,\r\n        { content: formatGram(ticket.bruto), styles: { halign: \"right\" } },\r\n        \"\",\r\n        { content: ticket.kadar_transaksi, styles: { halign: \"right\" } },\r\n        \"\",\r\n        \"\",\r\n        { content: formatGram(ticket.netto, 3), styles: { halign: \"right\" } },\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    // var discount = [\r\n    //   \"DISCOUNT\",\r\n    //   \"DISCOUNT\",\r\n    //   formatGram(localStorage.getItem(\"discount\") !== null\r\n    //   ? localStorage.getItem(\"discount\")\r\n    //   : 0),\r\n    //   \"\",\r\n    //   \"\",\r\n    //   formatGram(localStorage.getItem(\"discount\") !== null\r\n    //   ? localStorage.getItem(\"discount\")\r\n    //   : 0),\r\n    //   \"\",\r\n    //   \"\",\r\n    // ];\r\n    // tableRows.push(discount);\r\n    // var bonus = [\r\n    //   \"BONUS\",\r\n    //   \"BONUS\",\r\n    //  formatGram( localStorage.getItem(\"bonus\") !== null\r\n    //  ? localStorage.getItem(\"bonus\")\r\n    //  : 0),\r\n    //   \"\",\r\n    //   \"\",\r\n    //   formatGram(localStorage.getItem(\"bonus\") !== null\r\n    //   ? localStorage.getItem(\"bonus\")\r\n    //   : 0),\r\n    //   \"\",\r\n    //   \"\",\r\n    // ];\r\n    // tableRows.push(bonus);\r\n    var denda = [\r\n      \"DENDA\",\r\n      \"DENDA\",\r\n      {\r\n        content: formatGram(\r\n          localStorage.getItem(\"denda\") !== null\r\n            ? localStorage.getItem(\"denda\")\r\n            : 0\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      {\r\n        content: formatGram(\r\n          localStorage.getItem(\"denda\") !== null\r\n            ? localStorage.getItem(\"denda\")\r\n            : 0\r\n        ),\r\n        styles: { halign: \"right\" },\r\n      },\r\n    ];\r\n    tableRows.push(denda);\r\n    var footer = [\r\n      [\r\n        { content: \"Saldo Awal\", styles: { halign: \"right\" }, colSpan: 7 },\r\n        formatOptional(this.state.tipeTransaksi === \"RUPIAH\"\r\n        ? data.totalHutangRP\r\n        : data.totalHutangGr.replace(\",\", \"\"))\r\n      ],\r\n      [\r\n        { content: \"Total Pembayaran\", styles: { halign: \"right\" }, colSpan: 7 },\r\n        formatOptional(this.state.tipeTransaksi === \"RUPIAH\"\r\n        ? data.totalBayarCash\r\n        : data.totalBayar.replace(\",\", \"\"))\r\n      ],\r\n      [\r\n        { content: \"Saldo Akhir\", styles: { halign: \"right\" }, colSpan: 7 },\r\n        formatOptional(this.state.tipeTransaksi === \"RUPIAH\"\r\n        ? parseFloat(data.totalHutangRP) - parseFloat(data.totalBayarCash)\r\n        : parseFloat(data.totalHutangGr.replace(\",\", \"\")) - parseFloat(data.totalBayar.replace(\",\", \"\")))\r\n      ]\r\n    ]\r\n    tableRows.push(...footer);\r\n    console.log(JSON.stringify(tableRows));\r\n    var columTable = [\r\n      [\r\n        \"Jenis \\nPembayaran\",\r\n        \"Nama \\nBarang\",\r\n        { content: \"Gross \\nBayar\", styles: { halign: \"right\" } },\r\n        { content: \"Harga\", styles: { halign: \"right\" } },\r\n        { content: \"Kadar\", styles: { halign: \"right\" } },\r\n        { content: \"Pkg\", styles: { halign: \"right\" } },\r\n        { content: \"Gw+Pkg\", styles: { halign: \"right\" } },\r\n        { content: \"Netto\", styles: { halign: \"right\" } },\r\n      ],\r\n    ];\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    console.log(JSON.stringify(isi));\r\n    // return false;\r\n    AxiosMasterPost(\"trx-supplier/bayar-hutang\", isi)\r\n      .then((res) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n          .then(() => this.props.dispatch(finishSend()))\r\n          .then(() =>\r\n            multipleDeleteLocal([\r\n              \"PrintPembayaranSupplier\",\r\n              \"totalTunaiRp\",\r\n              \"alatBayarTunai\",\r\n              \"alatBayarTitipRp\",\r\n              \"alatBayarTitip\",\r\n              \"totalTrfRp\",\r\n              \"alatBayarTrf\",\r\n              \"ciokTemp\",\r\n              \"alatBayarCiok\",\r\n              \"totalCiok\",\r\n              \"totalBrutoCiok\",\r\n              \"rongsokTemp\",\r\n              \"alatBayarRosok\",\r\n              \"totalRongsok\",\r\n              \"totalBrutoRongsok\",\r\n              \"listHutang\",\r\n              \"discount\",\r\n              \"bonus\",\r\n              \"denda\",\r\n              \"cashTempRp\",\r\n              \"alatBayarTunaiRp\",\r\n              \"transferTempRp\",\r\n              \"alatBayarTrfRp\",\r\n              \"noFaktur\",\r\n            ])\r\n          )\r\n          .then(() => localStorage.setItem(\"isLogin\", true))\r\n          .then(() => this.props.dispatch(getUUID()))\r\n          .then(() => this.props.history.push(\"KlasifikasiSupplier\"))\r\n          .then(() =>\r\n            PrintNota(\r\n              \"Tanggal\",\r\n              data.tanggal,\r\n              \"\",\r\n              \"\",\r\n              \"No Nota\",\r\n              this.state.noBon,\r\n              \"\",\r\n              \"\",\r\n              getUserID(),\r\n              getToday(),\r\n              \"\",\r\n              columTable,\r\n              \"NOTA PEMBAYARAN SUPPLIER\",\r\n              tableRows\r\n            )\r\n          )\r\n          .then(() => window.history.back())\r\n      )\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          text : err?.response?.data || \"Terjadi Kesalahan Internal, Silahkan Hubungi Admin\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then(() => this.props.dispatch(finishSend()))\r\n      );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\" style={{ color: \"black\" }}>\r\n        <div id=\"notif_alert\" className={this.props.alert} role=\"alert\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"close\"\r\n            data-dismiss=\"alert\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <span aria-hidden=\"true\">Ã—</span>\r\n          </button>\r\n          <strong>Error - </strong> Tidak Bisa Mengambil Data\r\n        </div>\r\n        <ol className=\"breadcrumb mb-2\">\r\n          <Link to=\"/KlasifikasiSupplier\">\r\n            <button type=\"button\" className=\"btn btn-secondary\">\r\n              <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i> Back\r\n            </button>\r\n          </Link>\r\n        </ol>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"card\">\r\n              <HeaderCard title=\"Pembayaran Hutang Supplier\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <ul className=\"nav nav-pills bg-nav-pills nav-justified mb-3\">\r\n                      <li className=\"nav-item\">\r\n                        <a\r\n                          href=\"#rupiah\"\r\n                          data-toggle=\"tab\"\r\n                          aria-expanded=\"false\"\r\n                          className=\"nav-link rounded-0 active\"\r\n                          onClick={() =>\r\n                            this.setState({\r\n                              tipeTransaksi: \"BARANG\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <i className=\"mdi mdi-home-variant d-lg-none d-block mr-1\" />\r\n                          <span className=\"d-none d-lg-block\">Gram</span>\r\n                        </a>\r\n                      </li>\r\n                      <li className=\"nav-item\">\r\n                        <a\r\n                          href=\"#gram\"\r\n                          data-toggle=\"tab\"\r\n                          aria-expanded=\"true\"\r\n                          className=\"nav-link rounded-0 \"\r\n                          onClick={() =>\r\n                            this.setState({\r\n                              tipeTransaksi: \"RUPIAH\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <i className=\"mdi mdi-account-circle d-lg-none d-block mr-1\" />\r\n                          <span className=\"d-none d-lg-block\">Rupiah</span>\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                    <div className=\"tab-content\">\r\n                      <div className=\"tab-pane show active\" id=\"rupiah\">\r\n                        <Suspense\r\n                          fallback={<Skeleton width={\"100%\"} height={200} />}\r\n                        >\r\n                          <PembayaranSupplierSimpan\r\n                            tampungCiok={this.props.tampungCiok}\r\n                            tampungRongsok={this.props.tampungRongsok}\r\n                            totalCiok={this.props.totalCiok}\r\n                            totalRongsok={this.props.totalRongsok}\r\n                            totalBrutoCiok={this.props.totalBrutoCiok}\r\n                            totalBrutoRongsok={this.props.totalBrutoRongsok}\r\n                            onSubmit={(data) => this.handleSubmit(data)}\r\n                            jenisTransaksi={this.state.tipeTransaksi}\r\n                            onSend={this.props.onSend}\r\n                          />\r\n                        </Suspense>\r\n                      </div>\r\n                      <div className=\"tab-pane\" id=\"gram\">\r\n                        <Suspense\r\n                          fallback={<Skeleton width={\"100%\"} height={200} />}\r\n                        >\r\n                          <PembayaranSupplierSimpan\r\n                            tampungCiok={this.props.tampungCiok}\r\n                            tampungRongsok={this.props.tampungRongsok}\r\n                            totalCiok={this.props.totalCiok}\r\n                            totalRongsok={this.props.totalRongsok}\r\n                            totalBrutoCiok={this.props.totalBrutoCiok}\r\n                            totalBrutoRongsok={this.props.totalBrutoRongsok}\r\n                            onSubmit={(data) => this.handleSubmit(data)}\r\n                            jenisTransaksi={this.state.tipeTransaksi}\r\n                            onSend={this.props.onSend}\r\n                          />\r\n                        </Suspense>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptoState, null)(PembayaranSupplier);\r\n"],"sourceRoot":""}